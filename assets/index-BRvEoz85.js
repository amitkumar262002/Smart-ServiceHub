function vR(s,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in s)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(s,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function xR(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var L1={exports:{}},Im={},O1={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=Symbol.for("react.element"),yR=Symbol.for("react.portal"),jR=Symbol.for("react.fragment"),NR=Symbol.for("react.strict_mode"),bR=Symbol.for("react.profiler"),wR=Symbol.for("react.provider"),SR=Symbol.for("react.context"),kR=Symbol.for("react.forward_ref"),_R=Symbol.for("react.suspense"),CR=Symbol.for("react.memo"),TR=Symbol.for("react.lazy"),UN=Symbol.iterator;function ER(s){return s===null||typeof s!="object"?null:(s=UN&&s[UN]||s["@@iterator"],typeof s=="function"?s:null)}var V1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F1=Object.assign,B1={};function cl(s,e,n){this.props=s,this.context=e,this.refs=B1,this.updater=n||V1}cl.prototype.isReactComponent={};cl.prototype.setState=function(s,e){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,e,"setState")};cl.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function U1(){}U1.prototype=cl.prototype;function cx(s,e,n){this.props=s,this.context=e,this.refs=B1,this.updater=n||V1}var dx=cx.prototype=new U1;dx.constructor=cx;F1(dx,cl.prototype);dx.isPureReactComponent=!0;var $N=Array.isArray,$1=Object.prototype.hasOwnProperty,ux={current:null},q1={key:!0,ref:!0,__self:!0,__source:!0};function z1(s,e,n){var i,r={},a=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)$1.call(e,i)&&!q1.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(s&&s.defaultProps)for(i in l=s.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:_d,type:s,key:a,ref:o,props:r,_owner:ux.current}}function PR(s,e){return{$$typeof:_d,type:s.type,key:e,ref:s.ref,props:s.props,_owner:s._owner}}function hx(s){return typeof s=="object"&&s!==null&&s.$$typeof===_d}function AR(s){var e={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(n){return e[n]})}var qN=/\/+/g;function Vp(s,e){return typeof s=="object"&&s!==null&&s.key!=null?AR(""+s.key):e.toString(36)}function Yu(s,e,n,i,r){var a=typeof s;(a==="undefined"||a==="boolean")&&(s=null);var o=!1;if(s===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(s.$$typeof){case _d:case yR:o=!0}}if(o)return o=s,r=r(o),s=i===""?"."+Vp(o,0):i,$N(r)?(n="",s!=null&&(n=s.replace(qN,"$&/")+"/"),Yu(r,e,n,"",function(d){return d})):r!=null&&(hx(r)&&(r=PR(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(qN,"$&/")+"/")+s)),e.push(r)),1;if(o=0,i=i===""?".":i+":",$N(s))for(var l=0;l<s.length;l++){a=s[l];var c=i+Vp(a,l);o+=Yu(a,e,n,c,r)}else if(c=ER(s),typeof c=="function")for(s=c.call(s),l=0;!(a=s.next()).done;)a=a.value,c=i+Vp(a,l++),o+=Yu(a,e,n,c,r);else if(a==="object")throw e=String(s),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ju(s,e,n){if(s==null)return s;var i=[],r=0;return Yu(s,i,"","",function(a){return e.call(n,a,r++)}),i}function RR(s){if(s._status===-1){var e=s._result;e=e(),e.then(function(n){(s._status===0||s._status===-1)&&(s._status=1,s._result=n)},function(n){(s._status===0||s._status===-1)&&(s._status=2,s._result=n)}),s._status===-1&&(s._status=0,s._result=e)}if(s._status===1)return s._result.default;throw s._result}var Ys={current:null},Ju={transition:null},IR={ReactCurrentDispatcher:Ys,ReactCurrentBatchConfig:Ju,ReactCurrentOwner:ux};function W1(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:ju,forEach:function(s,e,n){ju(s,function(){e.apply(this,arguments)},n)},count:function(s){var e=0;return ju(s,function(){e++}),e},toArray:function(s){return ju(s,function(e){return e})||[]},only:function(s){if(!hx(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};nt.Component=cl;nt.Fragment=jR;nt.Profiler=bR;nt.PureComponent=cx;nt.StrictMode=NR;nt.Suspense=_R;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IR;nt.act=W1;nt.cloneElement=function(s,e,n){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var i=F1({},s.props),r=s.key,a=s.ref,o=s._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=ux.current),e.key!==void 0&&(r=""+e.key),s.type&&s.type.defaultProps)var l=s.type.defaultProps;for(c in e)$1.call(e,c)&&!q1.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:_d,type:s.type,key:r,ref:a,props:i,_owner:o}};nt.createContext=function(s){return s={$$typeof:SR,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:wR,_context:s},s.Consumer=s};nt.createElement=z1;nt.createFactory=function(s){var e=z1.bind(null,s);return e.type=s,e};nt.createRef=function(){return{current:null}};nt.forwardRef=function(s){return{$$typeof:kR,render:s}};nt.isValidElement=hx;nt.lazy=function(s){return{$$typeof:TR,_payload:{_status:-1,_result:s},_init:RR}};nt.memo=function(s,e){return{$$typeof:CR,type:s,compare:e===void 0?null:e}};nt.startTransition=function(s){var e=Ju.transition;Ju.transition={};try{s()}finally{Ju.transition=e}};nt.unstable_act=W1;nt.useCallback=function(s,e){return Ys.current.useCallback(s,e)};nt.useContext=function(s){return Ys.current.useContext(s)};nt.useDebugValue=function(){};nt.useDeferredValue=function(s){return Ys.current.useDeferredValue(s)};nt.useEffect=function(s,e){return Ys.current.useEffect(s,e)};nt.useId=function(){return Ys.current.useId()};nt.useImperativeHandle=function(s,e,n){return Ys.current.useImperativeHandle(s,e,n)};nt.useInsertionEffect=function(s,e){return Ys.current.useInsertionEffect(s,e)};nt.useLayoutEffect=function(s,e){return Ys.current.useLayoutEffect(s,e)};nt.useMemo=function(s,e){return Ys.current.useMemo(s,e)};nt.useReducer=function(s,e,n){return Ys.current.useReducer(s,e,n)};nt.useRef=function(s){return Ys.current.useRef(s)};nt.useState=function(s){return Ys.current.useState(s)};nt.useSyncExternalStore=function(s,e,n){return Ys.current.useSyncExternalStore(s,e,n)};nt.useTransition=function(){return Ys.current.useTransition()};nt.version="18.3.1";O1.exports=nt;var f=O1.exports;const mx=xR(f),DR=vR({__proto__:null,default:mx},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR=f,LR=Symbol.for("react.element"),OR=Symbol.for("react.fragment"),VR=Object.prototype.hasOwnProperty,FR=MR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BR={key:!0,ref:!0,__self:!0,__source:!0};function H1(s,e,n){var i,r={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)VR.call(e,i)&&!BR.hasOwnProperty(i)&&(r[i]=e[i]);if(s&&s.defaultProps)for(i in e=s.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:LR,type:s,key:a,ref:o,props:r,_owner:FR.current}}Im.Fragment=OR;Im.jsx=H1;Im.jsxs=H1;L1.exports=Im;var t=L1.exports,Xf={},G1={exports:{}},xn={},K1={exports:{}},Q1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function e(q,P){var G=q.length;q.push(P);e:for(;0<G;){var U=G-1>>>1,re=q[U];if(0<r(re,P))q[U]=P,q[G]=re,G=U;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var P=q[0],G=q.pop();if(G!==P){q[0]=G;e:for(var U=0,re=q.length,W=re>>>1;U<W;){var xe=2*(U+1)-1,Ce=q[xe],Fe=xe+1,Me=q[Fe];if(0>r(Ce,G))Fe<re&&0>r(Me,Ce)?(q[U]=Me,q[Fe]=G,U=Fe):(q[U]=Ce,q[xe]=G,U=xe);else if(Fe<re&&0>r(Me,G))q[U]=Me,q[Fe]=G,U=Fe;else break e}}return P}function r(q,P){var G=q.sortIndex-P.sortIndex;return G!==0?G:q.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;s.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();s.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,p=3,g=!1,x=!1,j=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(q){for(var P=n(d);P!==null;){if(P.callback===null)i(d);else if(P.startTime<=q)i(d),P.sortIndex=P.expirationTime,e(c,P);else break;P=n(d)}}function I(q){if(j=!1,C(q),!x)if(n(c)!==null)x=!0,Z(D);else{var P=n(d);P!==null&&Q(I,P.startTime-q)}}function D(q,P){x=!1,j&&(j=!1,b(k),k=-1),g=!0;var G=p;try{for(C(P),m=n(c);m!==null&&(!(m.expirationTime>P)||q&&!S());){var U=m.callback;if(typeof U=="function"){m.callback=null,p=m.priorityLevel;var re=U(m.expirationTime<=P);P=s.unstable_now(),typeof re=="function"?m.callback=re:m===n(c)&&i(c),C(P)}else i(c);m=n(c)}if(m!==null)var W=!0;else{var xe=n(d);xe!==null&&Q(I,xe.startTime-P),W=!1}return W}finally{m=null,p=G,g=!1}}var $=!1,E=null,k=-1,_=5,T=-1;function S(){return!(s.unstable_now()-T<_)}function F(){if(E!==null){var q=s.unstable_now();T=q;var P=!0;try{P=E(!0,q)}finally{P?L():($=!1,E=null)}}else $=!1}var L;if(typeof N=="function")L=function(){N(F)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,A=oe.port2;oe.port1.onmessage=F,L=function(){A.postMessage(null)}}else L=function(){v(F,0)};function Z(q){E=q,$||($=!0,L())}function Q(q,P){k=v(function(){q(s.unstable_now())},P)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_continueExecution=function(){x||g||(x=!0,Z(D))},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return p},s.unstable_getFirstCallbackNode=function(){return n(c)},s.unstable_next=function(q){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var G=p;p=P;try{return q()}finally{p=G}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(q,P){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var G=p;p=q;try{return P()}finally{p=G}},s.unstable_scheduleCallback=function(q,P,G){var U=s.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?U+G:U):G=U,q){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=G+re,q={id:h++,callback:P,priorityLevel:q,startTime:G,expirationTime:re,sortIndex:-1},G>U?(q.sortIndex=G,e(d,q),n(c)===null&&q===n(d)&&(j?(b(k),k=-1):j=!0,Q(I,G-U))):(q.sortIndex=re,e(c,q),x||g||(x=!0,Z(D))),q},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(q){var P=p;return function(){var G=p;p=P;try{return q.apply(this,arguments)}finally{p=G}}}})(Q1);K1.exports=Q1;var UR=K1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R=f,vn=UR;function fe(s){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+s,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+s+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y1=new Set,Oc={};function Fa(s,e){Fo(s,e),Fo(s+"Capture",e)}function Fo(s,e){for(Oc[s]=e,s=0;s<e.length;s++)Y1.add(e[s])}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zf=Object.prototype.hasOwnProperty,qR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zN={},WN={};function zR(s){return Zf.call(WN,s)?!0:Zf.call(zN,s)?!1:qR.test(s)?WN[s]=!0:(zN[s]=!0,!1)}function WR(s,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function HR(s,e,n,i){if(e===null||typeof e>"u"||WR(s,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Js(s,e,n,i,r,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=s,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Cs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){Cs[s]=new Js(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var e=s[0];Cs[e]=new Js(e,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){Cs[s]=new Js(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){Cs[s]=new Js(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){Cs[s]=new Js(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){Cs[s]=new Js(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){Cs[s]=new Js(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){Cs[s]=new Js(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){Cs[s]=new Js(s,5,!1,s.toLowerCase(),null,!1,!1)});var px=/[\-:]([a-z])/g;function fx(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var e=s.replace(px,fx);Cs[e]=new Js(e,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var e=s.replace(px,fx);Cs[e]=new Js(e,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var e=s.replace(px,fx);Cs[e]=new Js(e,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){Cs[s]=new Js(s,1,!1,s.toLowerCase(),null,!1,!1)});Cs.xlinkHref=new Js("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){Cs[s]=new Js(s,1,!1,s.toLowerCase(),null,!0,!0)});function gx(s,e,n,i){var r=Cs.hasOwnProperty(e)?Cs[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HR(e,n,r,i)&&(n=null),i||r===null?zR(e)&&(n===null?s.removeAttribute(e):s.setAttribute(e,""+n)):r.mustUseProperty?s[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?s.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?s.setAttributeNS(i,e,n):s.setAttribute(e,n))))}var Xi=$R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),oo=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),vx=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),J1=Symbol.for("react.provider"),X1=Symbol.for("react.context"),xx=Symbol.for("react.forward_ref"),tg=Symbol.for("react.suspense"),sg=Symbol.for("react.suspense_list"),yx=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),Z1=Symbol.for("react.offscreen"),HN=Symbol.iterator;function $l(s){return s===null||typeof s!="object"?null:(s=HN&&s[HN]||s["@@iterator"],typeof s=="function"?s:null)}var Wt=Object.assign,Fp;function nc(s){if(Fp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fp=e&&e[1]||""}return`
`+Fp+s}var Bp=!1;function Up(s,e){if(!s||Bp)return"";Bp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(s,[],e)}else{try{e.call()}catch(d){i=d}s.call(e.prototype)}else{try{throw Error()}catch(d){i=d}s()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),a=i.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return s.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",s.displayName)),c}while(1<=o&&0<=l);break}}}finally{Bp=!1,Error.prepareStackTrace=n}return(s=s?s.displayName||s.name:"")?nc(s):""}function GR(s){switch(s.tag){case 5:return nc(s.type);case 16:return nc("Lazy");case 13:return nc("Suspense");case 19:return nc("SuspenseList");case 0:case 2:case 15:return s=Up(s.type,!1),s;case 11:return s=Up(s.type.render,!1),s;case 1:return s=Up(s.type,!0),s;default:return""}}function ng(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case lo:return"Fragment";case oo:return"Portal";case eg:return"Profiler";case vx:return"StrictMode";case tg:return"Suspense";case sg:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case X1:return(s.displayName||"Context")+".Consumer";case J1:return(s._context.displayName||"Context")+".Provider";case xx:var e=s.render;return s=s.displayName,s||(s=e.displayName||e.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case yx:return e=s.displayName||null,e!==null?e:ng(s.type)||"Memo";case ur:e=s._payload,s=s._init;try{return ng(s(e))}catch{}}return null}function KR(s){var e=s.type;switch(s.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=e.render,s=s.displayName||s.name||"",e.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ng(e);case 8:return e===vx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ek(s){var e=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QR(s){var e=ek(s)?"checked":"value",n=Object.getOwnPropertyDescriptor(s.constructor.prototype,e),i=""+s[e];if(!s.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(s,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,a.call(this,o)}}),Object.defineProperty(s,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){s._valueTracker=null,delete s[e]}}}}function bu(s){s._valueTracker||(s._valueTracker=QR(s))}function tk(s){if(!s)return!1;var e=s._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return s&&(i=ek(s)?s.checked?"true":"false":s.value),s=i,s!==n?(e.setValue(s),!0):!1}function Sh(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ig(s,e){var n=e.checked;return Wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??s._wrapperState.initialChecked})}function GN(s,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),s._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sk(s,e){e=e.checked,e!=null&&gx(s,"checked",e,!1)}function rg(s,e){sk(s,e);var n=Or(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&s.value===""||s.value!=n)&&(s.value=""+n):s.value!==""+n&&(s.value=""+n);else if(i==="submit"||i==="reset"){s.removeAttribute("value");return}e.hasOwnProperty("value")?ag(s,e.type,n):e.hasOwnProperty("defaultValue")&&ag(s,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(s.defaultChecked=!!e.defaultChecked)}function KN(s,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+s._wrapperState.initialValue,n||e===s.value||(s.value=e),s.defaultValue=e}n=s.name,n!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,n!==""&&(s.name=n)}function ag(s,e,n){(e!=="number"||Sh(s.ownerDocument)!==s)&&(n==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+n&&(s.defaultValue=""+n))}var ic=Array.isArray;function _o(s,e,n,i){if(s=s.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<s.length;n++)r=e.hasOwnProperty("$"+s[n].value),s[n].selected!==r&&(s[n].selected=r),r&&i&&(s[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,r=0;r<s.length;r++){if(s[r].value===n){s[r].selected=!0,i&&(s[r].defaultSelected=!0);return}e!==null||s[r].disabled||(e=s[r])}e!==null&&(e.selected=!0)}}function og(s,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Wt({},e,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function QN(s,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(ic(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}s._wrapperState={initialValue:Or(n)}}function nk(s,e){var n=Or(e.value),i=Or(e.defaultValue);n!=null&&(n=""+n,n!==s.value&&(s.value=n),e.defaultValue==null&&s.defaultValue!==n&&(s.defaultValue=n)),i!=null&&(s.defaultValue=""+i)}function YN(s){var e=s.textContent;e===s._wrapperState.initialValue&&e!==""&&e!==null&&(s.value=e)}function ik(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lg(s,e){return s==null||s==="http://www.w3.org/1999/xhtml"?ik(e):s==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var wu,rk=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return s(e,n,i,r)})}:s}(function(s,e){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=e;else{for(wu=wu||document.createElement("div"),wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wu.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;e.firstChild;)s.appendChild(e.firstChild)}});function Vc(s,e){if(e){var n=s.firstChild;if(n&&n===s.lastChild&&n.nodeType===3){n.nodeValue=e;return}}s.textContent=e}var mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YR=["Webkit","ms","Moz","O"];Object.keys(mc).forEach(function(s){YR.forEach(function(e){e=e+s.charAt(0).toUpperCase()+s.substring(1),mc[e]=mc[s]})});function ak(s,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mc.hasOwnProperty(s)&&mc[s]?(""+e).trim():e+"px"}function ok(s,e){s=s.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=ak(n,e[n],i);n==="float"&&(n="cssFloat"),i?s.setProperty(n,r):s[n]=r}}var JR=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cg(s,e){if(e){if(JR[s]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,s));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function dg(s,e){if(s.indexOf("-")===-1)return typeof e.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ug=null;function jx(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var hg=null,Co=null,To=null;function JN(s){if(s=Ed(s)){if(typeof hg!="function")throw Error(fe(280));var e=s.stateNode;e&&(e=Vm(e),hg(s.stateNode,s.type,e))}}function lk(s){Co?To?To.push(s):To=[s]:Co=s}function ck(){if(Co){var s=Co,e=To;if(To=Co=null,JN(s),e)for(s=0;s<e.length;s++)JN(e[s])}}function dk(s,e){return s(e)}function uk(){}var $p=!1;function hk(s,e,n){if($p)return s(e,n);$p=!0;try{return dk(s,e,n)}finally{$p=!1,(Co!==null||To!==null)&&(uk(),ck())}}function Fc(s,e){var n=s.stateNode;if(n===null)return null;var i=Vm(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(s=s.type,i=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!i;break e;default:s=!1}if(s)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var mg=!1;if(Bi)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){mg=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{mg=!1}function XR(s,e,n,i,r,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var pc=!1,kh=null,_h=!1,pg=null,ZR={onError:function(s){pc=!0,kh=s}};function eI(s,e,n,i,r,a,o,l,c){pc=!1,kh=null,XR.apply(ZR,arguments)}function tI(s,e,n,i,r,a,o,l,c){if(eI.apply(this,arguments),pc){if(pc){var d=kh;pc=!1,kh=null}else throw Error(fe(198));_h||(_h=!0,pg=d)}}function Ba(s){var e=s,n=s;if(s.alternate)for(;e.return;)e=e.return;else{s=e;do e=s,e.flags&4098&&(n=e.return),s=e.return;while(s)}return e.tag===3?n:null}function mk(s){if(s.tag===13){var e=s.memoizedState;if(e===null&&(s=s.alternate,s!==null&&(e=s.memoizedState)),e!==null)return e.dehydrated}return null}function XN(s){if(Ba(s)!==s)throw Error(fe(188))}function sI(s){var e=s.alternate;if(!e){if(e=Ba(s),e===null)throw Error(fe(188));return e!==s?null:s}for(var n=s,i=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return XN(r),s;if(a===i)return XN(r),e;a=a.sibling}throw Error(fe(188))}if(n.return!==i.return)n=r,i=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=a;break}if(l===i){o=!0,i=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=r;break}if(l===i){o=!0,i=a,n=r;break}l=l.sibling}if(!o)throw Error(fe(189))}}if(n.alternate!==i)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?s:e}function pk(s){return s=sI(s),s!==null?fk(s):null}function fk(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var e=fk(s);if(e!==null)return e;s=s.sibling}return null}var gk=vn.unstable_scheduleCallback,ZN=vn.unstable_cancelCallback,nI=vn.unstable_shouldYield,iI=vn.unstable_requestPaint,Zt=vn.unstable_now,rI=vn.unstable_getCurrentPriorityLevel,Nx=vn.unstable_ImmediatePriority,vk=vn.unstable_UserBlockingPriority,Ch=vn.unstable_NormalPriority,aI=vn.unstable_LowPriority,xk=vn.unstable_IdlePriority,Dm=null,ni=null;function oI(s){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(Dm,s,void 0,(s.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:dI,lI=Math.log,cI=Math.LN2;function dI(s){return s>>>=0,s===0?32:31-(lI(s)/cI|0)|0}var Su=64,ku=4194304;function rc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Th(s,e){var n=s.pendingLanes;if(n===0)return 0;var i=0,r=s.suspendedLanes,a=s.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?i=rc(l):(a&=o,a!==0&&(i=rc(a)))}else o=n&~r,o!==0?i=rc(o):a!==0&&(i=rc(a));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if(i&4&&(i|=n&16),e=s.entangledLanes,e!==0)for(s=s.entanglements,e&=i;0<e;)n=31-Hn(e),r=1<<n,i|=s[n],e&=~r;return i}function uI(s,e){switch(s){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hI(s,e){for(var n=s.suspendedLanes,i=s.pingedLanes,r=s.expirationTimes,a=s.pendingLanes;0<a;){var o=31-Hn(a),l=1<<o,c=r[o];c===-1?(!(l&n)||l&i)&&(r[o]=uI(l,e)):c<=e&&(s.expiredLanes|=l),a&=~l}}function fg(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yk(){var s=Su;return Su<<=1,!(Su&4194240)&&(Su=64),s}function qp(s){for(var e=[],n=0;31>n;n++)e.push(s);return e}function Cd(s,e,n){s.pendingLanes|=e,e!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,e=31-Hn(e),s[e]=n}function mI(s,e){var n=s.pendingLanes&~e;s.pendingLanes=e,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=e,s.mutableReadLanes&=e,s.entangledLanes&=e,e=s.entanglements;var i=s.eventTimes;for(s=s.expirationTimes;0<n;){var r=31-Hn(n),a=1<<r;e[r]=0,i[r]=-1,s[r]=-1,n&=~a}}function bx(s,e){var n=s.entangledLanes|=e;for(s=s.entanglements;n;){var i=31-Hn(n),r=1<<i;r&e|s[i]&e&&(s[i]|=e),n&=~r}}var St=0;function jk(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Nk,wx,bk,wk,Sk,gg=!1,_u=[],br=null,wr=null,Sr=null,Bc=new Map,Uc=new Map,mr=[],pI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e0(s,e){switch(s){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(e.pointerId)}}function zl(s,e,n,i,r,a){return s===null||s.nativeEvent!==a?(s={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},e!==null&&(e=Ed(e),e!==null&&wx(e)),s):(s.eventSystemFlags|=i,e=s.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),s)}function fI(s,e,n,i,r){switch(e){case"focusin":return br=zl(br,s,e,n,i,r),!0;case"dragenter":return wr=zl(wr,s,e,n,i,r),!0;case"mouseover":return Sr=zl(Sr,s,e,n,i,r),!0;case"pointerover":var a=r.pointerId;return Bc.set(a,zl(Bc.get(a)||null,s,e,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Uc.set(a,zl(Uc.get(a)||null,s,e,n,i,r)),!0}return!1}function kk(s){var e=aa(s.target);if(e!==null){var n=Ba(e);if(n!==null){if(e=n.tag,e===13){if(e=mk(n),e!==null){s.blockedOn=e,Sk(s.priority,function(){bk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){s.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xu(s){if(s.blockedOn!==null)return!1;for(var e=s.targetContainers;0<e.length;){var n=vg(s.domEventName,s.eventSystemFlags,e[0],s.nativeEvent);if(n===null){n=s.nativeEvent;var i=new n.constructor(n.type,n);ug=i,n.target.dispatchEvent(i),ug=null}else return e=Ed(n),e!==null&&wx(e),s.blockedOn=n,!1;e.shift()}return!0}function t0(s,e,n){Xu(s)&&n.delete(e)}function gI(){gg=!1,br!==null&&Xu(br)&&(br=null),wr!==null&&Xu(wr)&&(wr=null),Sr!==null&&Xu(Sr)&&(Sr=null),Bc.forEach(t0),Uc.forEach(t0)}function Wl(s,e){s.blockedOn===e&&(s.blockedOn=null,gg||(gg=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,gI)))}function $c(s){function e(r){return Wl(r,s)}if(0<_u.length){Wl(_u[0],s);for(var n=1;n<_u.length;n++){var i=_u[n];i.blockedOn===s&&(i.blockedOn=null)}}for(br!==null&&Wl(br,s),wr!==null&&Wl(wr,s),Sr!==null&&Wl(Sr,s),Bc.forEach(e),Uc.forEach(e),n=0;n<mr.length;n++)i=mr[n],i.blockedOn===s&&(i.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)kk(n),n.blockedOn===null&&mr.shift()}var Eo=Xi.ReactCurrentBatchConfig,Eh=!0;function vI(s,e,n,i){var r=St,a=Eo.transition;Eo.transition=null;try{St=1,Sx(s,e,n,i)}finally{St=r,Eo.transition=a}}function xI(s,e,n,i){var r=St,a=Eo.transition;Eo.transition=null;try{St=4,Sx(s,e,n,i)}finally{St=r,Eo.transition=a}}function Sx(s,e,n,i){if(Eh){var r=vg(s,e,n,i);if(r===null)Zp(s,e,i,Ph,n),e0(s,i);else if(fI(r,s,e,n,i))i.stopPropagation();else if(e0(s,i),e&4&&-1<pI.indexOf(s)){for(;r!==null;){var a=Ed(r);if(a!==null&&Nk(a),a=vg(s,e,n,i),a===null&&Zp(s,e,i,Ph,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else Zp(s,e,i,null,n)}}var Ph=null;function vg(s,e,n,i){if(Ph=null,s=jx(i),s=aa(s),s!==null)if(e=Ba(s),e===null)s=null;else if(n=e.tag,n===13){if(s=mk(e),s!==null)return s;s=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;s=null}else e!==s&&(s=null);return Ph=s,null}function _k(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rI()){case Nx:return 1;case vk:return 4;case Ch:case aI:return 16;case xk:return 536870912;default:return 16}default:return 16}}var xr=null,kx=null,Zu=null;function Ck(){if(Zu)return Zu;var s,e=kx,n=e.length,i,r="value"in xr?xr.value:xr.textContent,a=r.length;for(s=0;s<n&&e[s]===r[s];s++);var o=n-s;for(i=1;i<=o&&e[n-i]===r[a-i];i++);return Zu=r.slice(s,1<i?1-i:void 0)}function eh(s){var e=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&e===13&&(s=13)):s=e,s===10&&(s=13),32<=s||s===13?s:0}function Cu(){return!0}function s0(){return!1}function yn(s){function e(n,i,r,a,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in s)s.hasOwnProperty(l)&&(n=s[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cu:s0,this.isPropagationStopped=s0,this}return Wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),e}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_x=yn(dl),Td=Wt({},dl,{view:0,detail:0}),yI=yn(Td),zp,Wp,Hl,Mm=Wt({},Td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cx,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hl&&(Hl&&s.type==="mousemove"?(zp=s.screenX-Hl.screenX,Wp=s.screenY-Hl.screenY):Wp=zp=0,Hl=s),zp)},movementY:function(s){return"movementY"in s?s.movementY:Wp}}),n0=yn(Mm),jI=Wt({},Mm,{dataTransfer:0}),NI=yn(jI),bI=Wt({},Td,{relatedTarget:0}),Hp=yn(bI),wI=Wt({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),SI=yn(wI),kI=Wt({},dl,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_I=yn(kI),CI=Wt({},dl,{data:0}),i0=yn(CI),TI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AI(s){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(s):(s=PI[s])?!!e[s]:!1}function Cx(){return AI}var RI=Wt({},Td,{key:function(s){if(s.key){var e=TI[s.key]||s.key;if(e!=="Unidentified")return e}return s.type==="keypress"?(s=eh(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?EI[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cx,charCode:function(s){return s.type==="keypress"?eh(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?eh(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),II=yn(RI),DI=Wt({},Mm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r0=yn(DI),MI=Wt({},Td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cx}),LI=yn(MI),OI=Wt({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),VI=yn(OI),FI=Wt({},Mm,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),BI=yn(FI),UI=[9,13,27,32],Tx=Bi&&"CompositionEvent"in window,fc=null;Bi&&"documentMode"in document&&(fc=document.documentMode);var $I=Bi&&"TextEvent"in window&&!fc,Tk=Bi&&(!Tx||fc&&8<fc&&11>=fc),a0=" ",o0=!1;function Ek(s,e){switch(s){case"keyup":return UI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pk(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var co=!1;function qI(s,e){switch(s){case"compositionend":return Pk(e);case"keypress":return e.which!==32?null:(o0=!0,a0);case"textInput":return s=e.data,s===a0&&o0?null:s;default:return null}}function zI(s,e){if(co)return s==="compositionend"||!Tx&&Ek(s,e)?(s=Ck(),Zu=kx=xr=null,co=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tk&&e.locale!=="ko"?null:e.data;default:return null}}var WI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l0(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e==="input"?!!WI[s.type]:e==="textarea"}function Ak(s,e,n,i){lk(i),e=Ah(e,"onChange"),0<e.length&&(n=new _x("onChange","change",null,n,i),s.push({event:n,listeners:e}))}var gc=null,qc=null;function HI(s){$k(s,0)}function Lm(s){var e=mo(s);if(tk(e))return s}function GI(s,e){if(s==="change")return e}var Rk=!1;if(Bi){var Gp;if(Bi){var Kp="oninput"in document;if(!Kp){var c0=document.createElement("div");c0.setAttribute("oninput","return;"),Kp=typeof c0.oninput=="function"}Gp=Kp}else Gp=!1;Rk=Gp&&(!document.documentMode||9<document.documentMode)}function d0(){gc&&(gc.detachEvent("onpropertychange",Ik),qc=gc=null)}function Ik(s){if(s.propertyName==="value"&&Lm(qc)){var e=[];Ak(e,qc,s,jx(s)),hk(HI,e)}}function KI(s,e,n){s==="focusin"?(d0(),gc=e,qc=n,gc.attachEvent("onpropertychange",Ik)):s==="focusout"&&d0()}function QI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lm(qc)}function YI(s,e){if(s==="click")return Lm(e)}function JI(s,e){if(s==="input"||s==="change")return Lm(e)}function XI(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var Yn=typeof Object.is=="function"?Object.is:XI;function zc(s,e){if(Yn(s,e))return!0;if(typeof s!="object"||s===null||typeof e!="object"||e===null)return!1;var n=Object.keys(s),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Zf.call(e,r)||!Yn(s[r],e[r]))return!1}return!0}function u0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function h0(s,e){var n=u0(s);s=0;for(var i;n;){if(n.nodeType===3){if(i=s+n.textContent.length,s<=e&&i>=e)return{node:n,offset:e-s};s=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u0(n)}}function Dk(s,e){return s&&e?s===e?!0:s&&s.nodeType===3?!1:e&&e.nodeType===3?Dk(s,e.parentNode):"contains"in s?s.contains(e):s.compareDocumentPosition?!!(s.compareDocumentPosition(e)&16):!1:!1}function Mk(){for(var s=window,e=Sh();e instanceof s.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)s=e.contentWindow;else break;e=Sh(s.document)}return e}function Ex(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e&&(e==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||e==="textarea"||s.contentEditable==="true")}function ZI(s){var e=Mk(),n=s.focusedElem,i=s.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dk(n.ownerDocument.documentElement,n)){if(i!==null&&Ex(n)){if(e=i.start,s=i.end,s===void 0&&(s=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(s,n.value.length);else if(s=(e=n.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=i.end===void 0?a:Math.min(i.end,r),!s.extend&&a>i&&(r=i,i=a,a=r),r=h0(n,a);var o=h0(n,i);r&&o&&(s.rangeCount!==1||s.anchorNode!==r.node||s.anchorOffset!==r.offset||s.focusNode!==o.node||s.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),s.removeAllRanges(),a>i?(s.addRange(e),s.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),s.addRange(e)))}}for(e=[],s=n;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)s=e[n],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var eD=Bi&&"documentMode"in document&&11>=document.documentMode,uo=null,xg=null,vc=null,yg=!1;function m0(s,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yg||uo==null||uo!==Sh(i)||(i=uo,"selectionStart"in i&&Ex(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),vc&&zc(vc,i)||(vc=i,i=Ah(xg,"onSelect"),0<i.length&&(e=new _x("onSelect","select",null,e,n),s.push({event:e,listeners:i}),e.target=uo)))}function Tu(s,e){var n={};return n[s.toLowerCase()]=e.toLowerCase(),n["Webkit"+s]="webkit"+e,n["Moz"+s]="moz"+e,n}var ho={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},Qp={},Lk={};Bi&&(Lk=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function Om(s){if(Qp[s])return Qp[s];if(!ho[s])return s;var e=ho[s],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lk)return Qp[s]=e[n];return s}var Ok=Om("animationend"),Vk=Om("animationiteration"),Fk=Om("animationstart"),Bk=Om("transitionend"),Uk=new Map,p0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(s,e){Uk.set(s,e),Fa(e,[s])}for(var Yp=0;Yp<p0.length;Yp++){var Jp=p0[Yp],tD=Jp.toLowerCase(),sD=Jp[0].toUpperCase()+Jp.slice(1);Hr(tD,"on"+sD)}Hr(Ok,"onAnimationEnd");Hr(Vk,"onAnimationIteration");Hr(Fk,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(Bk,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function f0(s,e,n){var i=s.type||"unknown-event";s.currentTarget=n,tI(i,e,void 0,s),s.currentTarget=null}function $k(s,e){e=(e&4)!==0;for(var n=0;n<s.length;n++){var i=s[n],r=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;f0(r,l,d),a=c}else for(o=0;o<i.length;o++){if(l=i[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;f0(r,l,d),a=c}}}if(_h)throw s=pg,_h=!1,pg=null,s}function Dt(s,e){var n=e[Sg];n===void 0&&(n=e[Sg]=new Set);var i=s+"__bubble";n.has(i)||(qk(e,s,2,!1),n.add(i))}function Xp(s,e,n){var i=0;e&&(i|=4),qk(n,s,i,e)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Wc(s){if(!s[Eu]){s[Eu]=!0,Y1.forEach(function(n){n!=="selectionchange"&&(nD.has(n)||Xp(n,!1,s),Xp(n,!0,s))});var e=s.nodeType===9?s:s.ownerDocument;e===null||e[Eu]||(e[Eu]=!0,Xp("selectionchange",!1,e))}}function qk(s,e,n,i){switch(_k(e)){case 1:var r=vI;break;case 4:r=xI;break;default:r=Sx}n=r.bind(null,e,n,s),r=void 0,!mg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?s.addEventListener(e,n,{capture:!0,passive:r}):s.addEventListener(e,n,!0):r!==void 0?s.addEventListener(e,n,{passive:r}):s.addEventListener(e,n,!1)}function Zp(s,e,n,i,r){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=aa(l),o===null)return;if(c=o.tag,c===5||c===6){i=a=o;continue e}l=l.parentNode}}i=i.return}hk(function(){var d=a,h=jx(n),m=[];e:{var p=Uk.get(s);if(p!==void 0){var g=_x,x=s;switch(s){case"keypress":if(eh(n)===0)break e;case"keydown":case"keyup":g=II;break;case"focusin":x="focus",g=Hp;break;case"focusout":x="blur",g=Hp;break;case"beforeblur":case"afterblur":g=Hp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=n0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=NI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=LI;break;case Ok:case Vk:case Fk:g=SI;break;case Bk:g=VI;break;case"scroll":g=yI;break;case"wheel":g=BI;break;case"copy":case"cut":case"paste":g=_I;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=r0}var j=(e&4)!==0,v=!j&&s==="scroll",b=j?p!==null?p+"Capture":null:p;j=[];for(var N=d,C;N!==null;){C=N;var I=C.stateNode;if(C.tag===5&&I!==null&&(C=I,b!==null&&(I=Fc(N,b),I!=null&&j.push(Hc(N,I,C)))),v)break;N=N.return}0<j.length&&(p=new g(p,x,null,n,h),m.push({event:p,listeners:j}))}}if(!(e&7)){e:{if(p=s==="mouseover"||s==="pointerover",g=s==="mouseout"||s==="pointerout",p&&n!==ug&&(x=n.relatedTarget||n.fromElement)&&(aa(x)||x[Ui]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=d,x=x?aa(x):null,x!==null&&(v=Ba(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=d),g!==x)){if(j=n0,I="onMouseLeave",b="onMouseEnter",N="mouse",(s==="pointerout"||s==="pointerover")&&(j=r0,I="onPointerLeave",b="onPointerEnter",N="pointer"),v=g==null?p:mo(g),C=x==null?p:mo(x),p=new j(I,N+"leave",g,n,h),p.target=v,p.relatedTarget=C,I=null,aa(h)===d&&(j=new j(b,N+"enter",x,n,h),j.target=C,j.relatedTarget=v,I=j),v=I,g&&x)t:{for(j=g,b=x,N=0,C=j;C;C=Ja(C))N++;for(C=0,I=b;I;I=Ja(I))C++;for(;0<N-C;)j=Ja(j),N--;for(;0<C-N;)b=Ja(b),C--;for(;N--;){if(j===b||b!==null&&j===b.alternate)break t;j=Ja(j),b=Ja(b)}j=null}else j=null;g!==null&&g0(m,p,g,j,!1),x!==null&&v!==null&&g0(m,v,x,j,!0)}}e:{if(p=d?mo(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=GI;else if(l0(p))if(Rk)D=JI;else{D=QI;var $=KI}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=YI);if(D&&(D=D(s,d))){Ak(m,D,n,h);break e}$&&$(s,p,d),s==="focusout"&&($=p._wrapperState)&&$.controlled&&p.type==="number"&&ag(p,"number",p.value)}switch($=d?mo(d):window,s){case"focusin":(l0($)||$.contentEditable==="true")&&(uo=$,xg=d,vc=null);break;case"focusout":vc=xg=uo=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,m0(m,n,h);break;case"selectionchange":if(eD)break;case"keydown":case"keyup":m0(m,n,h)}var E;if(Tx)e:{switch(s){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else co?Ek(s,n)&&(k="onCompositionEnd"):s==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Tk&&n.locale!=="ko"&&(co||k!=="onCompositionStart"?k==="onCompositionEnd"&&co&&(E=Ck()):(xr=h,kx="value"in xr?xr.value:xr.textContent,co=!0)),$=Ah(d,k),0<$.length&&(k=new i0(k,s,null,n,h),m.push({event:k,listeners:$}),E?k.data=E:(E=Pk(n),E!==null&&(k.data=E)))),(E=$I?qI(s,n):zI(s,n))&&(d=Ah(d,"onBeforeInput"),0<d.length&&(h=new i0("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:d}),h.data=E))}$k(m,e)})}function Hc(s,e,n){return{instance:s,listener:e,currentTarget:n}}function Ah(s,e){for(var n=e+"Capture",i=[];s!==null;){var r=s,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Fc(s,n),a!=null&&i.unshift(Hc(s,a,r)),a=Fc(s,e),a!=null&&i.push(Hc(s,a,r))),s=s.return}return i}function Ja(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function g0(s,e,n,i,r){for(var a=e._reactName,o=[];n!==null&&n!==i;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&d!==null&&(l=d,r?(c=Fc(n,a),c!=null&&o.unshift(Hc(n,c,l))):r||(c=Fc(n,a),c!=null&&o.push(Hc(n,c,l)))),n=n.return}o.length!==0&&s.push({event:e,listeners:o})}var iD=/\r\n?/g,rD=/\u0000|\uFFFD/g;function v0(s){return(typeof s=="string"?s:""+s).replace(iD,`
`).replace(rD,"")}function Pu(s,e,n){if(e=v0(e),v0(s)!==e&&n)throw Error(fe(425))}function Rh(){}var jg=null,Ng=null;function bg(s,e){return s==="textarea"||s==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wg=typeof setTimeout=="function"?setTimeout:void 0,aD=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,oD=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(s){return x0.resolve(null).then(s).catch(lD)}:wg;function lD(s){setTimeout(function(){throw s})}function ef(s,e){var n=e,i=0;do{var r=n.nextSibling;if(s.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){s.removeChild(r),$c(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);$c(e)}function kr(s){for(;s!=null;s=s.nextSibling){var e=s.nodeType;if(e===1||e===3)break;if(e===8){if(e=s.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return s}function y0(s){s=s.previousSibling;for(var e=0;s;){if(s.nodeType===8){var n=s.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return s;e--}else n==="/$"&&e++}s=s.previousSibling}return null}var ul=Math.random().toString(36).slice(2),ti="__reactFiber$"+ul,Gc="__reactProps$"+ul,Ui="__reactContainer$"+ul,Sg="__reactEvents$"+ul,cD="__reactListeners$"+ul,dD="__reactHandles$"+ul;function aa(s){var e=s[ti];if(e)return e;for(var n=s.parentNode;n;){if(e=n[Ui]||n[ti]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(s=y0(s);s!==null;){if(n=s[ti])return n;s=y0(s)}return e}s=n,n=s.parentNode}return null}function Ed(s){return s=s[ti]||s[Ui],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function mo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(fe(33))}function Vm(s){return s[Gc]||null}var kg=[],po=-1;function Gr(s){return{current:s}}function Ot(s){0>po||(s.current=kg[po],kg[po]=null,po--)}function Pt(s,e){po++,kg[po]=s.current,s.current=e}var Vr={},qs=Gr(Vr),rn=Gr(!1),Sa=Vr;function Bo(s,e){var n=s.type.contextTypes;if(!n)return Vr;var i=s.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=e[a];return i&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=e,s.__reactInternalMemoizedMaskedChildContext=r),r}function an(s){return s=s.childContextTypes,s!=null}function Ih(){Ot(rn),Ot(qs)}function j0(s,e,n){if(qs.current!==Vr)throw Error(fe(168));Pt(qs,e),Pt(rn,n)}function zk(s,e,n){var i=s.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(fe(108,KR(s)||"Unknown",r));return Wt({},n,i)}function Dh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vr,Sa=qs.current,Pt(qs,s),Pt(rn,rn.current),!0}function N0(s,e,n){var i=s.stateNode;if(!i)throw Error(fe(169));n?(s=zk(s,e,Sa),i.__reactInternalMemoizedMergedChildContext=s,Ot(rn),Ot(qs),Pt(qs,s)):Ot(rn),Pt(rn,n)}var Ci=null,Fm=!1,tf=!1;function Wk(s){Ci===null?Ci=[s]:Ci.push(s)}function uD(s){Fm=!0,Wk(s)}function Kr(){if(!tf&&Ci!==null){tf=!0;var s=0,e=St;try{var n=Ci;for(St=1;s<n.length;s++){var i=n[s];do i=i(!0);while(i!==null)}Ci=null,Fm=!1}catch(r){throw Ci!==null&&(Ci=Ci.slice(s+1)),gk(Nx,Kr),r}finally{St=e,tf=!1}}return null}var fo=[],go=0,Mh=null,Lh=0,bn=[],wn=0,ka=null,Ei=1,Pi="";function ta(s,e){fo[go++]=Lh,fo[go++]=Mh,Mh=s,Lh=e}function Hk(s,e,n){bn[wn++]=Ei,bn[wn++]=Pi,bn[wn++]=ka,ka=s;var i=Ei;s=Pi;var r=32-Hn(i)-1;i&=~(1<<r),n+=1;var a=32-Hn(e)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ei=1<<32-Hn(e)+r|n<<r|i,Pi=a+s}else Ei=1<<a|n<<r|i,Pi=s}function Px(s){s.return!==null&&(ta(s,1),Hk(s,1,0))}function Ax(s){for(;s===Mh;)Mh=fo[--go],fo[go]=null,Lh=fo[--go],fo[go]=null;for(;s===ka;)ka=bn[--wn],bn[wn]=null,Pi=bn[--wn],bn[wn]=null,Ei=bn[--wn],bn[wn]=null}var gn=null,fn=null,Ft=!1,Un=null;function Gk(s,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=s,e=s.deletions,e===null?(s.deletions=[n],s.flags|=16):e.push(n)}function b0(s,e){switch(s.tag){case 5:var n=s.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(s.stateNode=e,gn=s,fn=kr(e.firstChild),!0):!1;case 6:return e=s.pendingProps===""||e.nodeType!==3?null:e,e!==null?(s.stateNode=e,gn=s,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ka!==null?{id:Ei,overflow:Pi}:null,s.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=s,s.child=n,gn=s,fn=null,!0):!1;default:return!1}}function _g(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Cg(s){if(Ft){var e=fn;if(e){var n=e;if(!b0(s,e)){if(_g(s))throw Error(fe(418));e=kr(n.nextSibling);var i=gn;e&&b0(s,e)?Gk(i,n):(s.flags=s.flags&-4097|2,Ft=!1,gn=s)}}else{if(_g(s))throw Error(fe(418));s.flags=s.flags&-4097|2,Ft=!1,gn=s}}}function w0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;gn=s}function Au(s){if(s!==gn)return!1;if(!Ft)return w0(s),Ft=!0,!1;var e;if((e=s.tag!==3)&&!(e=s.tag!==5)&&(e=s.type,e=e!=="head"&&e!=="body"&&!bg(s.type,s.memoizedProps)),e&&(e=fn)){if(_g(s))throw Kk(),Error(fe(418));for(;e;)Gk(s,e),e=kr(e.nextSibling)}if(w0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));e:{for(s=s.nextSibling,e=0;s;){if(s.nodeType===8){var n=s.data;if(n==="/$"){if(e===0){fn=kr(s.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}s=s.nextSibling}fn=null}}else fn=gn?kr(s.stateNode.nextSibling):null;return!0}function Kk(){for(var s=fn;s;)s=kr(s.nextSibling)}function Uo(){fn=gn=null,Ft=!1}function Rx(s){Un===null?Un=[s]:Un.push(s)}var hD=Xi.ReactCurrentBatchConfig;function Gl(s,e,n){if(s=n.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var i=n.stateNode}if(!i)throw Error(fe(147,s));var r=i,a=""+s;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof s!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,s))}return s}function Ru(s,e){throw s=Object.prototype.toString.call(e),Error(fe(31,s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s))}function S0(s){var e=s._init;return e(s._payload)}function Qk(s){function e(b,N){if(s){var C=b.deletions;C===null?(b.deletions=[N],b.flags|=16):C.push(N)}}function n(b,N){if(!s)return null;for(;N!==null;)e(b,N),N=N.sibling;return null}function i(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function r(b,N){return b=Er(b,N),b.index=0,b.sibling=null,b}function a(b,N,C){return b.index=C,s?(C=b.alternate,C!==null?(C=C.index,C<N?(b.flags|=2,N):C):(b.flags|=2,N)):(b.flags|=1048576,N)}function o(b){return s&&b.alternate===null&&(b.flags|=2),b}function l(b,N,C,I){return N===null||N.tag!==6?(N=cf(C,b.mode,I),N.return=b,N):(N=r(N,C),N.return=b,N)}function c(b,N,C,I){var D=C.type;return D===lo?h(b,N,C.props.children,I,C.key):N!==null&&(N.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ur&&S0(D)===N.type)?(I=r(N,C.props),I.ref=Gl(b,N,C),I.return=b,I):(I=oh(C.type,C.key,C.props,null,b.mode,I),I.ref=Gl(b,N,C),I.return=b,I)}function d(b,N,C,I){return N===null||N.tag!==4||N.stateNode.containerInfo!==C.containerInfo||N.stateNode.implementation!==C.implementation?(N=df(C,b.mode,I),N.return=b,N):(N=r(N,C.children||[]),N.return=b,N)}function h(b,N,C,I,D){return N===null||N.tag!==7?(N=va(C,b.mode,I,D),N.return=b,N):(N=r(N,C),N.return=b,N)}function m(b,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return N=cf(""+N,b.mode,C),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Nu:return C=oh(N.type,N.key,N.props,null,b.mode,C),C.ref=Gl(b,null,N),C.return=b,C;case oo:return N=df(N,b.mode,C),N.return=b,N;case ur:var I=N._init;return m(b,I(N._payload),C)}if(ic(N)||$l(N))return N=va(N,b.mode,C,null),N.return=b,N;Ru(b,N)}return null}function p(b,N,C,I){var D=N!==null?N.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return D!==null?null:l(b,N,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Nu:return C.key===D?c(b,N,C,I):null;case oo:return C.key===D?d(b,N,C,I):null;case ur:return D=C._init,p(b,N,D(C._payload),I)}if(ic(C)||$l(C))return D!==null?null:h(b,N,C,I,null);Ru(b,C)}return null}function g(b,N,C,I,D){if(typeof I=="string"&&I!==""||typeof I=="number")return b=b.get(C)||null,l(N,b,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Nu:return b=b.get(I.key===null?C:I.key)||null,c(N,b,I,D);case oo:return b=b.get(I.key===null?C:I.key)||null,d(N,b,I,D);case ur:var $=I._init;return g(b,N,C,$(I._payload),D)}if(ic(I)||$l(I))return b=b.get(C)||null,h(N,b,I,D,null);Ru(N,I)}return null}function x(b,N,C,I){for(var D=null,$=null,E=N,k=N=0,_=null;E!==null&&k<C.length;k++){E.index>k?(_=E,E=null):_=E.sibling;var T=p(b,E,C[k],I);if(T===null){E===null&&(E=_);break}s&&E&&T.alternate===null&&e(b,E),N=a(T,N,k),$===null?D=T:$.sibling=T,$=T,E=_}if(k===C.length)return n(b,E),Ft&&ta(b,k),D;if(E===null){for(;k<C.length;k++)E=m(b,C[k],I),E!==null&&(N=a(E,N,k),$===null?D=E:$.sibling=E,$=E);return Ft&&ta(b,k),D}for(E=i(b,E);k<C.length;k++)_=g(E,b,k,C[k],I),_!==null&&(s&&_.alternate!==null&&E.delete(_.key===null?k:_.key),N=a(_,N,k),$===null?D=_:$.sibling=_,$=_);return s&&E.forEach(function(S){return e(b,S)}),Ft&&ta(b,k),D}function j(b,N,C,I){var D=$l(C);if(typeof D!="function")throw Error(fe(150));if(C=D.call(C),C==null)throw Error(fe(151));for(var $=D=null,E=N,k=N=0,_=null,T=C.next();E!==null&&!T.done;k++,T=C.next()){E.index>k?(_=E,E=null):_=E.sibling;var S=p(b,E,T.value,I);if(S===null){E===null&&(E=_);break}s&&E&&S.alternate===null&&e(b,E),N=a(S,N,k),$===null?D=S:$.sibling=S,$=S,E=_}if(T.done)return n(b,E),Ft&&ta(b,k),D;if(E===null){for(;!T.done;k++,T=C.next())T=m(b,T.value,I),T!==null&&(N=a(T,N,k),$===null?D=T:$.sibling=T,$=T);return Ft&&ta(b,k),D}for(E=i(b,E);!T.done;k++,T=C.next())T=g(E,b,k,T.value,I),T!==null&&(s&&T.alternate!==null&&E.delete(T.key===null?k:T.key),N=a(T,N,k),$===null?D=T:$.sibling=T,$=T);return s&&E.forEach(function(F){return e(b,F)}),Ft&&ta(b,k),D}function v(b,N,C,I){if(typeof C=="object"&&C!==null&&C.type===lo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Nu:e:{for(var D=C.key,$=N;$!==null;){if($.key===D){if(D=C.type,D===lo){if($.tag===7){n(b,$.sibling),N=r($,C.props.children),N.return=b,b=N;break e}}else if($.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ur&&S0(D)===$.type){n(b,$.sibling),N=r($,C.props),N.ref=Gl(b,$,C),N.return=b,b=N;break e}n(b,$);break}else e(b,$);$=$.sibling}C.type===lo?(N=va(C.props.children,b.mode,I,C.key),N.return=b,b=N):(I=oh(C.type,C.key,C.props,null,b.mode,I),I.ref=Gl(b,N,C),I.return=b,b=I)}return o(b);case oo:e:{for($=C.key;N!==null;){if(N.key===$)if(N.tag===4&&N.stateNode.containerInfo===C.containerInfo&&N.stateNode.implementation===C.implementation){n(b,N.sibling),N=r(N,C.children||[]),N.return=b,b=N;break e}else{n(b,N);break}else e(b,N);N=N.sibling}N=df(C,b.mode,I),N.return=b,b=N}return o(b);case ur:return $=C._init,v(b,N,$(C._payload),I)}if(ic(C))return x(b,N,C,I);if($l(C))return j(b,N,C,I);Ru(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,N!==null&&N.tag===6?(n(b,N.sibling),N=r(N,C),N.return=b,b=N):(n(b,N),N=cf(C,b.mode,I),N.return=b,b=N),o(b)):n(b,N)}return v}var $o=Qk(!0),Yk=Qk(!1),Oh=Gr(null),Vh=null,vo=null,Ix=null;function Dx(){Ix=vo=Vh=null}function Mx(s){var e=Oh.current;Ot(Oh),s._currentValue=e}function Tg(s,e,n){for(;s!==null;){var i=s.alternate;if((s.childLanes&e)!==e?(s.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),s===n)break;s=s.return}}function Po(s,e){Vh=s,Ix=vo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&e&&(en=!0),s.firstContext=null)}function Rn(s){var e=s._currentValue;if(Ix!==s)if(s={context:s,memoizedValue:e,next:null},vo===null){if(Vh===null)throw Error(fe(308));vo=s,Vh.dependencies={lanes:0,firstContext:s}}else vo=vo.next=s;return e}var oa=null;function Lx(s){oa===null?oa=[s]:oa.push(s)}function Jk(s,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Lx(e)):(n.next=r.next,r.next=n),e.interleaved=n,$i(s,i)}function $i(s,e){s.lanes|=e;var n=s.alternate;for(n!==null&&(n.lanes|=e),n=s,s=s.return;s!==null;)s.childLanes|=e,n=s.alternate,n!==null&&(n.childLanes|=e),n=s,s=s.return;return n.tag===3?n.stateNode:null}var hr=!1;function Ox(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xk(s,e){s=s.updateQueue,e.updateQueue===s&&(e.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Li(s,e){return{eventTime:s,lane:e,tag:0,payload:null,callback:null,next:null}}function _r(s,e,n){var i=s.updateQueue;if(i===null)return null;if(i=i.shared,mt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,$i(s,n)}return r=i.interleaved,r===null?(e.next=e,Lx(i)):(e.next=r.next,r.next=e),i.interleaved=e,$i(s,n)}function th(s,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=s.pendingLanes,n|=i,e.lanes=n,bx(s,n)}}function k0(s,e){var n=s.updateQueue,i=s.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},s.updateQueue=n;return}s=n.lastBaseUpdate,s===null?n.firstBaseUpdate=e:s.next=e,n.lastBaseUpdate=e}function Fh(s,e,n,i){var r=s.updateQueue;hr=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=s.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var m=r.baseState;o=0,h=d=c=null,l=a;do{var p=l.lane,g=l.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=s,j=l;switch(p=e,g=n,j.tag){case 1:if(x=j.payload,typeof x=="function"){m=x.call(g,m,p);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=j.payload,p=typeof x=="function"?x.call(g,m,p):x,p==null)break e;m=Wt({},m,p);break e;case 2:hr=!0}}l.callback!==null&&l.lane!==0&&(s.flags|=64,p=r.effects,p===null?r.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=g,c=m):h=h.next=g,o|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;p=l,l=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(h===null&&(c=m),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);Ca|=o,s.lanes=o,s.memoizedState=m}}function _0(s,e,n){if(s=e.effects,e.effects=null,s!==null)for(e=0;e<s.length;e++){var i=s[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(fe(191,r));r.call(i)}}}var Pd={},ii=Gr(Pd),Kc=Gr(Pd),Qc=Gr(Pd);function la(s){if(s===Pd)throw Error(fe(174));return s}function Vx(s,e){switch(Pt(Qc,e),Pt(Kc,s),Pt(ii,Pd),s=e.nodeType,s){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lg(null,"");break;default:s=s===8?e.parentNode:e,e=s.namespaceURI||null,s=s.tagName,e=lg(e,s)}Ot(ii),Pt(ii,e)}function qo(){Ot(ii),Ot(Kc),Ot(Qc)}function Zk(s){la(Qc.current);var e=la(ii.current),n=lg(e,s.type);e!==n&&(Pt(Kc,s),Pt(ii,n))}function Fx(s){Kc.current===s&&(Ot(ii),Ot(Kc))}var Ut=Gr(0);function Bh(s){for(var e=s;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sf=[];function Bx(){for(var s=0;s<sf.length;s++)sf[s]._workInProgressVersionPrimary=null;sf.length=0}var sh=Xi.ReactCurrentDispatcher,nf=Xi.ReactCurrentBatchConfig,_a=0,qt=null,rs=null,fs=null,Uh=!1,xc=!1,Yc=0,mD=0;function As(){throw Error(fe(321))}function Ux(s,e){if(e===null)return!1;for(var n=0;n<e.length&&n<s.length;n++)if(!Yn(s[n],e[n]))return!1;return!0}function $x(s,e,n,i,r,a){if(_a=a,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sh.current=s===null||s.memoizedState===null?vD:xD,s=n(i,r),xc){a=0;do{if(xc=!1,Yc=0,25<=a)throw Error(fe(301));a+=1,fs=rs=null,e.updateQueue=null,sh.current=yD,s=n(i,r)}while(xc)}if(sh.current=$h,e=rs!==null&&rs.next!==null,_a=0,fs=rs=qt=null,Uh=!1,e)throw Error(fe(300));return s}function qx(){var s=Yc!==0;return Yc=0,s}function ei(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?qt.memoizedState=fs=s:fs=fs.next=s,fs}function In(){if(rs===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=rs.next;var e=fs===null?qt.memoizedState:fs.next;if(e!==null)fs=e,rs=s;else{if(s===null)throw Error(fe(310));rs=s,s={memoizedState:rs.memoizedState,baseState:rs.baseState,baseQueue:rs.baseQueue,queue:rs.queue,next:null},fs===null?qt.memoizedState=fs=s:fs=fs.next=s}return fs}function Jc(s,e){return typeof e=="function"?e(s):e}function rf(s){var e=In(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=s;var i=rs,r=i.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}i.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,i=i.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((_a&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:s(i,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=i):c=c.next=m,qt.lanes|=h,Ca|=h}d=d.next}while(d!==null&&d!==a);c===null?o=i:c.next=l,Yn(i,e.memoizedState)||(en=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}if(s=n.interleaved,s!==null){r=s;do a=r.lane,qt.lanes|=a,Ca|=a,r=r.next;while(r!==s)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function af(s){var e=In(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=s;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=s(a,o.action),o=o.next;while(o!==r);Yn(a,e.memoizedState)||(en=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function e_(){}function t_(s,e){var n=qt,i=In(),r=e(),a=!Yn(i.memoizedState,r);if(a&&(i.memoizedState=r,en=!0),i=i.queue,zx(i_.bind(null,n,i,s),[s]),i.getSnapshot!==e||a||fs!==null&&fs.memoizedState.tag&1){if(n.flags|=2048,Xc(9,n_.bind(null,n,i,r,e),void 0,null),vs===null)throw Error(fe(349));_a&30||s_(n,e,r)}return r}function s_(s,e,n){s.flags|=16384,s={getSnapshot:e,value:n},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[s]):(n=e.stores,n===null?e.stores=[s]:n.push(s))}function n_(s,e,n,i){e.value=n,e.getSnapshot=i,r_(e)&&a_(s)}function i_(s,e,n){return n(function(){r_(e)&&a_(s)})}function r_(s){var e=s.getSnapshot;s=s.value;try{var n=e();return!Yn(s,n)}catch{return!0}}function a_(s){var e=$i(s,1);e!==null&&Gn(e,s,1,-1)}function C0(s){var e=ei();return typeof s=="function"&&(s=s()),e.memoizedState=e.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:s},e.queue=s,s=s.dispatch=gD.bind(null,qt,s),[e.memoizedState,s]}function Xc(s,e,n,i){return s={tag:s,create:e,destroy:n,deps:i,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=s.next=s):(n=e.lastEffect,n===null?e.lastEffect=s.next=s:(i=n.next,n.next=s,s.next=i,e.lastEffect=s)),s}function o_(){return In().memoizedState}function nh(s,e,n,i){var r=ei();qt.flags|=s,r.memoizedState=Xc(1|e,n,void 0,i===void 0?null:i)}function Bm(s,e,n,i){var r=In();i=i===void 0?null:i;var a=void 0;if(rs!==null){var o=rs.memoizedState;if(a=o.destroy,i!==null&&Ux(i,o.deps)){r.memoizedState=Xc(e,n,a,i);return}}qt.flags|=s,r.memoizedState=Xc(1|e,n,a,i)}function T0(s,e){return nh(8390656,8,s,e)}function zx(s,e){return Bm(2048,8,s,e)}function l_(s,e){return Bm(4,2,s,e)}function c_(s,e){return Bm(4,4,s,e)}function d_(s,e){if(typeof e=="function")return s=s(),e(s),function(){e(null)};if(e!=null)return s=s(),e.current=s,function(){e.current=null}}function u_(s,e,n){return n=n!=null?n.concat([s]):null,Bm(4,4,d_.bind(null,e,s),n)}function Wx(){}function h_(s,e){var n=In();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Ux(e,i[1])?i[0]:(n.memoizedState=[s,e],s)}function m_(s,e){var n=In();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Ux(e,i[1])?i[0]:(s=s(),n.memoizedState=[s,e],s)}function p_(s,e,n){return _a&21?(Yn(n,e)||(n=yk(),qt.lanes|=n,Ca|=n,s.baseState=!0),e):(s.baseState&&(s.baseState=!1,en=!0),s.memoizedState=n)}function pD(s,e){var n=St;St=n!==0&&4>n?n:4,s(!0);var i=nf.transition;nf.transition={};try{s(!1),e()}finally{St=n,nf.transition=i}}function f_(){return In().memoizedState}function fD(s,e,n){var i=Tr(s);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},g_(s))v_(e,n);else if(n=Jk(s,e,n,i),n!==null){var r=Qs();Gn(n,s,i,r),x_(n,e,i)}}function gD(s,e,n){var i=Tr(s),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(g_(s))v_(e,r);else{var a=s.alternate;if(s.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,Yn(l,o)){var c=e.interleaved;c===null?(r.next=r,Lx(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=Jk(s,e,r,i),n!==null&&(r=Qs(),Gn(n,s,i,r),x_(n,e,i))}}function g_(s){var e=s.alternate;return s===qt||e!==null&&e===qt}function v_(s,e){xc=Uh=!0;var n=s.pending;n===null?e.next=e:(e.next=n.next,n.next=e),s.pending=e}function x_(s,e,n){if(n&4194240){var i=e.lanes;i&=s.pendingLanes,n|=i,e.lanes=n,bx(s,n)}}var $h={readContext:Rn,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useInsertionEffect:As,useLayoutEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useMutableSource:As,useSyncExternalStore:As,useId:As,unstable_isNewReconciler:!1},vD={readContext:Rn,useCallback:function(s,e){return ei().memoizedState=[s,e===void 0?null:e],s},useContext:Rn,useEffect:T0,useImperativeHandle:function(s,e,n){return n=n!=null?n.concat([s]):null,nh(4194308,4,d_.bind(null,e,s),n)},useLayoutEffect:function(s,e){return nh(4194308,4,s,e)},useInsertionEffect:function(s,e){return nh(4,2,s,e)},useMemo:function(s,e){var n=ei();return e=e===void 0?null:e,s=s(),n.memoizedState=[s,e],s},useReducer:function(s,e,n){var i=ei();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:e},i.queue=s,s=s.dispatch=fD.bind(null,qt,s),[i.memoizedState,s]},useRef:function(s){var e=ei();return s={current:s},e.memoizedState=s},useState:C0,useDebugValue:Wx,useDeferredValue:function(s){return ei().memoizedState=s},useTransition:function(){var s=C0(!1),e=s[0];return s=pD.bind(null,s[1]),ei().memoizedState=s,[e,s]},useMutableSource:function(){},useSyncExternalStore:function(s,e,n){var i=qt,r=ei();if(Ft){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),vs===null)throw Error(fe(349));_a&30||s_(i,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,T0(i_.bind(null,i,a,s),[s]),i.flags|=2048,Xc(9,n_.bind(null,i,a,n,e),void 0,null),n},useId:function(){var s=ei(),e=vs.identifierPrefix;if(Ft){var n=Pi,i=Ei;n=(i&~(1<<32-Hn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mD++,e=":"+e+"r"+n.toString(32)+":";return s.memoizedState=e},unstable_isNewReconciler:!1},xD={readContext:Rn,useCallback:h_,useContext:Rn,useEffect:zx,useImperativeHandle:u_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:m_,useReducer:rf,useRef:o_,useState:function(){return rf(Jc)},useDebugValue:Wx,useDeferredValue:function(s){var e=In();return p_(e,rs.memoizedState,s)},useTransition:function(){var s=rf(Jc)[0],e=In().memoizedState;return[s,e]},useMutableSource:e_,useSyncExternalStore:t_,useId:f_,unstable_isNewReconciler:!1},yD={readContext:Rn,useCallback:h_,useContext:Rn,useEffect:zx,useImperativeHandle:u_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:m_,useReducer:af,useRef:o_,useState:function(){return af(Jc)},useDebugValue:Wx,useDeferredValue:function(s){var e=In();return rs===null?e.memoizedState=s:p_(e,rs.memoizedState,s)},useTransition:function(){var s=af(Jc)[0],e=In().memoizedState;return[s,e]},useMutableSource:e_,useSyncExternalStore:t_,useId:f_,unstable_isNewReconciler:!1};function Fn(s,e){if(s&&s.defaultProps){e=Wt({},e),s=s.defaultProps;for(var n in s)e[n]===void 0&&(e[n]=s[n]);return e}return e}function Eg(s,e,n,i){e=s.memoizedState,n=n(i,e),n=n==null?e:Wt({},e,n),s.memoizedState=n,s.lanes===0&&(s.updateQueue.baseState=n)}var Um={isMounted:function(s){return(s=s._reactInternals)?Ba(s)===s:!1},enqueueSetState:function(s,e,n){s=s._reactInternals;var i=Qs(),r=Tr(s),a=Li(i,r);a.payload=e,n!=null&&(a.callback=n),e=_r(s,a,r),e!==null&&(Gn(e,s,r,i),th(e,s,r))},enqueueReplaceState:function(s,e,n){s=s._reactInternals;var i=Qs(),r=Tr(s),a=Li(i,r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=_r(s,a,r),e!==null&&(Gn(e,s,r,i),th(e,s,r))},enqueueForceUpdate:function(s,e){s=s._reactInternals;var n=Qs(),i=Tr(s),r=Li(n,i);r.tag=2,e!=null&&(r.callback=e),e=_r(s,r,i),e!==null&&(Gn(e,s,i,n),th(e,s,i))}};function E0(s,e,n,i,r,a,o){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(i,a,o):e.prototype&&e.prototype.isPureReactComponent?!zc(n,i)||!zc(r,a):!0}function y_(s,e,n){var i=!1,r=Vr,a=e.contextType;return typeof a=="object"&&a!==null?a=Rn(a):(r=an(e)?Sa:qs.current,i=e.contextTypes,a=(i=i!=null)?Bo(s,r):Vr),e=new e(n,a),s.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Um,s.stateNode=e,e._reactInternals=s,i&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=r,s.__reactInternalMemoizedMaskedChildContext=a),e}function P0(s,e,n,i){s=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==s&&Um.enqueueReplaceState(e,e.state,null)}function Pg(s,e,n,i){var r=s.stateNode;r.props=n,r.state=s.memoizedState,r.refs={},Ox(s);var a=e.contextType;typeof a=="object"&&a!==null?r.context=Rn(a):(a=an(e)?Sa:qs.current,r.context=Bo(s,a)),r.state=s.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Eg(s,e,a,n),r.state=s.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Um.enqueueReplaceState(r,r.state,null),Fh(s,n,r,i),r.state=s.memoizedState),typeof r.componentDidMount=="function"&&(s.flags|=4194308)}function zo(s,e){try{var n="",i=e;do n+=GR(i),i=i.return;while(i);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:s,source:e,stack:r,digest:null}}function of(s,e,n){return{value:s,source:null,stack:n??null,digest:e??null}}function Ag(s,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jD=typeof WeakMap=="function"?WeakMap:Map;function j_(s,e,n){n=Li(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){zh||(zh=!0,Ug=i),Ag(s,e)},n}function N_(s,e,n){n=Li(-1,n),n.tag=3;var i=s.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Ag(s,e)}}var a=s.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ag(s,e),typeof i!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function A0(s,e,n){var i=s.pingCache;if(i===null){i=s.pingCache=new jD;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),s=DD.bind(null,s,e,n),e.then(s,s))}function R0(s){do{var e;if((e=s.tag===13)&&(e=s.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return s;s=s.return}while(s!==null);return null}function I0(s,e,n,i,r){return s.mode&1?(s.flags|=65536,s.lanes=r,s):(s===e?s.flags|=65536:(s.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Li(-1,1),e.tag=2,_r(n,e,1))),n.lanes|=1),s)}var ND=Xi.ReactCurrentOwner,en=!1;function Hs(s,e,n,i){e.child=s===null?Yk(e,null,n,i):$o(e,s.child,n,i)}function D0(s,e,n,i,r){n=n.render;var a=e.ref;return Po(e,r),i=$x(s,e,n,i,a,r),n=qx(),s!==null&&!en?(e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~r,qi(s,e,r)):(Ft&&n&&Px(e),e.flags|=1,Hs(s,e,i,r),e.child)}function M0(s,e,n,i,r){if(s===null){var a=n.type;return typeof a=="function"&&!Zx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,b_(s,e,a,i,r)):(s=oh(n.type,null,i,e,e.mode,r),s.ref=e.ref,s.return=e,e.child=s)}if(a=s.child,!(s.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:zc,n(o,i)&&s.ref===e.ref)return qi(s,e,r)}return e.flags|=1,s=Er(a,i),s.ref=e.ref,s.return=e,e.child=s}function b_(s,e,n,i,r){if(s!==null){var a=s.memoizedProps;if(zc(a,i)&&s.ref===e.ref)if(en=!1,e.pendingProps=i=a,(s.lanes&r)!==0)s.flags&131072&&(en=!0);else return e.lanes=s.lanes,qi(s,e,r)}return Rg(s,e,n,i,r)}function w_(s,e,n){var i=e.pendingProps,r=i.children,a=s!==null?s.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(yo,pn),pn|=n;else{if(!(n&1073741824))return s=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:s,cachePool:null,transitions:null},e.updateQueue=null,Pt(yo,pn),pn|=s,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,Pt(yo,pn),pn|=i}else a!==null?(i=a.baseLanes|n,e.memoizedState=null):i=n,Pt(yo,pn),pn|=i;return Hs(s,e,r,n),e.child}function S_(s,e){var n=e.ref;(s===null&&n!==null||s!==null&&s.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rg(s,e,n,i,r){var a=an(n)?Sa:qs.current;return a=Bo(e,a),Po(e,r),n=$x(s,e,n,i,a,r),i=qx(),s!==null&&!en?(e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~r,qi(s,e,r)):(Ft&&i&&Px(e),e.flags|=1,Hs(s,e,n,r),e.child)}function L0(s,e,n,i,r){if(an(n)){var a=!0;Dh(e)}else a=!1;if(Po(e,r),e.stateNode===null)ih(s,e),y_(e,n,i),Pg(e,n,i,r),i=!0;else if(s===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Rn(d):(d=an(n)?Sa:qs.current,d=Bo(e,d));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||c!==d)&&P0(e,o,i,d),hr=!1;var p=e.memoizedState;o.state=p,Fh(e,i,o,r),c=e.memoizedState,l!==i||p!==c||rn.current||hr?(typeof h=="function"&&(Eg(e,n,h,i),c=e.memoizedState),(l=hr||E0(e,n,l,i,p,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),o.props=i,o.state=c,o.context=d,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Xk(s,e),l=e.memoizedProps,d=e.type===e.elementType?l:Fn(e.type,l),o.props=d,m=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Rn(c):(c=an(n)?Sa:qs.current,c=Bo(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==c)&&P0(e,o,i,c),hr=!1,p=e.memoizedState,o.state=p,Fh(e,i,o,r);var x=e.memoizedState;l!==m||p!==x||rn.current||hr?(typeof g=="function"&&(Eg(e,n,g,i),x=e.memoizedState),(d=hr||E0(e,n,d,i,p,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===s.memoizedProps&&p===s.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===s.memoizedProps&&p===s.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),o.props=i,o.state=x,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||l===s.memoizedProps&&p===s.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===s.memoizedProps&&p===s.memoizedState||(e.flags|=1024),i=!1)}return Ig(s,e,n,i,a,r)}function Ig(s,e,n,i,r,a){S_(s,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&N0(e,n,!1),qi(s,e,a);i=e.stateNode,ND.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,s!==null&&o?(e.child=$o(e,s.child,null,a),e.child=$o(e,null,l,a)):Hs(s,e,l,a),e.memoizedState=i.state,r&&N0(e,n,!0),e.child}function k_(s){var e=s.stateNode;e.pendingContext?j0(s,e.pendingContext,e.pendingContext!==e.context):e.context&&j0(s,e.context,!1),Vx(s,e.containerInfo)}function O0(s,e,n,i,r){return Uo(),Rx(r),e.flags|=256,Hs(s,e,n,i),e.child}var Dg={dehydrated:null,treeContext:null,retryLane:0};function Mg(s){return{baseLanes:s,cachePool:null,transitions:null}}function __(s,e,n){var i=e.pendingProps,r=Ut.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=s!==null&&s.memoizedState===null?!1:(r&2)!==0),l?(a=!0,e.flags&=-129):(s===null||s.memoizedState!==null)&&(r|=1),Pt(Ut,r&1),s===null)return Cg(e),s=e.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(e.mode&1?s.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,s=i.fallback,a?(i=e.mode,a=e.child,o={mode:"hidden",children:o},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=zm(o,i,0,null),s=va(s,i,n,null),a.return=e,s.return=e,a.sibling=s,e.child=a,e.child.memoizedState=Mg(n),e.memoizedState=Dg,s):Hx(e,o));if(r=s.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return bD(s,e,o,i,l,r,n);if(a){a=i.fallback,o=e.mode,r=s.child,l=r.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Er(r,c),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=Er(l,a):(a=va(a,o,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,o=s.child.memoizedState,o=o===null?Mg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=s.childLanes&~n,e.memoizedState=Dg,i}return a=s.child,s=a.sibling,i=Er(a,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,s!==null&&(n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)),e.child=i,e.memoizedState=null,i}function Hx(s,e){return e=zm({mode:"visible",children:e},s.mode,0,null),e.return=s,s.child=e}function Iu(s,e,n,i){return i!==null&&Rx(i),$o(e,s.child,null,n),s=Hx(e,e.pendingProps.children),s.flags|=2,e.memoizedState=null,s}function bD(s,e,n,i,r,a,o){if(n)return e.flags&256?(e.flags&=-257,i=of(Error(fe(422))),Iu(s,e,o,i)):e.memoizedState!==null?(e.child=s.child,e.flags|=128,null):(a=i.fallback,r=e.mode,i=zm({mode:"visible",children:i.children},r,0,null),a=va(a,r,o,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,e.mode&1&&$o(e,s.child,null,o),e.child.memoizedState=Mg(o),e.memoizedState=Dg,a);if(!(e.mode&1))return Iu(s,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,a=Error(fe(419)),i=of(a,i,void 0),Iu(s,e,o,i)}if(l=(o&s.childLanes)!==0,en||l){if(i=vs,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,$i(s,r),Gn(i,s,r,-1))}return Xx(),i=of(Error(fe(421))),Iu(s,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=s.child,e=MD.bind(null,s),r._reactRetry=e,null):(s=a.treeContext,fn=kr(r.nextSibling),gn=e,Ft=!0,Un=null,s!==null&&(bn[wn++]=Ei,bn[wn++]=Pi,bn[wn++]=ka,Ei=s.id,Pi=s.overflow,ka=e),e=Hx(e,i.children),e.flags|=4096,e)}function V0(s,e,n){s.lanes|=e;var i=s.alternate;i!==null&&(i.lanes|=e),Tg(s.return,e,n)}function lf(s,e,n,i,r){var a=s.memoizedState;a===null?s.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function C_(s,e,n){var i=e.pendingProps,r=i.revealOrder,a=i.tail;if(Hs(s,e,i.children,n),i=Ut.current,i&2)i=i&1|2,e.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=e.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&V0(s,n,e);else if(s.tag===19)V0(s,n,e);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}i&=1}if(Pt(Ut,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)s=n.alternate,s!==null&&Bh(s)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),lf(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(s=r.alternate,s!==null&&Bh(s)===null){e.child=r;break}s=r.sibling,r.sibling=n,n=r,r=s}lf(e,!0,n,null,a);break;case"together":lf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ih(s,e){!(e.mode&1)&&s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2)}function qi(s,e,n){if(s!==null&&(e.dependencies=s.dependencies),Ca|=e.lanes,!(n&e.childLanes))return null;if(s!==null&&e.child!==s.child)throw Error(fe(153));if(e.child!==null){for(s=e.child,n=Er(s,s.pendingProps),e.child=n,n.return=e;s.sibling!==null;)s=s.sibling,n=n.sibling=Er(s,s.pendingProps),n.return=e;n.sibling=null}return e.child}function wD(s,e,n){switch(e.tag){case 3:k_(e),Uo();break;case 5:Zk(e);break;case 1:an(e.type)&&Dh(e);break;case 4:Vx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Pt(Oh,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Pt(Ut,Ut.current&1),e.flags|=128,null):n&e.child.childLanes?__(s,e,n):(Pt(Ut,Ut.current&1),s=qi(s,e,n),s!==null?s.sibling:null);Pt(Ut,Ut.current&1);break;case 19:if(i=(n&e.childLanes)!==0,s.flags&128){if(i)return C_(s,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Pt(Ut,Ut.current),i)break;return null;case 22:case 23:return e.lanes=0,w_(s,e,n)}return qi(s,e,n)}var T_,Lg,E_,P_;T_=function(s,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)s.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lg=function(){};E_=function(s,e,n,i){var r=s.memoizedProps;if(r!==i){s=e.stateNode,la(ii.current);var a=null;switch(n){case"input":r=ig(s,r),i=ig(s,i),a=[];break;case"select":r=Wt({},r,{value:void 0}),i=Wt({},i,{value:void 0}),a=[];break;case"textarea":r=og(s,r),i=og(s,i),a=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(s.onclick=Rh)}cg(n,i);var o;n=null;for(d in r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Oc.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in i){var c=i[d];if(l=r!=null?r[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Oc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Dt("scroll",s),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};P_=function(s,e,n,i){n!==i&&(e.flags|=4)};function Kl(s,e){if(!Ft)switch(s.tailMode){case"hidden":e=s.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?s.tail=null:n.sibling=null;break;case"collapsed":n=s.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||s.tail===null?s.tail=null:s.tail.sibling=null:i.sibling=null}}function Rs(s){var e=s.alternate!==null&&s.alternate.child===s.child,n=0,i=0;if(e)for(var r=s.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=s,r=r.sibling;else for(r=s.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=s,r=r.sibling;return s.subtreeFlags|=i,s.childLanes=n,e}function SD(s,e,n){var i=e.pendingProps;switch(Ax(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rs(e),null;case 1:return an(e.type)&&Ih(),Rs(e),null;case 3:return i=e.stateNode,qo(),Ot(rn),Ot(qs),Bx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(s===null||s.child===null)&&(Au(e)?e.flags|=4:s===null||s.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(zg(Un),Un=null))),Lg(s,e),Rs(e),null;case 5:Fx(e);var r=la(Qc.current);if(n=e.type,s!==null&&e.stateNode!=null)E_(s,e,n,i,r),s.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(fe(166));return Rs(e),null}if(s=la(ii.current),Au(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[ti]=e,i[Gc]=a,s=(e.mode&1)!==0,n){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(r=0;r<ac.length;r++)Dt(ac[r],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":GN(i,a),Dt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Dt("invalid",i);break;case"textarea":QN(i,a),Dt("invalid",i)}cg(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?i.textContent!==l&&(a.suppressHydrationWarning!==!0&&Pu(i.textContent,l,s),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Pu(i.textContent,l,s),r=["children",""+l]):Oc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Dt("scroll",i)}switch(n){case"input":bu(i),KN(i,a,!0);break;case"textarea":bu(i),YN(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Rh)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ik(n)),s==="http://www.w3.org/1999/xhtml"?n==="script"?(s=o.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof i.is=="string"?s=o.createElement(n,{is:i.is}):(s=o.createElement(n),n==="select"&&(o=s,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):s=o.createElementNS(s,n),s[ti]=e,s[Gc]=i,T_(s,e,!1,!1),e.stateNode=s;e:{switch(o=dg(n,i),n){case"dialog":Dt("cancel",s),Dt("close",s),r=i;break;case"iframe":case"object":case"embed":Dt("load",s),r=i;break;case"video":case"audio":for(r=0;r<ac.length;r++)Dt(ac[r],s);r=i;break;case"source":Dt("error",s),r=i;break;case"img":case"image":case"link":Dt("error",s),Dt("load",s),r=i;break;case"details":Dt("toggle",s),r=i;break;case"input":GN(s,i),r=ig(s,i),Dt("invalid",s);break;case"option":r=i;break;case"select":s._wrapperState={wasMultiple:!!i.multiple},r=Wt({},i,{value:void 0}),Dt("invalid",s);break;case"textarea":QN(s,i),r=og(s,i),Dt("invalid",s);break;default:r=i}cg(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?ok(s,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rk(s,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vc(s,c):typeof c=="number"&&Vc(s,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Oc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Dt("scroll",s):c!=null&&gx(s,a,c,o))}switch(n){case"input":bu(s),KN(s,i,!1);break;case"textarea":bu(s),YN(s);break;case"option":i.value!=null&&s.setAttribute("value",""+Or(i.value));break;case"select":s.multiple=!!i.multiple,a=i.value,a!=null?_o(s,!!i.multiple,a,!1):i.defaultValue!=null&&_o(s,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(s.onclick=Rh)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rs(e),null;case 6:if(s&&e.stateNode!=null)P_(s,e,s.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(fe(166));if(n=la(Qc.current),la(ii.current),Au(e)){if(i=e.stateNode,n=e.memoizedProps,i[ti]=e,(a=i.nodeValue!==n)&&(s=gn,s!==null))switch(s.tag){case 3:Pu(i.nodeValue,n,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Pu(i.nodeValue,n,(s.mode&1)!==0)}a&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ti]=e,e.stateNode=i}return Rs(e),null;case 13:if(Ot(Ut),i=e.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ft&&fn!==null&&e.mode&1&&!(e.flags&128))Kk(),Uo(),e.flags|=98560,a=!1;else if(a=Au(e),i!==null&&i.dehydrated!==null){if(s===null){if(!a)throw Error(fe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(fe(317));a[ti]=e}else Uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rs(e),a=!1}else Un!==null&&(zg(Un),Un=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(s!==null&&s.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(s===null||Ut.current&1?cs===0&&(cs=3):Xx())),e.updateQueue!==null&&(e.flags|=4),Rs(e),null);case 4:return qo(),Lg(s,e),s===null&&Wc(e.stateNode.containerInfo),Rs(e),null;case 10:return Mx(e.type._context),Rs(e),null;case 17:return an(e.type)&&Ih(),Rs(e),null;case 19:if(Ot(Ut),a=e.memoizedState,a===null)return Rs(e),null;if(i=(e.flags&128)!==0,o=a.rendering,o===null)if(i)Kl(a,!1);else{if(cs!==0||s!==null&&s.flags&128)for(s=e.child;s!==null;){if(o=Bh(s),o!==null){for(e.flags|=128,Kl(a,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)a=n,s=i,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,s=o.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n=n.sibling;return Pt(Ut,Ut.current&1|2),e.child}s=s.sibling}a.tail!==null&&Zt()>Wo&&(e.flags|=128,i=!0,Kl(a,!1),e.lanes=4194304)}else{if(!i)if(s=Bh(o),s!==null){if(e.flags|=128,i=!0,n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ft)return Rs(e),null}else 2*Zt()-a.renderingStartTime>Wo&&n!==1073741824&&(e.flags|=128,i=!0,Kl(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Zt(),e.sibling=null,n=Ut.current,Pt(Ut,i?n&1|2:n&1),e):(Rs(e),null);case 22:case 23:return Jx(),i=e.memoizedState!==null,s!==null&&s.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?pn&1073741824&&(Rs(e),e.subtreeFlags&6&&(e.flags|=8192)):Rs(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function kD(s,e){switch(Ax(e),e.tag){case 1:return an(e.type)&&Ih(),s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 3:return qo(),Ot(rn),Ot(qs),Bx(),s=e.flags,s&65536&&!(s&128)?(e.flags=s&-65537|128,e):null;case 5:return Fx(e),null;case 13:if(Ot(Ut),s=e.memoizedState,s!==null&&s.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Uo()}return s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 19:return Ot(Ut),null;case 4:return qo(),null;case 10:return Mx(e.type._context),null;case 22:case 23:return Jx(),null;case 24:return null;default:return null}}var Du=!1,Ls=!1,_D=typeof WeakSet=="function"?WeakSet:Set,Te=null;function xo(s,e){var n=s.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Kt(s,e,i)}else n.current=null}function Og(s,e,n){try{n()}catch(i){Kt(s,e,i)}}var F0=!1;function CD(s,e){if(jg=Eh,s=Mk(),Ex(s)){if("selectionStart"in s)var n={start:s.selectionStart,end:s.selectionEnd};else e:{n=(n=s.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,m=s,p=null;t:for(;;){for(var g;m!==n||r!==0&&m.nodeType!==3||(l=o+r),m!==a||i!==0&&m.nodeType!==3||(c=o+i),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===s)break t;if(p===n&&++d===r&&(l=o),p===a&&++h===i&&(c=o),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ng={focusedElem:s,selectionRange:n},Eh=!1,Te=e;Te!==null;)if(e=Te,s=e.child,(e.subtreeFlags&1028)!==0&&s!==null)s.return=e,Te=s;else for(;Te!==null;){e=Te;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var j=x.memoizedProps,v=x.memoizedState,b=e.stateNode,N=b.getSnapshotBeforeUpdate(e.elementType===e.type?j:Fn(e.type,j),v);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(I){Kt(e,e.return,I)}if(s=e.sibling,s!==null){s.return=e.return,Te=s;break}Te=e.return}return x=F0,F0=!1,x}function yc(s,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&s)===s){var a=r.destroy;r.destroy=void 0,a!==void 0&&Og(e,n,a)}r=r.next}while(r!==i)}}function $m(s,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&s)===s){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Vg(s){var e=s.ref;if(e!==null){var n=s.stateNode;switch(s.tag){case 5:s=n;break;default:s=n}typeof e=="function"?e(s):e.current=s}}function A_(s){var e=s.alternate;e!==null&&(s.alternate=null,A_(e)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(e=s.stateNode,e!==null&&(delete e[ti],delete e[Gc],delete e[Sg],delete e[cD],delete e[dD])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function R_(s){return s.tag===5||s.tag===3||s.tag===4}function B0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||R_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fg(s,e,n){var i=s.tag;if(i===5||i===6)s=s.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(s,e):n.insertBefore(s,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(s,n)):(e=n,e.appendChild(s)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rh));else if(i!==4&&(s=s.child,s!==null))for(Fg(s,e,n),s=s.sibling;s!==null;)Fg(s,e,n),s=s.sibling}function Bg(s,e,n){var i=s.tag;if(i===5||i===6)s=s.stateNode,e?n.insertBefore(s,e):n.appendChild(s);else if(i!==4&&(s=s.child,s!==null))for(Bg(s,e,n),s=s.sibling;s!==null;)Bg(s,e,n),s=s.sibling}var js=null,Bn=!1;function or(s,e,n){for(n=n.child;n!==null;)I_(s,e,n),n=n.sibling}function I_(s,e,n){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(Dm,n)}catch{}switch(n.tag){case 5:Ls||xo(n,e);case 6:var i=js,r=Bn;js=null,or(s,e,n),js=i,Bn=r,js!==null&&(Bn?(s=js,n=n.stateNode,s.nodeType===8?s.parentNode.removeChild(n):s.removeChild(n)):js.removeChild(n.stateNode));break;case 18:js!==null&&(Bn?(s=js,n=n.stateNode,s.nodeType===8?ef(s.parentNode,n):s.nodeType===1&&ef(s,n),$c(s)):ef(js,n.stateNode));break;case 4:i=js,r=Bn,js=n.stateNode.containerInfo,Bn=!0,or(s,e,n),js=i,Bn=r;break;case 0:case 11:case 14:case 15:if(!Ls&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Og(n,e,o),r=r.next}while(r!==i)}or(s,e,n);break;case 1:if(!Ls&&(xo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){Kt(n,e,l)}or(s,e,n);break;case 21:or(s,e,n);break;case 22:n.mode&1?(Ls=(i=Ls)||n.memoizedState!==null,or(s,e,n),Ls=i):or(s,e,n);break;default:or(s,e,n)}}function U0(s){var e=s.updateQueue;if(e!==null){s.updateQueue=null;var n=s.stateNode;n===null&&(n=s.stateNode=new _D),e.forEach(function(i){var r=LD.bind(null,s,i);n.has(i)||(n.add(i),i.then(r,r))})}}function On(s,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var a=s,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:js=l.stateNode,Bn=!1;break e;case 3:js=l.stateNode.containerInfo,Bn=!0;break e;case 4:js=l.stateNode.containerInfo,Bn=!0;break e}l=l.return}if(js===null)throw Error(fe(160));I_(a,o,r),js=null,Bn=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){Kt(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)D_(e,s),e=e.sibling}function D_(s,e){var n=s.alternate,i=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(On(e,s),Xn(s),i&4){try{yc(3,s,s.return),$m(3,s)}catch(j){Kt(s,s.return,j)}try{yc(5,s,s.return)}catch(j){Kt(s,s.return,j)}}break;case 1:On(e,s),Xn(s),i&512&&n!==null&&xo(n,n.return);break;case 5:if(On(e,s),Xn(s),i&512&&n!==null&&xo(n,n.return),s.flags&32){var r=s.stateNode;try{Vc(r,"")}catch(j){Kt(s,s.return,j)}}if(i&4&&(r=s.stateNode,r!=null)){var a=s.memoizedProps,o=n!==null?n.memoizedProps:a,l=s.type,c=s.updateQueue;if(s.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&sk(r,a),dg(l,o);var d=dg(l,a);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?ok(r,m):h==="dangerouslySetInnerHTML"?rk(r,m):h==="children"?Vc(r,m):gx(r,h,m,d)}switch(l){case"input":rg(r,a);break;case"textarea":nk(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?_o(r,!!a.multiple,g,!1):p!==!!a.multiple&&(a.defaultValue!=null?_o(r,!!a.multiple,a.defaultValue,!0):_o(r,!!a.multiple,a.multiple?[]:"",!1))}r[Gc]=a}catch(j){Kt(s,s.return,j)}}break;case 6:if(On(e,s),Xn(s),i&4){if(s.stateNode===null)throw Error(fe(162));r=s.stateNode,a=s.memoizedProps;try{r.nodeValue=a}catch(j){Kt(s,s.return,j)}}break;case 3:if(On(e,s),Xn(s),i&4&&n!==null&&n.memoizedState.isDehydrated)try{$c(e.containerInfo)}catch(j){Kt(s,s.return,j)}break;case 4:On(e,s),Xn(s);break;case 13:On(e,s),Xn(s),r=s.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(Qx=Zt())),i&4&&U0(s);break;case 22:if(h=n!==null&&n.memoizedState!==null,s.mode&1?(Ls=(d=Ls)||h,On(e,s),Ls=d):On(e,s),Xn(s),i&8192){if(d=s.memoizedState!==null,(s.stateNode.isHidden=d)&&!h&&s.mode&1)for(Te=s,h=s.child;h!==null;){for(m=Te=h;Te!==null;){switch(p=Te,g=p.child,p.tag){case 0:case 11:case 14:case 15:yc(4,p,p.return);break;case 1:xo(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(j){Kt(i,n,j)}}break;case 5:xo(p,p.return);break;case 22:if(p.memoizedState!==null){q0(m);continue}}g!==null?(g.return=p,Te=g):q0(m)}h=h.sibling}e:for(h=null,m=s;;){if(m.tag===5){if(h===null){h=m;try{r=m.stateNode,d?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ak("display",o))}catch(j){Kt(s,s.return,j)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(j){Kt(s,s.return,j)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===s)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:On(e,s),Xn(s),i&4&&U0(s);break;case 21:break;default:On(e,s),Xn(s)}}function Xn(s){var e=s.flags;if(e&2){try{e:{for(var n=s.return;n!==null;){if(R_(n)){var i=n;break e}n=n.return}throw Error(fe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Vc(r,""),i.flags&=-33);var a=B0(s);Bg(s,a,r);break;case 3:case 4:var o=i.stateNode.containerInfo,l=B0(s);Fg(s,l,o);break;default:throw Error(fe(161))}}catch(c){Kt(s,s.return,c)}s.flags&=-3}e&4096&&(s.flags&=-4097)}function TD(s,e,n){Te=s,M_(s)}function M_(s,e,n){for(var i=(s.mode&1)!==0;Te!==null;){var r=Te,a=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Du;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Ls;l=Du;var d=Ls;if(Du=o,(Ls=c)&&!d)for(Te=r;Te!==null;)o=Te,c=o.child,o.tag===22&&o.memoizedState!==null?z0(r):c!==null?(c.return=o,Te=c):z0(r);for(;a!==null;)Te=a,M_(a),a=a.sibling;Te=r,Du=l,Ls=d}$0(s)}else r.subtreeFlags&8772&&a!==null?(a.return=r,Te=a):$0(s)}}function $0(s){for(;Te!==null;){var e=Te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ls||$m(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ls)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&_0(e,a,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&$c(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Ls||e.flags&512&&Vg(e)}catch(p){Kt(e,e.return,p)}}if(e===s){Te=null;break}if(n=e.sibling,n!==null){n.return=e.return,Te=n;break}Te=e.return}}function q0(s){for(;Te!==null;){var e=Te;if(e===s){Te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Te=n;break}Te=e.return}}function z0(s){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$m(4,e)}catch(c){Kt(e,n,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(c){Kt(e,r,c)}}var a=e.return;try{Vg(e)}catch(c){Kt(e,a,c)}break;case 5:var o=e.return;try{Vg(e)}catch(c){Kt(e,o,c)}}}catch(c){Kt(e,e.return,c)}if(e===s){Te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Te=l;break}Te=e.return}}var ED=Math.ceil,qh=Xi.ReactCurrentDispatcher,Gx=Xi.ReactCurrentOwner,En=Xi.ReactCurrentBatchConfig,mt=0,vs=null,ns=null,ks=0,pn=0,yo=Gr(0),cs=0,Zc=null,Ca=0,qm=0,Kx=0,jc=null,Zs=null,Qx=0,Wo=1/0,_i=null,zh=!1,Ug=null,Cr=null,Mu=!1,yr=null,Wh=0,Nc=0,$g=null,rh=-1,ah=0;function Qs(){return mt&6?Zt():rh!==-1?rh:rh=Zt()}function Tr(s){return s.mode&1?mt&2&&ks!==0?ks&-ks:hD.transition!==null?(ah===0&&(ah=yk()),ah):(s=St,s!==0||(s=window.event,s=s===void 0?16:_k(s.type)),s):1}function Gn(s,e,n,i){if(50<Nc)throw Nc=0,$g=null,Error(fe(185));Cd(s,n,i),(!(mt&2)||s!==vs)&&(s===vs&&(!(mt&2)&&(qm|=n),cs===4&&pr(s,ks)),on(s,i),n===1&&mt===0&&!(e.mode&1)&&(Wo=Zt()+500,Fm&&Kr()))}function on(s,e){var n=s.callbackNode;hI(s,e);var i=Th(s,s===vs?ks:0);if(i===0)n!==null&&ZN(n),s.callbackNode=null,s.callbackPriority=0;else if(e=i&-i,s.callbackPriority!==e){if(n!=null&&ZN(n),e===1)s.tag===0?uD(W0.bind(null,s)):Wk(W0.bind(null,s)),oD(function(){!(mt&6)&&Kr()}),n=null;else{switch(jk(i)){case 1:n=Nx;break;case 4:n=vk;break;case 16:n=Ch;break;case 536870912:n=xk;break;default:n=Ch}n=q_(n,L_.bind(null,s))}s.callbackPriority=e,s.callbackNode=n}}function L_(s,e){if(rh=-1,ah=0,mt&6)throw Error(fe(327));var n=s.callbackNode;if(Ao()&&s.callbackNode!==n)return null;var i=Th(s,s===vs?ks:0);if(i===0)return null;if(i&30||i&s.expiredLanes||e)e=Hh(s,i);else{e=i;var r=mt;mt|=2;var a=V_();(vs!==s||ks!==e)&&(_i=null,Wo=Zt()+500,ga(s,e));do try{RD();break}catch(l){O_(s,l)}while(!0);Dx(),qh.current=a,mt=r,ns!==null?e=0:(vs=null,ks=0,e=cs)}if(e!==0){if(e===2&&(r=fg(s),r!==0&&(i=r,e=qg(s,r))),e===1)throw n=Zc,ga(s,0),pr(s,i),on(s,Zt()),n;if(e===6)pr(s,i);else{if(r=s.current.alternate,!(i&30)&&!PD(r)&&(e=Hh(s,i),e===2&&(a=fg(s),a!==0&&(i=a,e=qg(s,a))),e===1))throw n=Zc,ga(s,0),pr(s,i),on(s,Zt()),n;switch(s.finishedWork=r,s.finishedLanes=i,e){case 0:case 1:throw Error(fe(345));case 2:sa(s,Zs,_i);break;case 3:if(pr(s,i),(i&130023424)===i&&(e=Qx+500-Zt(),10<e)){if(Th(s,0)!==0)break;if(r=s.suspendedLanes,(r&i)!==i){Qs(),s.pingedLanes|=s.suspendedLanes&r;break}s.timeoutHandle=wg(sa.bind(null,s,Zs,_i),e);break}sa(s,Zs,_i);break;case 4:if(pr(s,i),(i&4194240)===i)break;for(e=s.eventTimes,r=-1;0<i;){var o=31-Hn(i);a=1<<o,o=e[o],o>r&&(r=o),i&=~a}if(i=r,i=Zt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ED(i/1960))-i,10<i){s.timeoutHandle=wg(sa.bind(null,s,Zs,_i),i);break}sa(s,Zs,_i);break;case 5:sa(s,Zs,_i);break;default:throw Error(fe(329))}}}return on(s,Zt()),s.callbackNode===n?L_.bind(null,s):null}function qg(s,e){var n=jc;return s.current.memoizedState.isDehydrated&&(ga(s,e).flags|=256),s=Hh(s,e),s!==2&&(e=Zs,Zs=n,e!==null&&zg(e)),s}function zg(s){Zs===null?Zs=s:Zs.push.apply(Zs,s)}function PD(s){for(var e=s;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Yn(a(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pr(s,e){for(e&=~Kx,e&=~qm,s.suspendedLanes|=e,s.pingedLanes&=~e,s=s.expirationTimes;0<e;){var n=31-Hn(e),i=1<<n;s[n]=-1,e&=~i}}function W0(s){if(mt&6)throw Error(fe(327));Ao();var e=Th(s,0);if(!(e&1))return on(s,Zt()),null;var n=Hh(s,e);if(s.tag!==0&&n===2){var i=fg(s);i!==0&&(e=i,n=qg(s,i))}if(n===1)throw n=Zc,ga(s,0),pr(s,e),on(s,Zt()),n;if(n===6)throw Error(fe(345));return s.finishedWork=s.current.alternate,s.finishedLanes=e,sa(s,Zs,_i),on(s,Zt()),null}function Yx(s,e){var n=mt;mt|=1;try{return s(e)}finally{mt=n,mt===0&&(Wo=Zt()+500,Fm&&Kr())}}function Ta(s){yr!==null&&yr.tag===0&&!(mt&6)&&Ao();var e=mt;mt|=1;var n=En.transition,i=St;try{if(En.transition=null,St=1,s)return s()}finally{St=i,En.transition=n,mt=e,!(mt&6)&&Kr()}}function Jx(){pn=yo.current,Ot(yo)}function ga(s,e){s.finishedWork=null,s.finishedLanes=0;var n=s.timeoutHandle;if(n!==-1&&(s.timeoutHandle=-1,aD(n)),ns!==null)for(n=ns.return;n!==null;){var i=n;switch(Ax(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ih();break;case 3:qo(),Ot(rn),Ot(qs),Bx();break;case 5:Fx(i);break;case 4:qo();break;case 13:Ot(Ut);break;case 19:Ot(Ut);break;case 10:Mx(i.type._context);break;case 22:case 23:Jx()}n=n.return}if(vs=s,ns=s=Er(s.current,null),ks=pn=e,cs=0,Zc=null,Kx=qm=Ca=0,Zs=jc=null,oa!==null){for(e=0;e<oa.length;e++)if(n=oa[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,i.next=o}n.pending=i}oa=null}return s}function O_(s,e){do{var n=ns;try{if(Dx(),sh.current=$h,Uh){for(var i=qt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Uh=!1}if(_a=0,fs=rs=qt=null,xc=!1,Yc=0,Gx.current=null,n===null||n.return===null){cs=1,Zc=e,ns=null;break}e:{var a=s,o=n.return,l=n,c=e;if(e=ks,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=R0(o);if(g!==null){g.flags&=-257,I0(g,o,l,a,e),g.mode&1&&A0(a,d,e),e=g,c=d;var x=e.updateQueue;if(x===null){var j=new Set;j.add(c),e.updateQueue=j}else x.add(c);break e}else{if(!(e&1)){A0(a,d,e),Xx();break e}c=Error(fe(426))}}else if(Ft&&l.mode&1){var v=R0(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),I0(v,o,l,a,e),Rx(zo(c,l));break e}}a=c=zo(c,l),cs!==4&&(cs=2),jc===null?jc=[a]:jc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=j_(a,c,e);k0(a,b);break e;case 1:l=c;var N=a.type,C=a.stateNode;if(!(a.flags&128)&&(typeof N.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Cr===null||!Cr.has(C)))){a.flags|=65536,e&=-e,a.lanes|=e;var I=N_(a,l,e);k0(a,I);break e}}a=a.return}while(a!==null)}B_(n)}catch(D){e=D,ns===n&&n!==null&&(ns=n=n.return);continue}break}while(!0)}function V_(){var s=qh.current;return qh.current=$h,s===null?$h:s}function Xx(){(cs===0||cs===3||cs===2)&&(cs=4),vs===null||!(Ca&268435455)&&!(qm&268435455)||pr(vs,ks)}function Hh(s,e){var n=mt;mt|=2;var i=V_();(vs!==s||ks!==e)&&(_i=null,ga(s,e));do try{AD();break}catch(r){O_(s,r)}while(!0);if(Dx(),mt=n,qh.current=i,ns!==null)throw Error(fe(261));return vs=null,ks=0,cs}function AD(){for(;ns!==null;)F_(ns)}function RD(){for(;ns!==null&&!nI();)F_(ns)}function F_(s){var e=$_(s.alternate,s,pn);s.memoizedProps=s.pendingProps,e===null?B_(s):ns=e,Gx.current=null}function B_(s){var e=s;do{var n=e.alternate;if(s=e.return,e.flags&32768){if(n=kD(n,e),n!==null){n.flags&=32767,ns=n;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cs=6,ns=null;return}}else if(n=SD(n,e,pn),n!==null){ns=n;return}if(e=e.sibling,e!==null){ns=e;return}ns=e=s}while(e!==null);cs===0&&(cs=5)}function sa(s,e,n){var i=St,r=En.transition;try{En.transition=null,St=1,ID(s,e,n,i)}finally{En.transition=r,St=i}return null}function ID(s,e,n,i){do Ao();while(yr!==null);if(mt&6)throw Error(fe(327));n=s.finishedWork;var r=s.finishedLanes;if(n===null)return null;if(s.finishedWork=null,s.finishedLanes=0,n===s.current)throw Error(fe(177));s.callbackNode=null,s.callbackPriority=0;var a=n.lanes|n.childLanes;if(mI(s,a),s===vs&&(ns=vs=null,ks=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mu||(Mu=!0,q_(Ch,function(){return Ao(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=En.transition,En.transition=null;var o=St;St=1;var l=mt;mt|=4,Gx.current=null,CD(s,n),D_(n,s),ZI(Ng),Eh=!!jg,Ng=jg=null,s.current=n,TD(n),iI(),mt=l,St=o,En.transition=a}else s.current=n;if(Mu&&(Mu=!1,yr=s,Wh=r),a=s.pendingLanes,a===0&&(Cr=null),oI(n.stateNode),on(s,Zt()),e!==null)for(i=s.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(zh)throw zh=!1,s=Ug,Ug=null,s;return Wh&1&&s.tag!==0&&Ao(),a=s.pendingLanes,a&1?s===$g?Nc++:(Nc=0,$g=s):Nc=0,Kr(),null}function Ao(){if(yr!==null){var s=jk(Wh),e=En.transition,n=St;try{if(En.transition=null,St=16>s?16:s,yr===null)var i=!1;else{if(s=yr,yr=null,Wh=0,mt&6)throw Error(fe(331));var r=mt;for(mt|=4,Te=s.current;Te!==null;){var a=Te,o=a.child;if(Te.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Te=d;Te!==null;){var h=Te;switch(h.tag){case 0:case 11:case 15:yc(8,h,a)}var m=h.child;if(m!==null)m.return=h,Te=m;else for(;Te!==null;){h=Te;var p=h.sibling,g=h.return;if(A_(h),h===d){Te=null;break}if(p!==null){p.return=g,Te=p;break}Te=g}}}var x=a.alternate;if(x!==null){var j=x.child;if(j!==null){x.child=null;do{var v=j.sibling;j.sibling=null,j=v}while(j!==null)}}Te=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Te=o;else e:for(;Te!==null;){if(a=Te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yc(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Te=b;break e}Te=a.return}}var N=s.current;for(Te=N;Te!==null;){o=Te;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Te=C;else e:for(o=N;Te!==null;){if(l=Te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$m(9,l)}}catch(D){Kt(l,l.return,D)}if(l===o){Te=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,Te=I;break e}Te=l.return}}if(mt=r,Kr(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(Dm,s)}catch{}i=!0}return i}finally{St=n,En.transition=e}}return!1}function H0(s,e,n){e=zo(n,e),e=j_(s,e,1),s=_r(s,e,1),e=Qs(),s!==null&&(Cd(s,1,e),on(s,e))}function Kt(s,e,n){if(s.tag===3)H0(s,s,n);else for(;e!==null;){if(e.tag===3){H0(e,s,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Cr===null||!Cr.has(i))){s=zo(n,s),s=N_(e,s,1),e=_r(e,s,1),s=Qs(),e!==null&&(Cd(e,1,s),on(e,s));break}}e=e.return}}function DD(s,e,n){var i=s.pingCache;i!==null&&i.delete(e),e=Qs(),s.pingedLanes|=s.suspendedLanes&n,vs===s&&(ks&n)===n&&(cs===4||cs===3&&(ks&130023424)===ks&&500>Zt()-Qx?ga(s,0):Kx|=n),on(s,e)}function U_(s,e){e===0&&(s.mode&1?(e=ku,ku<<=1,!(ku&130023424)&&(ku=4194304)):e=1);var n=Qs();s=$i(s,e),s!==null&&(Cd(s,e,n),on(s,n))}function MD(s){var e=s.memoizedState,n=0;e!==null&&(n=e.retryLane),U_(s,n)}function LD(s,e){var n=0;switch(s.tag){case 13:var i=s.stateNode,r=s.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=s.stateNode;break;default:throw Error(fe(314))}i!==null&&i.delete(e),U_(s,n)}var $_;$_=function(s,e,n){if(s!==null)if(s.memoizedProps!==e.pendingProps||rn.current)en=!0;else{if(!(s.lanes&n)&&!(e.flags&128))return en=!1,wD(s,e,n);en=!!(s.flags&131072)}else en=!1,Ft&&e.flags&1048576&&Hk(e,Lh,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;ih(s,e),s=e.pendingProps;var r=Bo(e,qs.current);Po(e,n),r=$x(null,e,i,s,r,n);var a=qx();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(i)?(a=!0,Dh(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ox(e),r.updater=Um,e.stateNode=r,r._reactInternals=e,Pg(e,i,s,n),e=Ig(null,e,i,!0,a,n)):(e.tag=0,Ft&&a&&Px(e),Hs(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(ih(s,e),s=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=VD(i),s=Fn(i,s),r){case 0:e=Rg(null,e,i,s,n);break e;case 1:e=L0(null,e,i,s,n);break e;case 11:e=D0(null,e,i,s,n);break e;case 14:e=M0(null,e,i,Fn(i.type,s),n);break e}throw Error(fe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Fn(i,r),Rg(s,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Fn(i,r),L0(s,e,i,r,n);case 3:e:{if(k_(e),s===null)throw Error(fe(387));i=e.pendingProps,a=e.memoizedState,r=a.element,Xk(s,e),Fh(e,i,null,n);var o=e.memoizedState;if(i=o.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=zo(Error(fe(423)),e),e=O0(s,e,i,n,r);break e}else if(i!==r){r=zo(Error(fe(424)),e),e=O0(s,e,i,n,r);break e}else for(fn=kr(e.stateNode.containerInfo.firstChild),gn=e,Ft=!0,Un=null,n=Yk(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uo(),i===r){e=qi(s,e,n);break e}Hs(s,e,i,n)}e=e.child}return e;case 5:return Zk(e),s===null&&Cg(e),i=e.type,r=e.pendingProps,a=s!==null?s.memoizedProps:null,o=r.children,bg(i,r)?o=null:a!==null&&bg(i,a)&&(e.flags|=32),S_(s,e),Hs(s,e,o,n),e.child;case 6:return s===null&&Cg(e),null;case 13:return __(s,e,n);case 4:return Vx(e,e.stateNode.containerInfo),i=e.pendingProps,s===null?e.child=$o(e,null,i,n):Hs(s,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Fn(i,r),D0(s,e,i,r,n);case 7:return Hs(s,e,e.pendingProps,n),e.child;case 8:return Hs(s,e,e.pendingProps.children,n),e.child;case 12:return Hs(s,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value,Pt(Oh,i._currentValue),i._currentValue=o,a!==null)if(Yn(a.value,o)){if(a.children===r.children&&!rn.current){e=qi(s,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(a.tag===1){c=Li(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Tg(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(fe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Tg(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Hs(s,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Po(e,n),r=Rn(r),i=i(r),e.flags|=1,Hs(s,e,i,n),e.child;case 14:return i=e.type,r=Fn(i,e.pendingProps),r=Fn(i.type,r),M0(s,e,i,r,n);case 15:return b_(s,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Fn(i,r),ih(s,e),e.tag=1,an(i)?(s=!0,Dh(e)):s=!1,Po(e,n),y_(e,i,r),Pg(e,i,r,n),Ig(null,e,i,!0,s,n);case 19:return C_(s,e,n);case 22:return w_(s,e,n)}throw Error(fe(156,e.tag))};function q_(s,e){return gk(s,e)}function OD(s,e,n,i){this.tag=s,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(s,e,n,i){return new OD(s,e,n,i)}function Zx(s){return s=s.prototype,!(!s||!s.isReactComponent)}function VD(s){if(typeof s=="function")return Zx(s)?1:0;if(s!=null){if(s=s.$$typeof,s===xx)return 11;if(s===yx)return 14}return 2}function Er(s,e){var n=s.alternate;return n===null?(n=kn(s.tag,e,s.key,s.mode),n.elementType=s.elementType,n.type=s.type,n.stateNode=s.stateNode,n.alternate=s,s.alternate=n):(n.pendingProps=e,n.type=s.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=s.flags&14680064,n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,e=s.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=s.sibling,n.index=s.index,n.ref=s.ref,n}function oh(s,e,n,i,r,a){var o=2;if(i=s,typeof s=="function")Zx(s)&&(o=1);else if(typeof s=="string")o=5;else e:switch(s){case lo:return va(n.children,r,a,e);case vx:o=8,r|=8;break;case eg:return s=kn(12,n,e,r|2),s.elementType=eg,s.lanes=a,s;case tg:return s=kn(13,n,e,r),s.elementType=tg,s.lanes=a,s;case sg:return s=kn(19,n,e,r),s.elementType=sg,s.lanes=a,s;case Z1:return zm(n,r,a,e);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case J1:o=10;break e;case X1:o=9;break e;case xx:o=11;break e;case yx:o=14;break e;case ur:o=16,i=null;break e}throw Error(fe(130,s==null?s:typeof s,""))}return e=kn(o,n,e,r),e.elementType=s,e.type=i,e.lanes=a,e}function va(s,e,n,i){return s=kn(7,s,i,e),s.lanes=n,s}function zm(s,e,n,i){return s=kn(22,s,i,e),s.elementType=Z1,s.lanes=n,s.stateNode={isHidden:!1},s}function cf(s,e,n){return s=kn(6,s,null,e),s.lanes=n,s}function df(s,e,n){return e=kn(4,s.children!==null?s.children:[],s.key,e),e.lanes=n,e.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},e}function FD(s,e,n,i,r){this.tag=e,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qp(0),this.expirationTimes=qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qp(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ey(s,e,n,i,r,a,o,l,c){return s=new FD(s,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=kn(3,null,null,e),s.current=a,a.stateNode=s,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ox(a),s}function BD(s,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:i==null?null:""+i,children:s,containerInfo:e,implementation:n}}function z_(s){if(!s)return Vr;s=s._reactInternals;e:{if(Ba(s)!==s||s.tag!==1)throw Error(fe(170));var e=s;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(s.tag===1){var n=s.type;if(an(n))return zk(s,n,e)}return e}function W_(s,e,n,i,r,a,o,l,c){return s=ey(n,i,!0,s,r,a,o,l,c),s.context=z_(null),n=s.current,i=Qs(),r=Tr(n),a=Li(i,r),a.callback=e??null,_r(n,a,r),s.current.lanes=r,Cd(s,r,i),on(s,i),s}function Wm(s,e,n,i){var r=e.current,a=Qs(),o=Tr(r);return n=z_(n),e.context===null?e.context=n:e.pendingContext=n,e=Li(a,o),e.payload={element:s},i=i===void 0?null:i,i!==null&&(e.callback=i),s=_r(r,e,o),s!==null&&(Gn(s,r,o,a),th(s,r,o)),o}function Gh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function G0(s,e){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var n=s.retryLane;s.retryLane=n!==0&&n<e?n:e}}function ty(s,e){G0(s,e),(s=s.alternate)&&G0(s,e)}function UD(){return null}var H_=typeof reportError=="function"?reportError:function(s){console.error(s)};function sy(s){this._internalRoot=s}Hm.prototype.render=sy.prototype.render=function(s){var e=this._internalRoot;if(e===null)throw Error(fe(409));Wm(s,e,null,null)};Hm.prototype.unmount=sy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var e=s.containerInfo;Ta(function(){Wm(null,s,null,null)}),e[Ui]=null}};function Hm(s){this._internalRoot=s}Hm.prototype.unstable_scheduleHydration=function(s){if(s){var e=wk();s={blockedOn:null,target:s,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,s),n===0&&kk(s)}};function ny(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Gm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function K0(){}function $D(s,e,n,i,r){if(r){if(typeof i=="function"){var a=i;i=function(){var d=Gh(o);a.call(d)}}var o=W_(e,i,s,0,null,!1,!1,"",K0);return s._reactRootContainer=o,s[Ui]=o.current,Wc(s.nodeType===8?s.parentNode:s),Ta(),o}for(;r=s.lastChild;)s.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var d=Gh(c);l.call(d)}}var c=ey(s,0,!1,null,null,!1,!1,"",K0);return s._reactRootContainer=c,s[Ui]=c.current,Wc(s.nodeType===8?s.parentNode:s),Ta(function(){Wm(e,c,n,i)}),c}function Km(s,e,n,i,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=Gh(o);l.call(c)}}Wm(e,o,s,r)}else o=$D(n,e,s,r,i);return Gh(o)}Nk=function(s){switch(s.tag){case 3:var e=s.stateNode;if(e.current.memoizedState.isDehydrated){var n=rc(e.pendingLanes);n!==0&&(bx(e,n|1),on(e,Zt()),!(mt&6)&&(Wo=Zt()+500,Kr()))}break;case 13:Ta(function(){var i=$i(s,1);if(i!==null){var r=Qs();Gn(i,s,1,r)}}),ty(s,1)}};wx=function(s){if(s.tag===13){var e=$i(s,134217728);if(e!==null){var n=Qs();Gn(e,s,134217728,n)}ty(s,134217728)}};bk=function(s){if(s.tag===13){var e=Tr(s),n=$i(s,e);if(n!==null){var i=Qs();Gn(n,s,e,i)}ty(s,e)}};wk=function(){return St};Sk=function(s,e){var n=St;try{return St=s,e()}finally{St=n}};hg=function(s,e,n){switch(e){case"input":if(rg(s,n),e=n.name,n.type==="radio"&&e!=null){for(n=s;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==s&&i.form===s.form){var r=Vm(i);if(!r)throw Error(fe(90));tk(i),rg(i,r)}}}break;case"textarea":nk(s,n);break;case"select":e=n.value,e!=null&&_o(s,!!n.multiple,e,!1)}};dk=Yx;uk=Ta;var qD={usingClientEntryPoint:!1,Events:[Ed,mo,Vm,lk,ck,Yx]},Ql={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zD={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=pk(s),s===null?null:s.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||UD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Dm=Lu.inject(zD),ni=Lu}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qD;xn.createPortal=function(s,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ny(e))throw Error(fe(200));return BD(s,e,null,n)};xn.createRoot=function(s,e){if(!ny(s))throw Error(fe(299));var n=!1,i="",r=H_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=ey(s,1,!1,null,null,n,!1,i,r),s[Ui]=e.current,Wc(s.nodeType===8?s.parentNode:s),new sy(e)};xn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var e=s._reactInternals;if(e===void 0)throw typeof s.render=="function"?Error(fe(188)):(s=Object.keys(s).join(","),Error(fe(268,s)));return s=pk(e),s=s===null?null:s.stateNode,s};xn.flushSync=function(s){return Ta(s)};xn.hydrate=function(s,e,n){if(!Gm(e))throw Error(fe(200));return Km(null,s,e,!0,n)};xn.hydrateRoot=function(s,e,n){if(!ny(s))throw Error(fe(405));var i=n!=null&&n.hydratedSources||null,r=!1,a="",o=H_;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=W_(e,null,s,1,n??null,r,!1,a,o),s[Ui]=e.current,Wc(s),i)for(s=0;s<i.length;s++)n=i[s],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Hm(e)};xn.render=function(s,e,n){if(!Gm(e))throw Error(fe(200));return Km(null,s,e,!1,n)};xn.unmountComponentAtNode=function(s){if(!Gm(s))throw Error(fe(40));return s._reactRootContainer?(Ta(function(){Km(null,null,s,!1,function(){s._reactRootContainer=null,s[Ui]=null})}),!0):!1};xn.unstable_batchedUpdates=Yx;xn.unstable_renderSubtreeIntoContainer=function(s,e,n,i){if(!Gm(n))throw Error(fe(200));if(s==null||s._reactInternals===void 0)throw Error(fe(38));return Km(s,e,n,!1,i)};xn.version="18.3.1-next-f1338f8080-20240426";function G_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G_)}catch(s){console.error(s)}}G_(),G1.exports=xn;var WD=G1.exports,Q0=WD;Xf.createRoot=Q0.createRoot,Xf.hydrateRoot=Q0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},ed.apply(this,arguments)}var jr;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(jr||(jr={}));const Y0="popstate";function HD(s){s===void 0&&(s={});function e(i,r){let{pathname:a,search:o,hash:l}=i.location;return Wg("",{pathname:a,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Kh(r)}return KD(e,n,null,s)}function zt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function K_(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GD(){return Math.random().toString(36).substr(2,8)}function J0(s,e){return{usr:s.state,key:s.key,idx:e}}function Wg(s,e,n,i){return n===void 0&&(n=null),ed({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?hl(e):e,{state:n,key:e&&e.key||i||GD()})}function Kh(s){let{pathname:e="/",search:n="",hash:i=""}=s;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function hl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substr(n),s=s.substr(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substr(i),s=s.substr(0,i)),s&&(e.pathname=s)}return e}function KD(s,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,l=jr.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(ed({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=jr.Pop;let v=h(),b=v==null?null:v-d;d=v,c&&c({action:l,location:j.location,delta:b})}function p(v,b){l=jr.Push;let N=Wg(j.location,v,b);d=h()+1;let C=J0(N,d),I=j.createHref(N);try{o.pushState(C,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(I)}a&&c&&c({action:l,location:j.location,delta:1})}function g(v,b){l=jr.Replace;let N=Wg(j.location,v,b);d=h();let C=J0(N,d),I=j.createHref(N);o.replaceState(C,"",I),a&&c&&c({action:l,location:j.location,delta:0})}function x(v){let b=r.location.origin!=="null"?r.location.origin:r.location.href,N=typeof v=="string"?v:Kh(v);return N=N.replace(/ $/,"%20"),zt(b,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,b)}let j={get action(){return l},get location(){return s(r,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Y0,m),c=v,()=>{r.removeEventListener(Y0,m),c=null}},createHref(v){return e(r,v)},createURL:x,encodeLocation(v){let b=x(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:g,go(v){return o.go(v)}};return j}var X0;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(X0||(X0={}));function QD(s,e,n){return n===void 0&&(n="/"),YD(s,e,n)}function YD(s,e,n,i){let r=typeof e=="string"?hl(e):e,a=Ho(r.pathname||"/",n);if(a==null)return null;let o=Q_(s);JD(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=l4(a);l=a4(o[c],d)}return l}function Q_(s,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(zt(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let d=Pr([i,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(zt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Q_(a.children,e,h,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:i4(d,a.index),routesMeta:h})};return s.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,o);else for(let c of Y_(a.path))r(a,o,c)}),e}function Y_(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let o=Y_(i.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),r&&l.push(...o),l.map(c=>s.startsWith("/")&&c===""?"/":c)}function JD(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:r4(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const XD=/^:[\w-]+$/,ZD=3,e4=2,t4=1,s4=10,n4=-2,Z0=s=>s==="*";function i4(s,e){let n=s.split("/"),i=n.length;return n.some(Z0)&&(i+=n4),e&&(i+=e4),n.filter(r=>!Z0(r)).reduce((r,a)=>r+(XD.test(a)?ZD:a===""?t4:s4),i)}function r4(s,e){return s.length===e.length&&s.slice(0,-1).every((i,r)=>i===e[r])?s[s.length-1]-e[e.length-1]:0}function a4(s,e,n){let{routesMeta:i}=s,r={},a="/",o=[];for(let l=0;l<i.length;++l){let c=i[l],d=l===i.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=Hg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!m)return null;Object.assign(r,m.params),o.push({params:r,pathname:Pr([a,m.pathname]),pathnameBase:h4(Pr([a,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(a=Pr([a,m.pathnameBase]))}return o}function Hg(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=o4(s.path,s.caseSensitive,s.end),r=e.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((d,h,m)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let j=l[m]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const x=l[m];return g&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:s}}function o4(s,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),K_(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let i=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function l4(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return K_(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function Ho(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}function c4(s,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof s=="string"?hl(s):s;return{pathname:n?n.startsWith("/")?n:d4(n,e):e,search:m4(i),hash:p4(r)}}function d4(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function uf(s,e,n,i){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function u4(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iy(s,e){let n=u4(s);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function ry(s,e,n,i){i===void 0&&(i=!1);let r;typeof s=="string"?r=hl(s):(r=ed({},s),zt(!r.pathname||!r.pathname.includes("?"),uf("?","pathname","search",r)),zt(!r.pathname||!r.pathname.includes("#"),uf("#","pathname","hash",r)),zt(!r.search||!r.search.includes("#"),uf("#","search","hash",r)));let a=s===""||r.pathname==="",o=a?"/":r.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;r.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=c4(r,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Pr=s=>s.join("/").replace(/\/\/+/g,"/"),h4=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),m4=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,p4=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function f4(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const J_=["post","put","patch","delete"];new Set(J_);const g4=["get",...J_];new Set(g4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},td.apply(this,arguments)}const Qm=f.createContext(null),X_=f.createContext(null),Zi=f.createContext(null),Ym=f.createContext(null),er=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Z_=f.createContext(null);function v4(s,e){let{relative:n}=e===void 0?{}:e;ml()||zt(!1);let{basename:i,navigator:r}=f.useContext(Zi),{hash:a,pathname:o,search:l}=Jm(s,{relative:n}),c=o;return i!=="/"&&(c=o==="/"?i:Pr([i,o])),r.createHref({pathname:c,search:l,hash:a})}function ml(){return f.useContext(Ym)!=null}function hn(){return ml()||zt(!1),f.useContext(Ym).location}function eC(s){f.useContext(Zi).static||f.useLayoutEffect(s)}function Ct(){let{isDataRoute:s}=f.useContext(er);return s?P4():x4()}function x4(){ml()||zt(!1);let s=f.useContext(Qm),{basename:e,future:n,navigator:i}=f.useContext(Zi),{matches:r}=f.useContext(er),{pathname:a}=hn(),o=JSON.stringify(iy(r,n.v7_relativeSplatPath)),l=f.useRef(!1);return eC(()=>{l.current=!0}),f.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){i.go(d);return}let m=ry(d,JSON.parse(o),a,h.relative==="path");s==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Pr([e,m.pathname])),(h.replace?i.replace:i.push)(m,h.state,h)},[e,i,o,a,s])}function Ad(){let{matches:s}=f.useContext(er),e=s[s.length-1];return e?e.params:{}}function Jm(s,e){let{relative:n}=e===void 0?{}:e,{future:i}=f.useContext(Zi),{matches:r}=f.useContext(er),{pathname:a}=hn(),o=JSON.stringify(iy(r,i.v7_relativeSplatPath));return f.useMemo(()=>ry(s,JSON.parse(o),a,n==="path"),[s,o,a,n])}function y4(s,e){return j4(s,e)}function j4(s,e,n,i){ml()||zt(!1);let{navigator:r}=f.useContext(Zi),{matches:a}=f.useContext(er),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=hn(),h;if(e){var m;let v=typeof e=="string"?hl(e):e;c==="/"||(m=v.pathname)!=null&&m.startsWith(c)||zt(!1),h=v}else h=d;let p=h.pathname||"/",g=p;if(c!=="/"){let v=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=QD(s,{pathname:g}),j=k4(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Pr([c,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Pr([c,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,i);return e&&j?f.createElement(Ym.Provider,{value:{location:td({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:jr.Pop}},j):j}function N4(){let s=E4(),e=f4(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:r},n):null,null)}const b4=f.createElement(N4,null);class w4 extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?f.createElement(er.Provider,{value:this.props.routeContext},f.createElement(Z_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S4(s){let{routeContext:e,match:n,children:i}=s,r=f.useContext(Qm);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(er.Provider,{value:e},i)}function k4(s,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),s==null){var a;if(!n)return null;if(n.errors)s=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let o=s,l=(r=n)==null?void 0:r.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||zt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:p,errors:g}=n,x=m.route.loader&&p[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,m,p)=>{let g,x=!1,j=null,v=null;n&&(g=l&&m.route.id?l[m.route.id]:void 0,j=m.route.errorElement||b4,c&&(d<0&&p===0?(A4("route-fallback"),x=!0,v=null):d===p&&(x=!0,v=m.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),N=()=>{let C;return g?C=j:x?C=v:m.route.Component?C=f.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=h,f.createElement(S4,{match:m,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?f.createElement(w4,{location:n.location,revalidation:n.revalidation,component:j,error:g,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):N()},null)}var tC=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(tC||{}),sC=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(sC||{});function _4(s){let e=f.useContext(Qm);return e||zt(!1),e}function C4(s){let e=f.useContext(X_);return e||zt(!1),e}function T4(s){let e=f.useContext(er);return e||zt(!1),e}function nC(s){let e=T4(),n=e.matches[e.matches.length-1];return n.route.id||zt(!1),n.route.id}function E4(){var s;let e=f.useContext(Z_),n=C4(),i=nC();return e!==void 0?e:(s=n.errors)==null?void 0:s[i]}function P4(){let{router:s}=_4(tC.UseNavigateStable),e=nC(sC.UseNavigateStable),n=f.useRef(!1);return eC(()=>{n.current=!0}),f.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?s.navigate(r):s.navigate(r,td({fromRouteId:e},a)))},[s,e])}const eb={};function A4(s,e,n){eb[s]||(eb[s]=!0)}function R4(s,e){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function iC(s){let{to:e,replace:n,state:i,relative:r}=s;ml()||zt(!1);let{future:a,static:o}=f.useContext(Zi),{matches:l}=f.useContext(er),{pathname:c}=hn(),d=Ct(),h=ry(e,iy(l,a.v7_relativeSplatPath),c,r==="path"),m=JSON.stringify(h);return f.useEffect(()=>d(JSON.parse(m),{replace:n,state:i,relative:r}),[d,m,r,n,i]),null}function De(s){zt(!1)}function I4(s){let{basename:e="/",children:n=null,location:i,navigationType:r=jr.Pop,navigator:a,static:o=!1,future:l}=s;ml()&&zt(!1);let c=e.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:a,static:o,future:td({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof i=="string"&&(i=hl(i));let{pathname:h="/",search:m="",hash:p="",state:g=null,key:x="default"}=i,j=f.useMemo(()=>{let v=Ho(h,c);return v==null?null:{location:{pathname:v,search:m,hash:p,state:g,key:x},navigationType:r}},[c,h,m,p,g,x,r]);return j==null?null:f.createElement(Zi.Provider,{value:d},f.createElement(Ym.Provider,{children:n,value:j}))}function D4(s){let{children:e,location:n}=s;return y4(Gg(e),n)}new Promise(()=>{});function Gg(s,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(s,(i,r)=>{if(!f.isValidElement(i))return;let a=[...e,r];if(i.type===f.Fragment){n.push.apply(n,Gg(i.props.children,a));return}i.type!==De&&zt(!1),!i.props.index||!i.props.children||zt(!1);let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Gg(i.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qh(){return Qh=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Qh.apply(this,arguments)}function rC(s,e){if(s==null)return{};var n={},i=Object.keys(s),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(n[r]=s[r]);return n}function M4(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function L4(s,e){return s.button===0&&(!e||e==="_self")&&!M4(s)}function Kg(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,n)=>{let i=s[n];return e.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function O4(s,e){let n=Kg(s);return e&&e.forEach((i,r)=>{n.has(r)||e.getAll(r).forEach(a=>{n.append(r,a)})}),n}const V4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F4=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],B4="6";try{window.__reactRouterVersion=B4}catch{}const U4=f.createContext({isTransitioning:!1}),$4="startTransition",tb=DR[$4];function q4(s){let{basename:e,children:n,future:i,window:r}=s,a=f.useRef();a.current==null&&(a.current=HD({window:r,v5Compat:!0}));let o=a.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:d}=i||{},h=f.useCallback(m=>{d&&tb?tb(()=>c(m)):c(m)},[c,d]);return f.useLayoutEffect(()=>o.listen(h),[o,h]),f.useEffect(()=>R4(i),[i]),f.createElement(I4,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:i})}const z4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=f.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m}=e,p=rC(e,V4),{basename:g}=f.useContext(Zi),x,j=!1;if(typeof d=="string"&&W4.test(d)&&(x=d,z4))try{let C=new URL(window.location.href),I=d.startsWith("//")?new URL(C.protocol+d):new URL(d),D=Ho(I.pathname,g);I.origin===C.origin&&D!=null?d=D+I.search+I.hash:j=!0}catch{}let v=v4(d,{relative:r}),b=G4(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:r,viewTransition:m});function N(C){i&&i(C),C.defaultPrevented||b(C)}return f.createElement("a",Qh({},p,{href:x||v,onClick:j||a?i:N,ref:n,target:c}))}),sb=f.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:h}=e,m=rC(e,F4),p=Jm(c,{relative:m.relative}),g=hn(),x=f.useContext(X_),{navigator:j,basename:v}=f.useContext(Zi),b=x!=null&&K4(p)&&d===!0,N=j.encodeLocation?j.encodeLocation(p).pathname:p.pathname,C=g.pathname,I=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(C=C.toLowerCase(),I=I?I.toLowerCase():null,N=N.toLowerCase()),I&&v&&(I=Ho(I,v)||I);const D=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let $=C===N||!o&&C.startsWith(N)&&C.charAt(D)==="/",E=I!=null&&(I===N||!o&&I.startsWith(N)&&I.charAt(N.length)==="/"),k={isActive:$,isPending:E,isTransitioning:b},_=$?i:void 0,T;typeof a=="function"?T=a(k):T=[a,$?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let S=typeof l=="function"?l(k):l;return f.createElement(he,Qh({},m,{"aria-current":_,className:T,ref:n,style:S,to:c,viewTransition:d}),typeof h=="function"?h(k):h)});var Qg;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Qg||(Qg={}));var nb;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(nb||(nb={}));function H4(s){let e=f.useContext(Qm);return e||zt(!1),e}function G4(s,e){let{target:n,replace:i,state:r,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=Ct(),d=hn(),h=Jm(s,{relative:o});return f.useCallback(m=>{if(L4(m,n)){m.preventDefault();let p=i!==void 0?i:Kh(d)===Kh(h);c(s,{replace:p,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,h,i,r,n,s,a,o,l])}function ay(s){let e=f.useRef(Kg(s)),n=f.useRef(!1),i=hn(),r=f.useMemo(()=>O4(i.search,n.current?null:e.current),[i.search]),a=Ct(),o=f.useCallback((l,c)=>{const d=Kg(typeof l=="function"?l(r):l);n.current=!0,a("?"+d,c)},[a,r]);return[r,o]}function K4(s,e){e===void 0&&(e={});let n=f.useContext(U4);n==null&&zt(!1);let{basename:i}=H4(Qg.useViewTransitionState),r=Jm(s,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ho(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Ho(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Hg(r.pathname,o)!=null||Hg(r.pathname,a)!=null}function Q4(){const[s,e]=f.useState(!1),[n,i]=f.useState(""),[r,a]=f.useState(!1),[o,l]=f.useState(""),[c,d]=f.useState(""),[h,m]=f.useState(15234);f.useEffect(()=>{const j=()=>{a(window.scrollY>100)},v=()=>{d(new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}))},b=()=>{m(I=>I+Math.floor(Math.random()*3))};window.addEventListener("scroll",j),v();const N=setInterval(v,1e3),C=setInterval(b,3e4);return()=>{window.removeEventListener("scroll",j),clearInterval(N),clearInterval(C)}},[]);const p=j=>{if(j.preventDefault(),n.trim()){console.log("Newsletter subscription:",n);const v=document.createElement("div");v.className="newsletter-success",v.innerHTML=`
        <div class="success-content">
          <span class="success-icon"></span>
          <div class="success-text">
            <strong>Welcome aboard! </strong>
            <p>You've successfully subscribed with ${n}</p>
            <p>Check your inbox for exclusive offers!</p>
          </div>
          <button class="success-close" onclick="this.parentElement.parentElement.remove()"></button>
        </div>
      `,document.body.appendChild(v),setTimeout(()=>{v.parentElement&&v.remove()},5e3),i("");const b=j.currentTarget;b.classList.add("subscribed"),setTimeout(()=>{b.classList.remove("subscribed")},1e3)}},g=j=>{l(j)},x=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t.jsxs(t.Fragment,{children:[t.jsx("button",{className:`back-to-top ${r?"visible":""}`,onClick:x,title:"Back to top",children:t.jsx("span",{className:"back-to-top-icon",children:""})}),t.jsxs("footer",{className:`footer ${r?"scrolled":""}`,children:[t.jsxs("div",{className:"footer-bg-pattern",children:[t.jsx("div",{className:"pattern-dots"}),t.jsx("div",{className:"pattern-lines"}),t.jsx("div",{className:"pattern-gradient"})]}),t.jsxs("div",{className:"footer-container",children:[t.jsxs("div",{className:"footer-top",children:[t.jsxs("div",{className:"footer-brand",children:[t.jsx(he,{to:"/",className:"footer-logo",onClick:()=>{e(!0),setTimeout(()=>e(!1),1200)},children:t.jsxs("div",{className:`logo-wrapper ${s?"animate":""}`,children:[t.jsxs("div",{className:"logo-icon",children:[t.jsx("span",{className:"logo-main",children:""}),t.jsxs("div",{className:"logo-sparkles",children:[t.jsx("span",{className:"sparkle sparkle-1",children:""}),t.jsx("span",{className:"sparkle sparkle-2",children:""}),t.jsx("span",{className:"sparkle sparkle-3",children:""})]})]}),t.jsxs("div",{className:"logo-text",children:[t.jsx("span",{className:"logo-title",children:"Smart"}),t.jsx("span",{className:"logo-subtitle",children:"ServiceHub"})]})]})}),t.jsxs("div",{className:"footer-description",children:[t.jsx("p",{children:" Your trusted service partner for all home and professional needs"}),t.jsx("p",{children:" Quality services   Verified professionals   Complete satisfaction"})]}),t.jsxs("div",{className:"footer-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-number",children:"50K+"}),t.jsx("span",{className:"stat-label",children:"Happy Customers"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-number",children:"500+"}),t.jsx("span",{className:"stat-label",children:"Service Pros"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-number",children:h.toLocaleString()}),t.jsx("span",{className:"stat-label",children:"Visitors Today"})]})]}),t.jsxs("div",{className:"social-links",children:[t.jsxs("a",{href:"https://facebook.com/SmartServiceHub",target:"_blank",rel:"noopener noreferrer",className:"social-link facebook",title:"Facebook",children:[t.jsx("span",{className:"social-icon",children:""}),t.jsx("span",{className:"social-tooltip",children:"Facebook"})]}),t.jsxs("a",{href:"https://twitter.com/SmartServiceHub",target:"_blank",rel:"noopener noreferrer",className:"social-link twitter",title:"Twitter",children:[t.jsx("span",{className:"social-icon",children:""}),t.jsx("span",{className:"social-tooltip",children:"Twitter"})]}),t.jsxs("a",{href:"https://instagram.com/SmartServiceHub",target:"_blank",rel:"noopener noreferrer",className:"social-link instagram",title:"Instagram",children:[t.jsx("span",{className:"social-icon",children:""}),t.jsx("span",{className:"social-tooltip",children:"Instagram"})]}),t.jsxs("a",{href:"https://linkedin.com/company/SmartServiceHub",target:"_blank",rel:"noopener noreferrer",className:"social-link linkedin",title:"LinkedIn",children:[t.jsx("span",{className:"social-icon",children:""}),t.jsx("span",{className:"social-tooltip",children:"LinkedIn"})]}),t.jsxs("a",{href:"https://wa.me/919876543210",target:"_blank",rel:"noopener noreferrer",className:"social-link whatsapp",title:"WhatsApp",children:[t.jsx("span",{className:"social-icon",children:""}),t.jsx("span",{className:"social-tooltip",children:"WhatsApp"})]}),t.jsxs("a",{href:"https://youtube.com/SmartServiceHub",target:"_blank",rel:"noopener noreferrer",className:"social-link youtube",title:"YouTube",children:[t.jsx("span",{className:"social-icon",children:""}),t.jsx("span",{className:"social-tooltip",children:"YouTube"})]})]})]}),t.jsxs("div",{className:"footer-section",onMouseEnter:()=>g("services"),children:[t.jsxs("h3",{className:"footer-title",children:[t.jsx("span",{className:"title-icon",children:""}),"Services"]}),t.jsxs("ul",{className:"footer-links",children:[t.jsx("li",{children:t.jsxs(he,{to:"/services/plumbing",children:[t.jsx("span",{className:"link-icon",children:""})," Plumbing Services"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/services/electrical",children:[t.jsx("span",{className:"link-icon",children:""})," Electrical Work"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/services/cleaning",children:[t.jsx("span",{className:"link-icon",children:""})," Home Cleaning"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/services/pest-control",children:[t.jsx("span",{className:"link-icon",children:""})," Pest Control"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/services/ac-service",children:[t.jsx("span",{className:"link-icon",children:""})," AC Services"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/services/painting",children:[t.jsx("span",{className:"link-icon",children:""})," Painting Work"]})})]}),t.jsx("div",{className:"section-badge",children:"Popular"})]}),t.jsxs("div",{className:"footer-section",onMouseEnter:()=>g("company"),children:[t.jsxs("h3",{className:"footer-title",children:[t.jsx("span",{className:"title-icon",children:""}),"Company"]}),t.jsxs("ul",{className:"footer-links",children:[t.jsx("li",{children:t.jsxs(he,{to:"/company/about",children:[t.jsx("span",{className:"link-icon",children:""})," About Us"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/contact",children:[t.jsx("span",{className:"link-icon",children:""})," Contact Us"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/company/careers",children:[t.jsx("span",{className:"link-icon",children:""})," Careers"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/company/blog",children:[t.jsx("span",{className:"link-icon",children:""})," Blog"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/company/press",children:[t.jsx("span",{className:"link-icon",children:""})," Press Room"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/company/partners",children:[t.jsx("span",{className:"link-icon",children:""})," Partners"]})})]})]}),t.jsxs("div",{className:"footer-section",onMouseEnter:()=>g("support"),children:[t.jsxs("h3",{className:"footer-title",children:[t.jsx("span",{className:"title-icon",children:""}),"Support"]}),t.jsxs("ul",{className:"footer-links",children:[t.jsx("li",{children:t.jsxs(he,{to:"/support/help-center",children:[t.jsx("span",{className:"link-icon",children:""})," Help Center"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/support/faq",children:[t.jsx("span",{className:"link-icon",children:""})," FAQ"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/support/terms",children:[t.jsx("span",{className:"link-icon",children:""})," Terms of Service"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/support/privacy",children:[t.jsx("span",{className:"link-icon",children:""})," Privacy Policy"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/support/refund",children:[t.jsx("span",{className:"link-icon",children:""})," Refund Policy"]})}),t.jsx("li",{children:t.jsxs(he,{to:"/support/sitemap",children:[t.jsx("span",{className:"link-icon",children:""})," Sitemap"]})})]})]}),t.jsxs("div",{className:"footer-section newsletter-section",onMouseEnter:()=>g("newsletter"),children:[t.jsxs("h3",{className:"footer-title",children:[t.jsx("span",{className:"title-icon",children:""}),"Stay Connected"]}),t.jsxs("p",{className:"newsletter-description",children:[" Get exclusive offers and service updates",t.jsx("br",{})," Be the first to know about new services",t.jsx("br",{})," Special discounts for subscribers only"]}),t.jsxs("form",{className:"newsletter-form",onSubmit:p,children:[t.jsxs("div",{className:"input-wrapper",children:[t.jsx("input",{type:"email",placeholder:" Enter your email",value:n,onChange:j=>i(j.target.value),className:"newsletter-input",required:!0}),t.jsx("span",{className:"input-icon",children:""})]}),t.jsxs("button",{type:"submit",className:"newsletter-btn",children:[t.jsx("span",{className:"btn-icon",children:""}),"Subscribe Now"]})]}),t.jsxs("div",{className:"app-download",children:[t.jsx("p",{children:" Download our app:"}),t.jsxs("div",{className:"app-buttons",children:[t.jsxs("a",{href:"https://apps.apple.com/app/smart-servicehub/id123456789",target:"_blank",rel:"noopener noreferrer",className:"app-btn ios",children:[t.jsx("span",{className:"app-icon",children:""}),"App Store"]}),t.jsxs("a",{href:"https://play.google.com/store/apps/details?id=com.smartservicehub.app",target:"_blank",rel:"noopener noreferrer",className:"app-btn android",children:[t.jsx("span",{className:"app-icon",children:""}),"Play Store"]})]})]}),t.jsxs("div",{className:"contact-quick",children:[t.jsx("p",{children:" Need help? Call us:"}),t.jsx("a",{href:"tel:+919876543210",className:"phone-link",children:" +91 98765 43210"})]})]})]}),t.jsx("div",{className:"footer-middle",children:t.jsxs("div",{className:"features-bar",children:[t.jsxs("div",{className:"feature-item",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsxs("div",{className:"feature-text",children:[t.jsx("strong",{children:"100% Secure"}),t.jsx("span",{children:"Your data is protected"})]})]}),t.jsxs("div",{className:"feature-item",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsxs("div",{className:"feature-text",children:[t.jsx("strong",{children:"Fast Service"}),t.jsx("span",{children:"Quick response time"})]})]}),t.jsxs("div",{className:"feature-item",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsxs("div",{className:"feature-text",children:[t.jsx("strong",{children:"Best Quality"}),t.jsx("span",{children:"Premium service guarantee"})]})]}),t.jsxs("div",{className:"feature-item",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsxs("div",{className:"feature-text",children:[t.jsx("strong",{children:"24/7 Support"}),t.jsx("span",{children:"Always here to help"})]})]})]})}),t.jsxs("div",{className:"footer-bottom",children:[t.jsxs("div",{className:"footer-copyright",children:[t.jsxs("p",{children:[" ",new Date().getFullYear()," Smart ServiceHub. All rights reserved BY Blood Badshah."]}),t.jsx("p",{children:" Made with  for amazing customers like you"}),t.jsxs("p",{children:[" Current time: ",c," |  Serving India with pride"]})]}),t.jsxs("div",{className:"footer-bottom-links",children:[t.jsx(he,{to:"/accessibility",children:" Accessibility"}),t.jsx(he,{to:"/cookies",children:" Cookie Policy"}),t.jsx(he,{to:"/compliance",children:" Compliance"}),t.jsx(he,{to:"/sitemap",children:" Sitemap"})]}),t.jsxs("div",{className:"payment-methods",children:[t.jsx("span",{className:"payment-icon",title:"Credit/Debit Cards",children:""}),t.jsx("span",{className:"payment-icon",title:"UPI Payments",children:""}),t.jsx("span",{className:"payment-icon",title:"Mobile Banking",children:""}),t.jsx("span",{className:"payment-icon",title:"Net Banking",children:""}),t.jsx("span",{className:"payment-icon",title:"Cash on Delivery",children:""}),t.jsx("span",{className:"payment-icon",title:"Digital Wallets",children:""})]})]})]}),t.jsxs("div",{className:"floating-elements",children:[t.jsx("div",{className:"float-element float-1",children:""}),t.jsx("div",{className:"float-element float-2",children:""}),t.jsx("div",{className:"float-element float-3",children:""}),t.jsx("div",{className:"float-element float-4",children:""})]})]})]})}const Ou=[{id:"1",name:"Emergency Plumbing Repair",category:"plumbing",price:"800-2000",urgency:"high",description:"24/7 emergency plumbing services including leak repairs, pipe fixing, drain cleaning, bathroom fixtures, geyser repair",availableNow:!0,rating:4.8,professionals:15,estimatedTime:"30-90 mins",tags:["emergency","leak","drain","geyser","bathroom"],reviews:[{id:"1",userName:"Rahul Sharma",rating:5,comment:"Amazing service! Came at 2AM and fixed the leak within 30 minutes. Professional and affordable.",date:"2024-01-15",helpful:24,verified:!0,providerResponse:"Thank you Rahul! We're always here for emergencies."}]},{id:"2",name:"Expert Electrical Services",category:"electrical",price:"1000-3000",urgency:"high",description:"Professional electrical work including wiring, repairs, installations, safety inspections, switch board, meter issues",availableNow:!0,rating:4.9,professionals:12,estimatedTime:"45-120 mins",tags:["emergency","wiring","switch","meter","safety"],reviews:[{id:"3",userName:"Amit Kumar",rating:5,comment:"Expert electrician, very professional. Fixed complex wiring issue safely.",date:"2024-01-12",helpful:18,verified:!0}]}],Y4=["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],J4=()=>{const[s,e]=f.useState(!1),[n,i]=f.useState(""),[r,a]=f.useState([]),[o,l]=f.useState(!1),[c,d]=f.useState({}),[h,m]=f.useState("hinglish"),[p,g]=f.useState(!1),[x,j]=f.useState([]),[v,b]=f.useState(null),[N,C]=f.useState(null),[I,D]=f.useState(0),[$,E]=f.useState("bronze"),[k,_]=f.useState([]),[T,S]=f.useState(!1),[F,L]=f.useState(!1),[oe,A]=f.useState(!1),[Z,Q]=f.useState(!1),[q,P]=f.useState(!1),[G,U]=f.useState(!1),[re,W]=f.useState([]),[xe,Ce]=f.useState([]),[Fe,Me]=f.useState(!1),[Ie,Ze]=f.useState(null),[we,Le]=f.useState("online"),[bt,wt]=f.useState(null),[Et,gt]=f.useState(!1),[ge,J]=f.useState(""),[Ee,$e]=f.useState(""),[vt,xt]=f.useState(!1),At=f.useRef(null),K=f.useRef(null),O=f.useRef(null);f.useEffect(()=>{b({name:"User",email:"user@example.com",phone:"+91 9876543210",avatar:"",membershipTier:"silver",loyaltyPoints:250,totalServices:5,joinDate:"2024-01-01",preferredServices:["plumbing","electrical"]}),C({totalBookings:5,totalSpent:8500,averageRating:4.7,mostUsedService:"plumbing",lastBooking:"2024-01-15",savingsAmount:1200}),_(Ou.flatMap(ye=>ye.reviews))},[]);const se=f.useCallback(B=>{const z=B.toLowerCase(),ye=["hai","hain","karna","kar","ki","ko","se","mein","bhai","kaise","kya","kidhar","kab","kyun","aap","tum","main","hum","na","to","bhi","hi","par","lekin","aur","ya","phir","tab","jab","agar","warna","nhi","nahi","han","haan","ji","jiye","sir","madam"],pe=["is","are","am","was","were","be","being","been","have","has","had","do","does","did","will","would","could","should","may","might","must","can","shall","hello","hi","hey","good","great","awesome","amazing","fantastic","wonderful","excellent","perfect","love","like","enjoy","happy","sad","angry","excited","worried","concerned"],it=["plumbing","electrical","cleaning","pest","ac","plumber","electrician","service","repair","fix","issue","problem","help","urgent","emergency","jaldi","karwana","chahiye","need","want"],ie=z.split(" "),st=ie.filter(je=>ye.some(Be=>je.includes(Be)||Be.includes(je))||it.some(Be=>je.includes(Be)&&["jaldi","karwana","chahiye"].some(ae=>je.includes(ae)))).length,Rt=ie.filter(je=>pe.some(Be=>je.includes(Be)||Be.includes(je))||it.some(Be=>je.includes(Be)&&["need","want","help","urgent","emergency"].some(ae=>je.includes(ae)))).length,_e=["bhai","plz","pls","thx","tx","asap","lol","omg","btw","fyi","tbh","idk","imo","imho"],rt=ie.filter(je=>_e.some(Be=>je.includes(Be))).length,ne=["good morning","good afternoon","good evening","good night","subh","shubh","sham","raat"].some(je=>z.includes(je));return ne&&st>0?"hindi":ne&&Rt>0?"english":rt>2?"hinglish":st>Rt&&st>1?"hindi":Rt>st&&Rt>1?"english":(st===Rt&&st>0,"hinglish")},[]),ce=f.useCallback(B=>{const z={plumbing:["plumbing","pipe","leak","tap","faucet","drain","bathroom","toilet","sink","geyser","water","tank","shower"],electrical:["electric","wire","switch","light","fan","ac","power","connection","short circuit","socket","breaker","meter","board"],cleaning:["clean","cleaning","wash","dust","sweep","mop","house","home","office","deep clean","post construction","sofa","carpet"],pest:["pest","cockroach","termite","mosquito","rat","insect","bug","rodent","lizard","disinfection","bed bugs"],ac:["ac","air conditioner","cooling","gas","ac service","ac repair","ac installation","split ac","window ac","servicing"]},ye=B.toLowerCase();for(const[pe,it]of Object.entries(z))if(it.some(ie=>ye.includes(ie)))return pe;return null},[]),ke=f.useCallback((B,z)=>{i(z),setTimeout(()=>V(),100),jt(!1);const ye=Ou.find(pe=>pe.category===B);ye&&ye.urgency==="low"&&setTimeout(()=>{xt(!0),wt(ye)},2e3)},[]),tt=f.useCallback(B=>{i(z=>z+B),g(!1),setTimeout(()=>{var z;(z=K.current)==null||z.focus()},100)},[]);f.useEffect(()=>{const B=z=>{p&&z.target&&!z.target.closest(".emoji-picker, .input-btn")&&g(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[p]);const yt=f.useCallback((B,z)=>{const ye=ce(B),pe=B.toLowerCase(),it={...c};ye&&(it.lastService=ye),d(it);const ie=pe.includes("hello")||pe.includes("hi")||pe.includes("namaste")||pe.includes("kaisi ho")||pe.includes("kaiso ho"),st=pe.includes("name")||pe.includes("email")||pe.includes("login")||pe.includes("id")||pe.includes("who are you"),Rt=pe.includes("kya kar rahe ho")||pe.includes("how are you")||pe.includes("what's up")||pe.includes("aap kaise ho");let _e="";c.lastService&&ye!==c.lastService&&!ie&&!st&&(z==="hindi"?_e=`Waise pichli baar aap ${c.lastService} service ke baare mein puch rahe the 

`:_e=`By the way, last time you asked about ${c.lastService} services 

`);const rt=(Ue,ne)=>{if(Ue==="hindi"){const je=["bilkul ho jayega ","main hu na aapke saath","koi baat nahi bhai","sab theek hai","aapka din shubh ho","main full support kar raha hoon","chalo milkar solve karte hain","aap tension mat lo","sab handle kar lenge","main hoon na"];return je[Math.floor(Math.random()*je.length)]}else{const je=["I've got your back! ","We'll solve this together","Don't you worry!","Everything's gonna be fine","I'm here for you!","Let's make it happen!","Consider it done!","No worries at all!","We'll handle it!","You can count on me!"];return je[Math.floor(Math.random()*je.length)]}};if(st){if(pe.includes("name"))return z==="hindi"?` Aapka dost! Main aapki service helper hoon. Mujhe aap "Service Helper" bol sakte hain!

Aapka profile dekhne ke liye  Profile button par click kariye - wahan aapka naam, email aur sab details hain!

${rt(z)}`:` Your friendly helper! I'm your Service Assistant. You can call me "Service Helper"!

Click the  Profile button to see your name, email and all your details!

${rt(z)}`;if(pe.includes("email"))return z==="hindi"?` Aapka email check kar liya! Aapka registered email hai: ${(v==null?void 0:v.email)||"user@example.com"}

 Profile mein jaake aap apna email update bhi kar sakte hain.

${rt(z)}`:` I've checked your email! Your registered email is: ${(v==null?void 0:v.email)||"user@example.com"}

You can update your email in the  Profile section.

${rt(z)}`;if(pe.includes("login")||pe.includes("id"))return z==="hindi"?` Aap already logged in hain! Aapka User ID: ${(v==null?void 0:v.name)||"User"}

 Profile mein aapka complete information hai.

${rt(z)}`:` You're already logged in! Your User ID: ${(v==null?void 0:v.name)||"User"}

Check  Profile for your complete information.

${rt(z)}`}if(ie)return z==="hindi"?` ${new Date().getHours()<12?"Good morning!":new Date().getHours()<17?"Good afternoon!":"Good evening!"} Main aapki service helper hoon! Aaj kya kaam karwana hai?

Aapke liye sab services ready hain:
 Plumbing   Electrical   Cleaning   Pest Control   AC Service

${rt(z)}`:` ${new Date().getHours()<12?"Good morning!":new Date().getHours()<17?"Good afternoon!":"Good evening!"} I'm your service helper! What can I help you with today?

All services are ready for you:
 Plumbing   Electrical   Cleaning   Pest Control   AC Service

${rt(z)}`;if(Rt)return z==="hindi"?` Main bilkul theek hoon! Aapka service helper hamesha ready rehta hoon.

Aaj kya kaam karwana hai? Aapke liye sab professionals available hain!

${rt(z)}`:` I'm doing great! Your service helper is always ready to assist.

What service do you need today? All professionals are available for you!

${rt(z)}`;if(ye==="plumbing"){const Ue=Ou.find(ne=>ne.category==="plumbing");return z==="hindi"?`${_e} Plumbing issue hai? Koi tension mat lo!

${(Ue==null?void 0:Ue.rating)||"4.8"}  rated experts immediately bhej raha hoon 
Aaj ${(Ue==null?void 0:Ue.professionals)||15} professionals available hain - 24/7 service!

Batao kya problem hai - leak, drain, bathroom ya kuch aur?

${rt(z)}`:`${_e} Plumbing issue? Don't worry at all!

I'll immediately send ${(Ue==null?void 0:Ue.rating)||"4.8"}  rated experts 
We have ${(Ue==null?void 0:Ue.professionals)||15} professionals available today - 24/7 service!

Tell me what's the problem - leak, drain, bathroom or something else?

${rt(z)}`}if(ye==="electrical"){const Ue=Ou.find(ne=>ne.category==="electrical");return z==="hindi"?`${_e} Electrical ka kaam hai? Main samajh gaya!

${(Ue==null?void 0:Ue.rating)||"4.9"}  expert electrician bhej raha hoon 
${(Ue==null?void 0:Ue.professionals)||12} licensed professionals hain - Safety first!

Kya issue hai - short circuit, wiring, switch ya meter?

${rt(z)}`:`${_e} Electrical work? I understand!

I'll send ${(Ue==null?void 0:Ue.rating)||"4.9"}  expert electricians 
We have ${(Ue==null?void 0:Ue.professionals)||12} licensed professionals - Safety first!

What's the issue - short circuit, wiring, switch or meter?

${rt(z)}`}return z==="hindi"?`${_e} Main aapki complete service help kar raha hoon!

Aaj aap kya service chahiye? Main sab provide karta hoon:
 Plumbing   Electrical   Cleaning   Pest Control   AC Service   Painting   Appliance Repair

**Advanced Features:**
 Personal Profile Analytics
 Real Reviews & Ratings
 Loyalty Rewards Points
 Smart Price Calculator
 Service Tracking
 24/7 Emergency Support

Batao main aapke liye kya kar sakta hoon?

${rt(z)}`:`${_e} I'm here to provide complete service assistance!

What service do you need today? I provide everything:
 Plumbing   Electrical   Cleaning   Pest Control   AC Service   Painting   Appliance Repair

**Advanced Features:**
 Personal Profile Analytics
 Real Reviews & Ratings
 Loyalty Rewards Points
 Smart Price Calculator
 Service Tracking
 24/7 Emergency Support

Tell me how I can help you today!

${rt(z)}`},[ce,c,$,I,v,N,k]),ht=f.useCallback((B,z)=>{const ye=B.toLowerCase();return ye.includes("hello")||ye.includes("hi")||ye.includes("namaste")?[{id:"1",text:z==="hindi"?" ":"Plumbing Service",category:"plumbing",icon:"",action:()=>ke("plumbing",z==="hindi"?"   ":"Need plumbing service")},{id:"2",text:z==="hindi"?"  ":"My Profile",category:"profile",icon:"",action:()=>S(!0)},{id:"3",text:z==="hindi"?"  ":"Today's Offers",category:"offers",icon:"",action:()=>U(!0)}]:ye.includes("name")||ye.includes("email")||ye.includes("profile")?[{id:"1",text:z==="hindi"?" ":"Open Profile",category:"profile",icon:"",action:()=>S(!0)},{id:"2",text:z==="hindi"?"  ":"Update Email",category:"profile",icon:"",action:()=>S(!0)},{id:"3",text:z==="hindi"?" ":"View Analytics",category:"analytics",icon:"",action:()=>A(!0)}]:ye.includes("emergency")||ye.includes("urgent")||ye.includes("jaldi")?[{id:"1",text:z==="hindi"?" ":"Emergency Plumber",category:"plumbing",icon:"",action:()=>ke("plumbing",z==="hindi"?"   ":"Emergency plumbing service needed")},{id:"2",text:z==="hindi"?" ":"Emergency Electrician",category:"electrical",icon:"",action:()=>ke("electrical",z==="hindi"?"  ":"Emergency electrician needed")},{id:"3",text:z==="hindi"?" ":"Emergency Contacts",category:"emergency",icon:"",action:()=>P(!0)}]:[{id:"1",text:z==="hindi"?" ":"Emergency Plumber",category:"plumbing",icon:"",action:()=>ke("plumbing",z==="hindi"?"   ":"Emergency plumbing service needed")},{id:"2",text:z==="hindi"?" ":"View Profile",category:"profile",icon:"",action:()=>S(!0)},{id:"3",text:z==="hindi"?" ":"Read Reviews",category:"reviews",icon:"",action:()=>L(!0)},{id:"4",text:z==="hindi"?" ":"Get Estimate",category:"pricing",icon:"",action:()=>Q(!0)}].slice(0,4)},[ke]),V=f.useCallback(()=>{const B=n.trim();if(!B||o)return;const z=se(B);m(z);const ye={id:Date.now().toString(),role:"user",text:B,timestamp:new Date().toISOString(),language:z,attachments:x.length>0?x:void 0};a(pe=>[...pe,ye]),i(""),j([]),jt(!1),l(!0),setTimeout(()=>{const pe=yt(B,z),it={id:(Date.now()+1).toString(),role:"assistant",text:pe,timestamp:new Date().toISOString(),language:z,suggestions:ht(B,z)};a(ie=>[...ie,it]),l(!1)},400)},[n,o,x,se,yt,ht]),ee=f.useCallback(B=>{const ye=Array.from(B.target.files||[]).map(pe=>({id:Date.now().toString()+Math.random().toString(),name:pe.name,type:pe.type,size:pe.size,url:URL.createObjectURL(pe),preview:pe.type.startsWith("image/")?URL.createObjectURL(pe):void 0}));j(pe=>[...pe,...ye])},[]),de=f.useCallback(B=>{j(z=>z.filter(ye=>ye.id!==B))},[]);f.useEffect(()=>{if(r.length===0){const B={id:Date.now().toString(),role:"assistant",text:` Namaste! Main aapki madad karne ke liye yahan hoon 

Main sab types ke professional services provide karta hoon:
 Plumbing   Electrical   Cleaning   Pest Control   AC Service

**Professional Features:**
 User Profile with Analytics
 Real Reviews System
 Loyalty Rewards Program
 Smart Price Estimator
 Service Analytics Dashboard
 Emergency Services
 Appointment Booking

Kya kaam karwana hai? Main hu na! `,timestamp:new Date().toISOString(),language:"hinglish",suggestions:ht("","hinglish")};a([B])}},[r.length,ht]),f.useEffect(()=>{At.current&&(At.current.scrollTop=At.current.scrollHeight)},[r]);const[We,jt]=f.useState(!0);return t.jsxs("div",{className:`human-chatbot ${s?"open":"closed"}`,children:[t.jsxs("button",{className:"chat-button",onClick:()=>e(!s),"aria-label":"Open Chat",children:[t.jsx("span",{className:"chat-icon",children:""}),t.jsx("span",{className:"chat-badge",children:"Help"}),r.length>1&&t.jsx("span",{className:"notification-dot"}),re.filter(B=>!B.read).length>0&&t.jsx("span",{className:"notification-count",children:re.filter(B=>!B.read).length})]}),s&&t.jsxs("div",{className:"chat-popup",children:[t.jsxs("div",{className:"chat-header",children:[t.jsxs("div",{className:"header-left",children:[t.jsx("h3",{children:"Professional Service Helper"}),t.jsxs("span",{className:"status",children:[we==="online"?" Online":we==="offline"?" Offline":" Connecting","  Available"]}),Ie&&t.jsxs("span",{className:"location",children:[" ",Ie.city]})]}),t.jsxs("div",{className:"header-right",children:[t.jsx("button",{className:"header-btn",onClick:()=>S(!0),title:"Profile",children:""}),t.jsx("button",{className:"header-btn",onClick:()=>L(!0),title:"Reviews",children:""}),t.jsx("button",{className:"header-btn",onClick:()=>A(!0),title:"Analytics",children:""}),t.jsx("button",{className:"header-btn",onClick:()=>U(!0),title:"Rewards",children:""}),t.jsx("button",{className:"header-btn",onClick:()=>P(!0),title:"Emergency",children:""}),t.jsx("button",{className:"header-btn close-btn",onClick:()=>e(!1),title:"Close",children:""})]})]}),t.jsxs("div",{className:"chat-messages",ref:At,children:[r.map(B=>t.jsx("div",{className:`message ${B.role}`,children:t.jsxs("div",{className:"message-content",children:[t.jsx("div",{className:"message-text",children:B.text}),B.suggestions&&t.jsx("div",{className:"smart-suggestions",children:B.suggestions.map(z=>t.jsxs("button",{className:"suggestion-btn",onClick:()=>z.action(),children:[t.jsx("span",{className:"suggestion-icon",children:z.icon}),t.jsx("span",{className:"suggestion-text",children:z.text})]},z.id))}),t.jsx("div",{className:"message-time",children:new Date(B.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},B.id)),o&&t.jsx("div",{className:"message assistant typing",children:t.jsxs("div",{className:"typing-indicator",children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]})}),We&&t.jsxs("div",{className:"quick-actions",children:[t.jsx("button",{className:"quick-action",onClick:()=>ke("plumbing","bhai plumbing issue hai jaldi"),children:" Plumbing"}),t.jsx("button",{className:"quick-action",onClick:()=>ke("electrical","electrical ka kaam hai"),children:" Electrical"}),t.jsx("button",{className:"quick-action",onClick:()=>ke("cleaning","ghar ki cleaning karwani hai"),children:" Cleaning"}),t.jsx("button",{className:"quick-action",onClick:()=>ke("pest","pest control karwana hai"),children:" Pest Control"}),t.jsx("button",{className:"quick-action",onClick:()=>ke("ac","AC service karwana hai"),children:" AC Service"}),t.jsx("button",{className:"quick-action profile-btn",onClick:()=>S(!0),children:" Profile"}),t.jsx("button",{className:"quick-action reviews-btn",onClick:()=>L(!0),children:" Reviews"}),t.jsx("button",{className:"quick-action emergency-btn",onClick:()=>P(!0),children:" Emergency"})]})]}),t.jsxs("div",{className:"chat-input",children:[x.length>0&&t.jsx("div",{className:"attachments-preview",children:x.map(B=>t.jsxs("div",{className:"attachment-item",children:[B.preview&&t.jsx("img",{src:B.preview,alt:B.name,className:"attachment-thumb"}),t.jsx("span",{className:"attachment-name",children:B.name}),t.jsx("button",{className:"remove-attachment",onClick:()=>de(B.id),children:""})]},B.id))}),t.jsxs("div",{className:"input-container",children:[t.jsxs("div",{className:"input-left",children:[t.jsx("input",{ref:O,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",onChange:ee,style:{display:"none"}}),t.jsx("button",{className:"input-btn",onClick:()=>{var B;return(B=O.current)==null?void 0:B.click()},title:"Attach File",children:""}),t.jsx("button",{className:"input-btn",onClick:()=>g(!p),title:"Add Emoji",children:""})]}),t.jsx("input",{ref:K,type:"text",className:"message-input",placeholder:"Type your message...",value:n,onChange:B=>i(B.target.value),onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),V())},disabled:o}),t.jsx("div",{className:"input-right",children:t.jsx("button",{className:"send-btn",onClick:V,disabled:!n.trim()||o,title:"Send Message",children:o?"":""})})]}),p&&t.jsx("div",{className:"emoji-picker",children:t.jsx("div",{className:"emoji-grid",children:Y4.map(B=>t.jsx("button",{className:"emoji-btn",onClick:()=>tt(B),children:B},B))})})]})]}),T&&v&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content profile-modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:"Professional Profile"}),t.jsx("button",{className:"close-btn",onClick:()=>S(!1),children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"profile-header",children:[t.jsx("div",{className:"profile-avatar",children:v.avatar}),t.jsxs("div",{className:"profile-info",children:[t.jsx("h4",{children:v.name}),t.jsx("p",{children:v.email}),t.jsx("p",{children:v.phone})]})]}),t.jsxs("div",{className:"profile-stats",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-label",children:"Membership"}),t.jsx("span",{className:"stat-value",children:v.membershipTier.toUpperCase()})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-label",children:"Loyalty Points"}),t.jsx("span",{className:"stat-value",children:v.loyaltyPoints})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-label",children:"Total Services"}),t.jsx("span",{className:"stat-value",children:v.totalServices})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-label",children:"Member Since"}),t.jsx("span",{className:"stat-value",children:v.joinDate})]})]})]})]})}),F&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content reviews-modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:"Professional Reviews"}),t.jsx("button",{className:"close-btn",onClick:()=>L(!1),children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"reviews-summary",children:[t.jsxs("div",{className:"rating-overview",children:[t.jsx("div",{className:"rating-score",children:"4.7"}),t.jsx("div",{className:"rating-stars",children:""}),t.jsxs("div",{className:"rating-count",children:[k.length," Reviews"]})]}),t.jsx("div",{className:"verified-badge",children:" All Reviews Verified"})]}),t.jsx("div",{className:"reviews-list",children:k.map(B=>t.jsxs("div",{className:"review-card",children:[t.jsxs("div",{className:"review-header",children:[t.jsxs("div",{className:"reviewer-info",children:[t.jsx("span",{className:"reviewer-name",children:B.userName}),B.verified&&t.jsx("span",{className:"verified-badge",children:""})]}),t.jsxs("div",{className:"review-rating",children:[" ",B.rating]})]}),t.jsx("p",{className:"review-comment",children:B.comment}),B.providerResponse&&t.jsxs("div",{className:"provider-response",children:[t.jsx("strong",{children:"Provider Response:"}),t.jsx("p",{children:B.providerResponse})]}),t.jsxs("div",{className:"review-footer",children:[t.jsx("span",{className:"review-date",children:B.date}),t.jsxs("button",{className:"helpful-btn",children:[" Helpful (",B.helpful,")"]})]})]},B.id))})]})]})}),oe&&N&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content analytics-modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:"Service Analytics"}),t.jsx("button",{className:"close-btn",onClick:()=>A(!1),children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"analytics-cards",children:[t.jsxs("div",{className:"analytics-card",children:[t.jsx("div",{className:"card-icon",children:""}),t.jsxs("div",{className:"card-content",children:[t.jsx("h4",{children:"Total Bookings"}),t.jsx("p",{children:N.totalBookings})]})]}),t.jsxs("div",{className:"analytics-card",children:[t.jsx("div",{className:"card-icon",children:""}),t.jsxs("div",{className:"card-content",children:[t.jsx("h4",{children:"Total Spent"}),t.jsxs("p",{children:["",N.totalSpent]})]})]}),t.jsxs("div",{className:"analytics-card",children:[t.jsx("div",{className:"card-icon",children:""}),t.jsxs("div",{className:"card-content",children:[t.jsx("h4",{children:"Average Rating"}),t.jsxs("p",{children:[N.averageRating,""]})]})]}),t.jsxs("div",{className:"analytics-card",children:[t.jsx("div",{className:"card-icon",children:""}),t.jsxs("div",{className:"card-content",children:[t.jsx("h4",{children:"Savings"}),t.jsxs("p",{children:["",N.savingsAmount]})]})]})]})})]})}),q&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content emergency-modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:" Emergency Services"}),t.jsx("button",{className:"close-btn",onClick:()=>P(!1),children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"emergency-contacts",children:[t.jsx("h4",{children:"24/7 Emergency Hotline"}),t.jsxs("div",{className:"emergency-item",children:[t.jsx("span",{className:"emergency-icon",children:""}),t.jsxs("div",{className:"emergency-info",children:[t.jsx("strong",{children:"Emergency Plumbing"}),t.jsx("p",{children:"Available 24/7  Response: 15-30 mins"}),t.jsx("button",{className:"emergency-btn",children:"Call Now"})]})]}),t.jsxs("div",{className:"emergency-item",children:[t.jsx("span",{className:"emergency-icon",children:""}),t.jsxs("div",{className:"emergency-info",children:[t.jsx("strong",{children:"Emergency Electrical"}),t.jsx("p",{children:"Available 24/7  Response: 20-40 mins"}),t.jsx("button",{className:"emergency-btn",children:"Call Now"})]})]})]})})]})})]})};var ib={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se=function(s,e){if(!s)throw pl(e)},pl=function(s){return new Error("Firebase Database ("+aC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let r=s.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},X4=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const r=s[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=s[n++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=s[n++],o=s[n++],l=s[n++],c=((r&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const a=s[n++],o=s[n++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return e.join("")},oy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<s.length;r+=3){const a=s[r],o=r+1<s.length,l=o?s[r+1]:0,c=r+2<s.length,d=c?s[r+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let p=(l&15)<<2|d>>6,g=d&63;c||(g=64,o||(p=64)),i.push(n[h],n[m],n[p],n[g])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(oC(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):X4(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<s.length;){const a=n[s.charAt(r++)],l=r<s.length?n[s.charAt(r)]:0;++r;const d=r<s.length?n[s.charAt(r)]:64;++r;const m=r<s.length?n[s.charAt(r)]:64;if(++r,a==null||l==null||d==null||m==null)throw new Z4;const p=a<<2|l>>4;if(i.push(p),d!==64){const g=l<<4&240|d>>2;if(i.push(g),m!==64){const x=d<<6&192|m;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Z4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lC=function(s){const e=oC(s);return oy.encodeByteArray(e,!0)},Yh=function(s){return lC(s).replace(/\./g,"")},Jh=function(s){try{return oy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(s){return cC(void 0,s)}function cC(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tM(n)||(s[n]=cC(s[n],e[n]));return s}function tM(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=()=>sM().__FIREBASE_DEFAULTS__,iM=()=>{if(typeof process>"u"||typeof ib>"u")return;const s=ib.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},rM=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Jh(s[1]);return e&&JSON.parse(e)},Xm=()=>{try{return nM()||iM()||rM()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},dC=s=>{var e,n;return(n=(e=Xm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},uC=s=>{const e=dC(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},hC=()=>{var s;return(s=Xm())===null||s===void 0?void 0:s.config},mC=s=>{var e;return(e=Xm())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=s.iat||0,a=s.sub||s.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Yh(JSON.stringify(n)),Yh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ly(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zs())}function aM(){var s;const e=(s=Xm())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lM(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function fC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cM(){const s=zs();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function dM(){return aC.NODE_ADMIN===!0}function uM(){return!aM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hM(){try{return typeof indexedDB=="object"}catch{return!1}}function mM(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="FirebaseError";class tr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pM,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rd.prototype.create)}}class Rd{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],o=a?fM(a,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new tr(r,l,i)}}function fM(s,e){return s.replace(gM,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const gM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(s){return JSON.parse(s)}function ws(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=function(s){let e={},n={},i={},r="";try{const a=s.split(".");e=sd(Jh(a[0])||""),n=sd(Jh(a[1])||""),r=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},vM=function(s){const e=gC(s),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},xM=function(s){const e=gC(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function Go(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function Yg(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Xh(s,e,n){const i={};for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=e.call(n,s[r],r,s));return i}function Zh(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const a=s[r],o=e[r];if(rb(a)&&rb(o)){if(!Zh(a,o))return!1}else if(a!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function rb(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function oc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function lc(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)i[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)i[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const p=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=(p<<1|p>>>31)&4294967295}let r=this.chain_[0],a=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],d,h;for(let m=0;m<80;m++){m<40?m<20?(d=l^a&(o^l),h=1518500249):(d=a^o^l,h=1859775393):m<60?(d=a&o|l&(a|o),h=2400959708):(d=a^o^l,h=3395469782);const p=(r<<5|r>>>27)+d+c+h+i[m]&4294967295;c=l,l=o,o=(a<<30|a>>>2)&4294967295,a=r,r=p}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const a=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(a[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}else for(;r<n;)if(a[o]=e[r],++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[r]>>a&255,++i;return e}}function jM(s,e){const n=new NM(s,e);return n.subscribe.bind(n)}class NM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");bM(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=hf),r.error===void 0&&(r.error=hf),r.complete===void 0&&(r.complete=hf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bM(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function hf(){}function cy(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let r=s.charCodeAt(i);if(r>=55296&&r<=56319){const a=r-55296;i++,Se(i<s.length,"Surrogate pair missing trail surrogate.");const o=s.charCodeAt(i)-56320;r=65536+(a<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},ep=function(s){let e=0;for(let n=0;n<s.length;n++){const i=s.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(s){return s&&s._delegate?s._delegate:s}class Fr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Zm;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_M(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);i===l&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kM(s){return s===na?void 0:s}function _M(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(at||(at={}));const TM={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},EM=at.INFO,PM={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},AM=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),r=PM[e];if(r)console[r](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tp{constructor(e){this.name=e,this._logLevel=EM,this._logHandler=AM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const RM=(s,e)=>e.some(n=>s instanceof n);let ab,ob;function IM(){return ab||(ab=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DM(){return ob||(ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vC=new WeakMap,Jg=new WeakMap,xC=new WeakMap,mf=new WeakMap,dy=new WeakMap;function MM(s){const e=new Promise((n,i)=>{const r=()=>{s.removeEventListener("success",a),s.removeEventListener("error",o)},a=()=>{n(Ar(s.result)),r()},o=()=>{i(s.error),r()};s.addEventListener("success",a),s.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vC.set(n,s)}).catch(()=>{}),dy.set(e,s),e}function LM(s){if(Jg.has(s))return;const e=new Promise((n,i)=>{const r=()=>{s.removeEventListener("complete",a),s.removeEventListener("error",o),s.removeEventListener("abort",o)},a=()=>{n(),r()},o=()=>{i(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",a),s.addEventListener("error",o),s.addEventListener("abort",o)});Jg.set(s,e)}let Xg={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Jg.get(s);if(e==="objectStoreNames")return s.objectStoreNames||xC.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function OM(s){Xg=s(Xg)}function VM(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(pf(this),e,...n);return xC.set(i,e.sort?e.sort():[e]),Ar(i)}:DM().includes(s)?function(...e){return s.apply(pf(this),e),Ar(vC.get(this))}:function(...e){return Ar(s.apply(pf(this),e))}}function FM(s){return typeof s=="function"?VM(s):(s instanceof IDBTransaction&&LM(s),RM(s,IM())?new Proxy(s,Xg):s)}function Ar(s){if(s instanceof IDBRequest)return MM(s);if(mf.has(s))return mf.get(s);const e=FM(s);return e!==s&&(mf.set(s,e),dy.set(e,s)),e}const pf=s=>dy.get(s);function BM(s,e,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const o=indexedDB.open(s,e),l=Ar(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Ar(o.result),c.oldVersion,c.newVersion,Ar(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const UM=["get","getKey","getAll","getAllKeys","count"],$M=["put","add","delete","clear"],ff=new Map;function lb(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(ff.get(e))return ff.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=$M.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||UM.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,r?"readwrite":"readonly");let d=c.store;return i&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&c.done]))[0]};return ff.set(e,a),a}OM(s=>({...s,get:(e,n,i)=>lb(e,n)||s.get(e,n,i),has:(e,n)=>!!lb(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function zM(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",cb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new tp("@firebase/app"),WM="@firebase/app-compat",HM="@firebase/analytics-compat",GM="@firebase/analytics",KM="@firebase/app-check-compat",QM="@firebase/app-check",YM="@firebase/auth",JM="@firebase/auth-compat",XM="@firebase/database",ZM="@firebase/data-connect",e3="@firebase/database-compat",t3="@firebase/functions",s3="@firebase/functions-compat",n3="@firebase/installations",i3="@firebase/installations-compat",r3="@firebase/messaging",a3="@firebase/messaging-compat",o3="@firebase/performance",l3="@firebase/performance-compat",c3="@firebase/remote-config",d3="@firebase/remote-config-compat",u3="@firebase/storage",h3="@firebase/storage-compat",m3="@firebase/firestore",p3="@firebase/vertexai-preview",f3="@firebase/firestore-compat",g3="firebase",v3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="[DEFAULT]",x3={[Zg]:"fire-core",[WM]:"fire-core-compat",[GM]:"fire-analytics",[HM]:"fire-analytics-compat",[QM]:"fire-app-check",[KM]:"fire-app-check-compat",[YM]:"fire-auth",[JM]:"fire-auth-compat",[XM]:"fire-rtdb",[ZM]:"fire-data-connect",[e3]:"fire-rtdb-compat",[t3]:"fire-fn",[s3]:"fire-fn-compat",[n3]:"fire-iid",[i3]:"fire-iid-compat",[r3]:"fire-fcm",[a3]:"fire-fcm-compat",[o3]:"fire-perf",[l3]:"fire-perf-compat",[c3]:"fire-rc",[d3]:"fire-rc-compat",[u3]:"fire-gcs",[h3]:"fire-gcs-compat",[m3]:"fire-fst",[f3]:"fire-fst-compat",[p3]:"fire-vertex","fire-js":"fire-js",[g3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,y3=new Map,tv=new Map;function db(s,e){try{s.container.addComponent(e)}catch(n){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ea(s){const e=s.name;if(tv.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;tv.set(e,s);for(const n of nd.values())db(n,s);for(const n of y3.values())db(n,s);return!0}function sp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function qn(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Rd("app","Firebase",j3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=v3;function uy(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ev,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Rr.create("bad-app-name",{appName:String(r)});if(n||(n=hC()),!n)throw Rr.create("no-options");const a=nd.get(r);if(a){if(Zh(n,a.options)&&Zh(i,a.config))return a;throw Rr.create("duplicate-app",{appName:r})}const o=new CM(r);for(const c of tv.values())o.addComponent(c);const l=new N3(n,i,o);return nd.set(r,l),l}function hy(s=ev){const e=nd.get(s);if(!e&&s===ev&&hC())return uy();if(!e)throw Rr.create("no-app",{appName:s});return e}function ub(){return Array.from(nd.values())}function ri(s,e,n){var i;let r=(i=x3[s])!==null&&i!==void 0?i:s;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(l.join(" "));return}Ea(new Fr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="firebase-heartbeat-database",w3=1,id="firebase-heartbeat-store";let gf=null;function yC(){return gf||(gf=BM(b3,w3,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(id)}catch(n){console.warn(n)}}}}).catch(s=>{throw Rr.create("idb-open",{originalErrorMessage:s.message})})),gf}async function S3(s){try{const n=(await yC()).transaction(id),i=await n.objectStore(id).get(jC(s));return await n.done,i}catch(e){if(e instanceof tr)zi.warn(e.message);else{const n=Rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(n.message)}}}async function hb(s,e){try{const i=(await yC()).transaction(id,"readwrite");await i.objectStore(id).put(e,jC(s)),await i.done}catch(n){if(n instanceof tr)zi.warn(n.message);else{const i=Rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zi.warn(i.message)}}}function jC(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=1024,_3=30*24*60*60*1e3;class C3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=mb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=_3}),this._storage.overwrite(this._heartbeatsCache))}catch(i){zi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mb(),{heartbeatsToSend:i,unsentEntries:r}=T3(this._heartbeatsCache.heartbeats),a=Yh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return zi.warn(n),""}}}function mb(){return new Date().toISOString().substring(0,10)}function T3(s,e=k3){const n=[];let i=s.slice();for(const r of s){const a=n.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),pb(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),pb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class E3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hM()?mM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return hb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return hb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pb(s){return Yh(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(s){Ea(new Fr("platform-logger",e=>new qM(e),"PRIVATE")),Ea(new Fr("heartbeat",e=>new C3(e),"PRIVATE")),ri(Zg,cb,s),ri(Zg,cb,"esm2017"),ri("fire-js","")}P3("");function my(s,e){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(s);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(s,i[r])&&(n[i[r]]=s[i[r]]);return n}function NC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A3=NC,bC=new Rd("auth","Firebase",NC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new tp("@firebase/auth");function R3(s,...e){em.logLevel<=at.WARN&&em.warn(`Auth (${Ua}): ${s}`,...e)}function lh(s,...e){em.logLevel<=at.ERROR&&em.error(`Auth (${Ua}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(s,...e){throw fy(s,...e)}function Kn(s,...e){return fy(s,...e)}function py(s,e,n){const i=Object.assign(Object.assign({},A3()),{[e]:n});return new Rd("auth","Firebase",i).create(e,{appName:s.name})}function Oi(s){return py(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I3(s,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Dn(s,"argument-error"),py(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fy(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return bC.create(s,...e)}function ze(s,e,...n){if(!s)throw fy(e,...n)}function Ai(s){const e="INTERNAL ASSERTION FAILED: "+s;throw lh(e),new Error(e)}function Wi(s,e){s||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function D3(){return fb()==="http:"||fb()==="https:"}function fb(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D3()||lM()||"connection"in navigator)?navigator.onLine:!0}function L3(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=ly()||fC()}get(){return M3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(s,e){Wi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new Id(3e4,6e4);function nr(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function gi(s,e,n,i,r={}){return SC(s,r,async()=>{let a={},o={};i&&(e==="GET"?o=i:a={body:JSON.stringify(i)});const l=fl(Object.assign({key:s.config.apiKey},o)).slice(1),c=await s._getAdditionalHeaders();c["Content-Type"]="application/json",s.languageCode&&(c["X-Firebase-Locale"]=s.languageCode);const d=Object.assign({method:e,headers:c},a);return oM()||(d.referrerPolicy="no-referrer"),wC.fetch()(kC(s,s.config.apiHost,n,l),d)})}async function SC(s,e,n){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},O3),e);try{const r=new B3(s),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Vu(s,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(s,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Vu(s,"email-already-in-use",o);if(c==="USER_DISABLED")throw Vu(s,"user-disabled",o);const h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw py(s,h,d);Dn(s,h)}}catch(r){if(r instanceof tr)throw r;Dn(s,"network-request-failed",{message:String(r)})}}async function Dd(s,e,n,i,r={}){const a=await gi(s,e,n,i,r);return"mfaPendingCredential"in a&&Dn(s,"multi-factor-auth-required",{_serverResponse:a}),a}function kC(s,e,n,i){const r=`${e}${n}?${i}`;return s.config.emulator?gy(s.config,r):`${s.config.apiScheme}://${r}`}function F3(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Kn(this.auth,"network-request-failed")),V3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vu(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Kn(s,e,i);return r.customData._tokenResponse=n,r}function gb(s){return s!==void 0&&s.enterprise!==void 0}class U3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return F3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function $3(s,e){return gi(s,"GET","/v2/recaptchaConfig",nr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(s,e){return gi(s,"POST","/v1/accounts:delete",e)}async function _C(s,e){return gi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z3(s,e=!1){const n=us(s),i=await n.getIdToken(e),r=vy(i);ze(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:bc(vf(r.auth_time)),issuedAtTime:bc(vf(r.iat)),expirationTime:bc(vf(r.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vf(s){return Number(s)*1e3}function vy(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const r=Jh(n);return r?JSON.parse(r):(lh("Failed to decode base64 JWT payload"),null)}catch(r){return lh("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function vb(s){const e=vy(s);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof tr&&W3(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function W3({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(s){var e;const n=s.auth,i=await s.getIdToken(),r=await Ko(s,_C(n,{idToken:i}));ze(r==null?void 0:r.users.length,n,"internal-error");const a=r.users[0];s._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?CC(a.providerUserInfo):[],l=K3(s.providerData,o),c=s.isAnonymous,d=!(s.email&&a.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new nv(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(s,m)}async function G3(s){const e=us(s);await tm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K3(s,e){return[...s.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function CC(s){return s.map(e=>{var{providerId:n}=e,i=my(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(s,e){const n=await SC(s,{},async()=>{const i=fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=s.config,o=kC(s,r,"/v1/token",`key=${a}`),l=await s._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",wC.fetch()(o,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y3(s,e){return gi(s,"POST","/v2/accounts:revokeToken",nr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=vb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:a}=await Q3(e,n);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:a}=n,o=new Ro;return i&&(ze(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ze(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),a&&(ze(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(s,e){ze(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,a=my(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new nv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z3(this,e)}reload(){return G3(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await tm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await Ko(this,q3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,a,o,l,c,d,h;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,g=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,j=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(d=n.createdAt)!==null&&d!==void 0?d:void 0,N=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:I,isAnonymous:D,providerData:$,stsTokenManager:E}=n;ze(C&&E,e,"internal-error");const k=Ro.fromJSON(this.name,E);ze(typeof C=="string",e,"internal-error"),lr(m,e.name),lr(p,e.name),ze(typeof I=="boolean",e,"internal-error"),ze(typeof D=="boolean",e,"internal-error"),lr(g,e.name),lr(x,e.name),lr(j,e.name),lr(v,e.name),lr(b,e.name),lr(N,e.name);const _=new Ri({uid:C,auth:e,email:p,emailVerified:I,displayName:m,isAnonymous:D,photoURL:x,phoneNumber:g,tenantId:j,stsTokenManager:k,createdAt:b,lastLoginAt:N});return $&&Array.isArray($)&&(_.providerData=$.map(T=>Object.assign({},T))),v&&(_._redirectEventId=v),_}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ro;r.updateFromServerResponse(n);const a=new Ri({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await tm(a),a}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];ze(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?CC(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),l=new Ro;l.updateFromIdToken(i);const c=new Ri({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new nv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new Map;function Ii(s){Wi(s instanceof Function,"Expected a class definition");let e=xb.get(s);return e?(Wi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,xb.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TC.type="NONE";const yb=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(s,e,n){return`firebase:${s}:${e}:${n}`}class Io{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=ch(this.userKey,r.apiKey,a),this.fullPersistenceKey=ch("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Io(Ii(yb),e,i);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||Ii(yb);const o=ch(i,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){const m=Ri._fromJSON(e,h);d!==a&&(l=m),a=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Io(a,e,i):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Io(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DC(e))return"Blackberry";if(MC(e))return"Webos";if(PC(e))return"Safari";if((e.includes("chrome/")||AC(e))&&!e.includes("edge/"))return"Chrome";if(IC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function EC(s=zs()){return/firefox\//i.test(s)}function PC(s=zs()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AC(s=zs()){return/crios\//i.test(s)}function RC(s=zs()){return/iemobile/i.test(s)}function IC(s=zs()){return/android/i.test(s)}function DC(s=zs()){return/blackberry/i.test(s)}function MC(s=zs()){return/webos/i.test(s)}function xy(s=zs()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function J3(s=zs()){var e;return xy(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X3(){return cM()&&document.documentMode===10}function LC(s=zs()){return xy(s)||IC(s)||MC(s)||DC(s)||/windows phone/i.test(s)||RC(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(s,e=[]){let n;switch(s){case"Browser":n=jb(zs());break;case"Worker":n=`${jb(zs())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ua}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(s,e={}){return gi(s,"GET","/v2/passwordPolicy",nr(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=6;class sL{constructor(e){var n,i,r,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:tL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nb(this),this.idTokenSubscription=new Nb(this),this.beforeStateQueue=new Z3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _C(this,{idToken:e}),i=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Oi(this));const n=e?us(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eL(this),n=new sL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rd("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Y3(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&R3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ir(s){return us(s)}class Nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=jM(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iL(s){np=s}function VC(s){return np.loadJS(s)}function rL(){return np.recaptchaEnterpriseScript}function aL(){return np.gapiScript}function oL(s){return`__${s}${Math.floor(Math.random()*1e6)}`}const lL="recaptcha-enterprise",cL="NO_RECAPTCHA";class dL{constructor(e){this.type=lL,this.auth=ir(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{$3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new U3(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function r(a,o,l){const c=window.grecaptcha;gb(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(cL)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{i(this.auth).then(l=>{if(!n&&gb(window.grecaptcha))r(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=rL();c.length!==0&&(c+=l),VC(c).then(()=>{r(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function bb(s,e,n,i=!1){const r=new dL(s);let a;try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function sm(s,e,n,i){var r;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await bb(s,e,n,n==="getOobCode");return i(s,a)}else return i(s,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bb(s,e,n,n==="getOobCode");return i(s,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(s,e){const n=sp(s,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(Zh(a,e??{}))return r;Dn(r,"already-initialized")}return n.initialize({options:e})}function hL(s,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ii);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function mL(s,e,n){const i=ir(s);ze(i._canInitEmulator,i,"emulator-config-failed"),ze(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=FC(e),{host:o,port:l}=pL(e),c=l===null?"":`:${l}`;i.config.emulator={url:`${a}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})}),fL()}function FC(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function pL(s){const e=FC(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:wb(i.substr(a.length+1))}}else{const[a,o]=i.split(":");return{host:a,port:wb(o)}}}function wb(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function fL(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function gL(s,e){return gi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(s,e){return Dd(s,"POST","/v1/accounts:signInWithPassword",nr(s,e))}async function xL(s,e){return gi(s,"POST","/v1/accounts:sendOobCode",nr(s,e))}async function yL(s,e){return xL(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(s,e){return Dd(s,"POST","/v1/accounts:signInWithEmailLink",nr(s,e))}async function NL(s,e){return Dd(s,"POST","/v1/accounts:signInWithEmailLink",nr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends yy{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new rd(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new rd(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,n,"signInWithPassword",vL);case"emailLink":return jL(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,i,"signUpPassword",gL);case"emailLink":return NL(e,{idToken:n,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(s,e){return Dd(s,"POST","/v1/accounts:signInWithIdp",nr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="http://localhost";class Pa extends yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,a=my(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Pa(i,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Do(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:bL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SL(s){const e=oc(lc(s)).link,n=e?oc(lc(e)).deep_link_id:null,i=oc(lc(s)).deep_link_id;return(i?oc(lc(i)).link:null)||i||n||e||s}class jy{constructor(e){var n,i,r,a,o,l;const c=oc(lc(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(i=c.oobCode)!==null&&i!==void 0?i:null,m=wL((r=c.mode)!==null&&r!==void 0?r:null);ze(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=SL(e);try{return new jy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return rd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=jy.parseLink(n);return ze(i,"argument-error"),rd._fromEmailAndCode(e,i.code,i.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends Ny{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Md{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Md{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ti.credential(n,i)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Md{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Md{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return vr.credential(n,i)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(s,e){return Dd(s,"POST","/v1/accounts:signUp",nr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const a=await Ri._fromIdTokenResponse(e,i,r),o=Sb(i);return new Aa({user:a,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Sb(i);return new Aa({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Sb(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends tr{constructor(e,n,i,r){var a;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,nm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new nm(e,n,i,r)}}function BC(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nm._fromErrorAndOperation(s,a,e,i):a})}async function _L(s,e,n=!1){const i=await Ko(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Aa._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(s,e,n=!1){const{auth:i}=s;if(qn(i.app))return Promise.reject(Oi(i));const r="reauthenticate";try{const a=await Ko(s,BC(i,r,e,s),n);ze(a.idToken,i,"internal-error");const o=vy(a.idToken);ze(o,i,"internal-error");const{sub:l}=o;return ze(s.uid===l,i,"user-mismatch"),Aa._forOperation(s,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Dn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(s,e,n=!1){if(qn(s.app))return Promise.reject(Oi(s));const i="signIn",r=await BC(s,i,e),a=await Aa._fromIdTokenResponse(s,i,r);return n||await s._updateCurrentUser(a.user),a}async function TL(s,e){return UC(ir(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(s){const e=ir(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EL(s,e,n){const i=ir(s);await sm(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",yL)}async function PL(s,e,n){if(qn(s.app))return Promise.reject(Oi(s));const i=ir(s),o=await sm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&$C(s),c}),l=await Aa._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}function AL(s,e,n){return qn(s.app)?Promise.reject(Oi(s)):TL(us(s),gl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&$C(s),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(s,e){return gi(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=us(s),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ko(i,RL(i.auth,a));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const l=i.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function DL(s,e,n,i){return us(s).onIdTokenChanged(e,n,i)}function ML(s,e,n){return us(s).beforeAuthStateChanged(e,n)}function LL(s){return us(s).signOut()}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=1e3,VL=10;class zC extends qC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},a=this.storage.getItem(i);X3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,VL):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},OL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zC.type="LOCAL";const FL=zC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC extends qC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WC.type="SESSION";const HC=WC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new ip(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:a}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(o).map(async d=>d(n.origin,a)),c=await BL(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ip.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=by("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function $L(s){ai().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function qL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zL(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function WL(){return GC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="firebaseLocalStorageDb",HL=1,rm="firebaseLocalStorage",QC="fbase_key";class Ld{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rp(s,e){return s.transaction([rm],e?"readwrite":"readonly").objectStore(rm)}function GL(){const s=indexedDB.deleteDatabase(KC);return new Ld(s).toPromise()}function iv(){const s=indexedDB.open(KC,HL);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(rm,{keyPath:QC})}catch(r){n(r)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(rm)?e(i):(i.close(),await GL(),e(await iv()))})})}async function kb(s,e,n){const i=rp(s,!0).put({[QC]:e,value:n});return new Ld(i).toPromise()}async function KL(s,e){const n=rp(s,!1).get(e),i=await new Ld(n).toPromise();return i===void 0?null:i.value}function _b(s,e){const n=rp(s,!0).delete(e);return new Ld(n).toPromise()}const QL=800,YL=3;class YC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>YL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ip._getInstance(WL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qL(),!this.activeServiceWorker)return;this.sender=new UL(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iv();return await kb(e,im,"1"),await _b(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>kb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>KL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=rp(r,!1).getAll();return new Ld(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YC.type="LOCAL";const JL=YC;new Id(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(s,e){return e?Ii(e):(ze(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XL(s){return UC(s.auth,new wy(s),s.bypassAuthState)}function ZL(s){const{auth:e,user:n}=s;return ze(n,e,"internal-error"),CL(n,new wy(s),s.bypassAuthState)}async function e5(s){const{auth:e,user:n}=s;return ze(n,e,"internal-error"),_L(n,new wy(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XL;case"linkViaPopup":case"linkViaRedirect":return e5;case"reauthViaPopup":case"reauthViaRedirect":return ZL;default:Dn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new Id(2e3,1e4);async function s5(s,e,n){if(qn(s.app))return Promise.reject(Kn(s,"operation-not-supported-in-this-environment"));const i=ir(s);I3(s,e,Ny);const r=JC(i,n);return new ca(i,"signInViaPopup",e,r).executeNotNull()}class ca extends XC{constructor(e,n,i,r,a){super(e,n,r,a),this.provider=i,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=by();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t5.get())};e()}}ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="pendingRedirect",dh=new Map;class i5 extends XC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const i=await r5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r5(s,e){const n=l5(e),i=o5(s);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function a5(s,e){dh.set(s._key(),e)}function o5(s){return Ii(s._redirectPersistence)}function l5(s){return ch(n5,s.config.apiKey,s.name)}async function c5(s,e,n=!1){if(qn(s.app))return Promise.reject(Oi(s));const i=ir(s),r=JC(i,e),o=await new i5(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=10*60*1e3;class u5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ZC(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cb(e))}saveEventToCache(e){this.cachedEventUids.add(Cb(e)),this.lastProcessedEventTime=Date.now()}}function Cb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function ZC({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h5(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZC(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(s,e={}){return gi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f5=/^https?/;async function g5(s){if(s.config.emulator)return;const{authorizedDomains:e}=await m5(s);for(const n of e)try{if(v5(n))return}catch{}Dn(s,"unauthorized-domain")}function v5(s){const e=sv(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const o=new URL(s);return o.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!f5.test(n))return!1;if(p5.test(s))return i===s;const r=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new Id(3e4,6e4);function Tb(){const s=ai().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function y5(s){return new Promise((e,n)=>{var i,r,a;function o(){Tb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tb(),n(Kn(s,"network-request-failed"))},timeout:x5.get()})}if(!((r=(i=ai().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=ai().gapi)===null||a===void 0)&&a.load)o();else{const l=oL("iframefcb");return ai()[l]=()=>{gapi.load?o():n(Kn(s,"network-request-failed"))},VC(`${aL()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw uh=null,e})}let uh=null;function j5(s){return uh=uh||y5(s),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=new Id(5e3,15e3),b5="__/auth/iframe",w5="emulator/auth/iframe",S5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _5(s){const e=s.config;ze(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?gy(e,w5):`https://${s.config.authDomain}/${b5}`,i={apiKey:e.apiKey,appName:s.name,v:Ua},r=k5.get(s.config.apiHost);r&&(i.eid=r);const a=s._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${fl(i).slice(1)}`}async function C5(s){const e=await j5(s),n=ai().gapi;return ze(n,s,"internal-error"),e.open({where:document.body,url:_5(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S5,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const o=Kn(s,"network-request-failed"),l=ai().setTimeout(()=>{a(o)},N5.get());function c(){ai().clearTimeout(l),r(i)}i.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E5=500,P5=600,A5="_blank",R5="http://localhost";class Eb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I5(s,e,n,i=E5,r=P5){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c=Object.assign(Object.assign({},T5),{width:i.toString(),height:r.toString(),top:a,left:o}),d=zs().toLowerCase();n&&(l=AC(d)?A5:n),EC(d)&&(e=e||R5,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[g,x])=>`${p}${g}=${x},`,"");if(J3(d)&&l!=="_self")return D5(e||"",l),new Eb(null);const m=window.open(e||"",l,h);ze(m,s,"popup-blocked");try{m.focus()}catch{}return new Eb(m)}function D5(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5="__/auth/handler",L5="emulator/auth/handler",O5=encodeURIComponent("fac");async function Pb(s,e,n,i,r,a){ze(s.config.authDomain,s,"auth-domain-config-required"),ze(s.config.apiKey,s,"invalid-api-key");const o={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:Ua,eventId:r};if(e instanceof Ny){e.setDefaultLanguage(s.languageCode),o.providerId=e.providerId||"",Yg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof Md){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}s.tenantId&&(o.tid=s.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await s._getAppCheckToken(),d=c?`#${O5}=${encodeURIComponent(c)}`:"";return`${V5(s)}?${fl(l).slice(1)}${d}`}function V5({config:s}){return s.emulator?gy(s,L5):`https://${s.authDomain}/${M5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="webStorageSupport";class F5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HC,this._completeRedirectFn=c5,this._overrideRedirectResult=a5}async _openPopup(e,n,i,r){var a;Wi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Pb(e,n,i,sv(),r);return I5(e,o,by())}async _openRedirect(e,n,i,r){await this._originValidation(e);const a=await Pb(e,n,i,sv(),r);return $L(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(Wi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await C5(e),i=new u5(e);return n.register("authEvent",r=>(ze(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xf,{type:xf},r=>{var a;const o=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[xf];o!==void 0&&n(!!o),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LC()||PC()||xy()}}const B5=F5;var Ab="@firebase/auth",Rb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q5(s){Ea(new Fr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;ze(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:o,authDomain:l,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OC(s)},d=new nL(i,r,a,c);return hL(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ea(new Fr("auth-internal",e=>{const n=ir(e.getProvider("auth").getImmediate());return(i=>new U5(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(Ab,Rb,$5(s)),ri(Ab,Rb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=5*60,W5=mC("authIdTokenMaxAge")||z5;let Ib=null;const H5=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>W5)return;const r=n==null?void 0:n.token;Ib!==r&&(Ib=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function eT(s=hy()){const e=sp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=uL(s,{popupRedirectResolver:B5,persistence:[JL,FL,HC]}),i=mC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const o=H5(a.toString());ML(n,o,()=>o(n.currentUser)),DL(n,l=>o(l))}}const r=dC("auth");return r&&mL(n,`http://${r}`),n}function G5(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}iL({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=r=>{const a=Kn("internal-error");a.customData=r,n(a)},i.type="text/javascript",i.charset="UTF-8",G5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q5("Browser");var Db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xa,tT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,k){function _(){}_.prototype=k.prototype,E.D=k.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(T,S,F){for(var L=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)L[oe-2]=arguments[oe];return k.prototype[S].apply(T,L)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,k,_){_||(_=0);var T=Array(16);if(typeof k=="string")for(var S=0;16>S;++S)T[S]=k.charCodeAt(_++)|k.charCodeAt(_++)<<8|k.charCodeAt(_++)<<16|k.charCodeAt(_++)<<24;else for(S=0;16>S;++S)T[S]=k[_++]|k[_++]<<8|k[_++]<<16|k[_++]<<24;k=E.g[0],_=E.g[1],S=E.g[2];var F=E.g[3],L=k+(F^_&(S^F))+T[0]+3614090360&4294967295;k=_+(L<<7&4294967295|L>>>25),L=F+(S^k&(_^S))+T[1]+3905402710&4294967295,F=k+(L<<12&4294967295|L>>>20),L=S+(_^F&(k^_))+T[2]+606105819&4294967295,S=F+(L<<17&4294967295|L>>>15),L=_+(k^S&(F^k))+T[3]+3250441966&4294967295,_=S+(L<<22&4294967295|L>>>10),L=k+(F^_&(S^F))+T[4]+4118548399&4294967295,k=_+(L<<7&4294967295|L>>>25),L=F+(S^k&(_^S))+T[5]+1200080426&4294967295,F=k+(L<<12&4294967295|L>>>20),L=S+(_^F&(k^_))+T[6]+2821735955&4294967295,S=F+(L<<17&4294967295|L>>>15),L=_+(k^S&(F^k))+T[7]+4249261313&4294967295,_=S+(L<<22&4294967295|L>>>10),L=k+(F^_&(S^F))+T[8]+1770035416&4294967295,k=_+(L<<7&4294967295|L>>>25),L=F+(S^k&(_^S))+T[9]+2336552879&4294967295,F=k+(L<<12&4294967295|L>>>20),L=S+(_^F&(k^_))+T[10]+4294925233&4294967295,S=F+(L<<17&4294967295|L>>>15),L=_+(k^S&(F^k))+T[11]+2304563134&4294967295,_=S+(L<<22&4294967295|L>>>10),L=k+(F^_&(S^F))+T[12]+1804603682&4294967295,k=_+(L<<7&4294967295|L>>>25),L=F+(S^k&(_^S))+T[13]+4254626195&4294967295,F=k+(L<<12&4294967295|L>>>20),L=S+(_^F&(k^_))+T[14]+2792965006&4294967295,S=F+(L<<17&4294967295|L>>>15),L=_+(k^S&(F^k))+T[15]+1236535329&4294967295,_=S+(L<<22&4294967295|L>>>10),L=k+(S^F&(_^S))+T[1]+4129170786&4294967295,k=_+(L<<5&4294967295|L>>>27),L=F+(_^S&(k^_))+T[6]+3225465664&4294967295,F=k+(L<<9&4294967295|L>>>23),L=S+(k^_&(F^k))+T[11]+643717713&4294967295,S=F+(L<<14&4294967295|L>>>18),L=_+(F^k&(S^F))+T[0]+3921069994&4294967295,_=S+(L<<20&4294967295|L>>>12),L=k+(S^F&(_^S))+T[5]+3593408605&4294967295,k=_+(L<<5&4294967295|L>>>27),L=F+(_^S&(k^_))+T[10]+38016083&4294967295,F=k+(L<<9&4294967295|L>>>23),L=S+(k^_&(F^k))+T[15]+3634488961&4294967295,S=F+(L<<14&4294967295|L>>>18),L=_+(F^k&(S^F))+T[4]+3889429448&4294967295,_=S+(L<<20&4294967295|L>>>12),L=k+(S^F&(_^S))+T[9]+568446438&4294967295,k=_+(L<<5&4294967295|L>>>27),L=F+(_^S&(k^_))+T[14]+3275163606&4294967295,F=k+(L<<9&4294967295|L>>>23),L=S+(k^_&(F^k))+T[3]+4107603335&4294967295,S=F+(L<<14&4294967295|L>>>18),L=_+(F^k&(S^F))+T[8]+1163531501&4294967295,_=S+(L<<20&4294967295|L>>>12),L=k+(S^F&(_^S))+T[13]+2850285829&4294967295,k=_+(L<<5&4294967295|L>>>27),L=F+(_^S&(k^_))+T[2]+4243563512&4294967295,F=k+(L<<9&4294967295|L>>>23),L=S+(k^_&(F^k))+T[7]+1735328473&4294967295,S=F+(L<<14&4294967295|L>>>18),L=_+(F^k&(S^F))+T[12]+2368359562&4294967295,_=S+(L<<20&4294967295|L>>>12),L=k+(_^S^F)+T[5]+4294588738&4294967295,k=_+(L<<4&4294967295|L>>>28),L=F+(k^_^S)+T[8]+2272392833&4294967295,F=k+(L<<11&4294967295|L>>>21),L=S+(F^k^_)+T[11]+1839030562&4294967295,S=F+(L<<16&4294967295|L>>>16),L=_+(S^F^k)+T[14]+4259657740&4294967295,_=S+(L<<23&4294967295|L>>>9),L=k+(_^S^F)+T[1]+2763975236&4294967295,k=_+(L<<4&4294967295|L>>>28),L=F+(k^_^S)+T[4]+1272893353&4294967295,F=k+(L<<11&4294967295|L>>>21),L=S+(F^k^_)+T[7]+4139469664&4294967295,S=F+(L<<16&4294967295|L>>>16),L=_+(S^F^k)+T[10]+3200236656&4294967295,_=S+(L<<23&4294967295|L>>>9),L=k+(_^S^F)+T[13]+681279174&4294967295,k=_+(L<<4&4294967295|L>>>28),L=F+(k^_^S)+T[0]+3936430074&4294967295,F=k+(L<<11&4294967295|L>>>21),L=S+(F^k^_)+T[3]+3572445317&4294967295,S=F+(L<<16&4294967295|L>>>16),L=_+(S^F^k)+T[6]+76029189&4294967295,_=S+(L<<23&4294967295|L>>>9),L=k+(_^S^F)+T[9]+3654602809&4294967295,k=_+(L<<4&4294967295|L>>>28),L=F+(k^_^S)+T[12]+3873151461&4294967295,F=k+(L<<11&4294967295|L>>>21),L=S+(F^k^_)+T[15]+530742520&4294967295,S=F+(L<<16&4294967295|L>>>16),L=_+(S^F^k)+T[2]+3299628645&4294967295,_=S+(L<<23&4294967295|L>>>9),L=k+(S^(_|~F))+T[0]+4096336452&4294967295,k=_+(L<<6&4294967295|L>>>26),L=F+(_^(k|~S))+T[7]+1126891415&4294967295,F=k+(L<<10&4294967295|L>>>22),L=S+(k^(F|~_))+T[14]+2878612391&4294967295,S=F+(L<<15&4294967295|L>>>17),L=_+(F^(S|~k))+T[5]+4237533241&4294967295,_=S+(L<<21&4294967295|L>>>11),L=k+(S^(_|~F))+T[12]+1700485571&4294967295,k=_+(L<<6&4294967295|L>>>26),L=F+(_^(k|~S))+T[3]+2399980690&4294967295,F=k+(L<<10&4294967295|L>>>22),L=S+(k^(F|~_))+T[10]+4293915773&4294967295,S=F+(L<<15&4294967295|L>>>17),L=_+(F^(S|~k))+T[1]+2240044497&4294967295,_=S+(L<<21&4294967295|L>>>11),L=k+(S^(_|~F))+T[8]+1873313359&4294967295,k=_+(L<<6&4294967295|L>>>26),L=F+(_^(k|~S))+T[15]+4264355552&4294967295,F=k+(L<<10&4294967295|L>>>22),L=S+(k^(F|~_))+T[6]+2734768916&4294967295,S=F+(L<<15&4294967295|L>>>17),L=_+(F^(S|~k))+T[13]+1309151649&4294967295,_=S+(L<<21&4294967295|L>>>11),L=k+(S^(_|~F))+T[4]+4149444226&4294967295,k=_+(L<<6&4294967295|L>>>26),L=F+(_^(k|~S))+T[11]+3174756917&4294967295,F=k+(L<<10&4294967295|L>>>22),L=S+(k^(F|~_))+T[2]+718787259&4294967295,S=F+(L<<15&4294967295|L>>>17),L=_+(F^(S|~k))+T[9]+3951481745&4294967295,E.g[0]=E.g[0]+k&4294967295,E.g[1]=E.g[1]+(S+(L<<21&4294967295|L>>>11))&4294967295,E.g[2]=E.g[2]+S&4294967295,E.g[3]=E.g[3]+F&4294967295}i.prototype.u=function(E,k){k===void 0&&(k=E.length);for(var _=k-this.blockSize,T=this.B,S=this.h,F=0;F<k;){if(S==0)for(;F<=_;)r(this,E,F),F+=this.blockSize;if(typeof E=="string"){for(;F<k;)if(T[S++]=E.charCodeAt(F++),S==this.blockSize){r(this,T),S=0;break}}else for(;F<k;)if(T[S++]=E[F++],S==this.blockSize){r(this,T),S=0;break}}this.h=S,this.o+=k},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var k=1;k<E.length-8;++k)E[k]=0;var _=8*this.o;for(k=E.length-8;k<E.length;++k)E[k]=_&255,_/=256;for(this.u(E),E=Array(16),k=_=0;4>k;++k)for(var T=0;32>T;T+=8)E[_++]=this.g[k]>>>T&255;return E};function a(E,k){var _=l;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=k(E)}function o(E,k){this.h=k;for(var _=[],T=!0,S=E.length-1;0<=S;S--){var F=E[S]|0;T&&F==k||(_[S]=F,T=!1)}this.g=_}var l={};function c(E){return-128<=E&&128>E?a(E,function(k){return new o([k|0],0>k?-1:0)}):new o([E|0],0>E?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return m;if(0>E)return v(d(-E));for(var k=[],_=1,T=0;E>=_;T++)k[T]=E/_|0,_*=4294967296;return new o(k,0)}function h(E,k){if(E.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(E.charAt(0)=="-")return v(h(E.substring(1),k));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=d(Math.pow(k,8)),T=m,S=0;S<E.length;S+=8){var F=Math.min(8,E.length-S),L=parseInt(E.substring(S,S+F),k);8>F?(F=d(Math.pow(k,F)),T=T.j(F).add(d(L))):(T=T.j(_),T=T.add(d(L)))}return T}var m=c(0),p=c(1),g=c(16777216);s=o.prototype,s.m=function(){if(j(this))return-v(this).m();for(var E=0,k=1,_=0;_<this.g.length;_++){var T=this.i(_);E+=(0<=T?T:4294967296+T)*k,k*=4294967296}return E},s.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(j(this))return"-"+v(this).toString(E);for(var k=d(Math.pow(E,6)),_=this,T="";;){var S=I(_,k).g;_=b(_,S.j(k));var F=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=S,x(_))return F+T;for(;6>F.length;)F="0"+F;T=F+T}},s.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var k=0;k<E.g.length;k++)if(E.g[k]!=0)return!1;return!0}function j(E){return E.h==-1}s.l=function(E){return E=b(this,E),j(E)?-1:x(E)?0:1};function v(E){for(var k=E.g.length,_=[],T=0;T<k;T++)_[T]=~E.g[T];return new o(_,~E.h).add(p)}s.abs=function(){return j(this)?v(this):this},s.add=function(E){for(var k=Math.max(this.g.length,E.g.length),_=[],T=0,S=0;S<=k;S++){var F=T+(this.i(S)&65535)+(E.i(S)&65535),L=(F>>>16)+(this.i(S)>>>16)+(E.i(S)>>>16);T=L>>>16,F&=65535,L&=65535,_[S]=L<<16|F}return new o(_,_[_.length-1]&-2147483648?-1:0)};function b(E,k){return E.add(v(k))}s.j=function(E){if(x(this)||x(E))return m;if(j(this))return j(E)?v(this).j(v(E)):v(v(this).j(E));if(j(E))return v(this.j(v(E)));if(0>this.l(g)&&0>E.l(g))return d(this.m()*E.m());for(var k=this.g.length+E.g.length,_=[],T=0;T<2*k;T++)_[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<E.g.length;S++){var F=this.i(T)>>>16,L=this.i(T)&65535,oe=E.i(S)>>>16,A=E.i(S)&65535;_[2*T+2*S]+=L*A,N(_,2*T+2*S),_[2*T+2*S+1]+=F*A,N(_,2*T+2*S+1),_[2*T+2*S+1]+=L*oe,N(_,2*T+2*S+1),_[2*T+2*S+2]+=F*oe,N(_,2*T+2*S+2)}for(T=0;T<k;T++)_[T]=_[2*T+1]<<16|_[2*T];for(T=k;T<2*k;T++)_[T]=0;return new o(_,0)};function N(E,k){for(;(E[k]&65535)!=E[k];)E[k+1]+=E[k]>>>16,E[k]&=65535,k++}function C(E,k){this.g=E,this.h=k}function I(E,k){if(x(k))throw Error("division by zero");if(x(E))return new C(m,m);if(j(E))return k=I(v(E),k),new C(v(k.g),v(k.h));if(j(k))return k=I(E,v(k)),new C(v(k.g),k.h);if(30<E.g.length){if(j(E)||j(k))throw Error("slowDivide_ only works with positive integers.");for(var _=p,T=k;0>=T.l(E);)_=D(_),T=D(T);var S=$(_,1),F=$(T,1);for(T=$(T,2),_=$(_,2);!x(T);){var L=F.add(T);0>=L.l(E)&&(S=S.add(_),F=L),T=$(T,1),_=$(_,1)}return k=b(E,S.j(k)),new C(S,k)}for(S=m;0<=E.l(k);){for(_=Math.max(1,Math.floor(E.m()/k.m())),T=Math.ceil(Math.log(_)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),F=d(_),L=F.j(k);j(L)||0<L.l(E);)_-=T,F=d(_),L=F.j(k);x(F)&&(F=p),S=S.add(F),E=b(E,L)}return new C(S,E)}s.A=function(E){return I(this,E).h},s.and=function(E){for(var k=Math.max(this.g.length,E.g.length),_=[],T=0;T<k;T++)_[T]=this.i(T)&E.i(T);return new o(_,this.h&E.h)},s.or=function(E){for(var k=Math.max(this.g.length,E.g.length),_=[],T=0;T<k;T++)_[T]=this.i(T)|E.i(T);return new o(_,this.h|E.h)},s.xor=function(E){for(var k=Math.max(this.g.length,E.g.length),_=[],T=0;T<k;T++)_[T]=this.i(T)^E.i(T);return new o(_,this.h^E.h)};function D(E){for(var k=E.g.length+1,_=[],T=0;T<k;T++)_[T]=E.i(T)<<1|E.i(T-1)>>>31;return new o(_,E.h)}function $(E,k){var _=k>>5;k%=32;for(var T=E.g.length-_,S=[],F=0;F<T;F++)S[F]=0<k?E.i(F+_)>>>k|E.i(F+_+1)<<32-k:E.i(F+_);return new o(S,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tT=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,xa=o}).apply(typeof Db<"u"?Db:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sT,cc,nT,hh,rv,iT,rT,aT;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,y,w){return u==Array.prototype||u==Object.prototype||(u[y]=w.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var y=0;y<u.length;++y){var w=u[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function r(u,y){if(y)e:{var w=i;u=u.split(".");for(var M=0;M<u.length-1;M++){var Y=u[M];if(!(Y in w))break e;w=w[Y]}u=u[u.length-1],M=w[u],y=y(M),y!=M&&y!=null&&e(w,u,{configurable:!0,writable:!0,value:y})}}function a(u,y){u instanceof String&&(u+="");var w=0,M=!1,Y={next:function(){if(!M&&w<u.length){var te=w++;return{value:y(te,u[te]),done:!1}}return M=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}r("Array.prototype.values",function(u){return u||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(u){var y=typeof u;return y=y!="object"?y:u?Array.isArray(u)?"array":y:"null",y=="array"||y=="object"&&typeof u.length=="number"}function d(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function h(u,y,w){return u.call.apply(u.bind,arguments)}function m(u,y,w){if(!u)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,M),u.apply(y,Y)}}return function(){return u.apply(y,arguments)}}function p(u,y,w){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,p.apply(null,arguments)}function g(u,y){var w=Array.prototype.slice.call(arguments,1);return function(){var M=w.slice();return M.push.apply(M,arguments),u.apply(this,M)}}function x(u,y){function w(){}w.prototype=y.prototype,u.aa=y.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(M,Y,te){for(var Ne=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)Ne[Tt-2]=arguments[Tt];return y.prototype[Y].apply(M,Ne)}}function j(u){const y=u.length;if(0<y){const w=Array(y);for(let M=0;M<y;M++)w[M]=u[M];return w}return[]}function v(u,y){for(let w=1;w<arguments.length;w++){const M=arguments[w];if(c(M)){const Y=u.length||0,te=M.length||0;u.length=Y+te;for(let Ne=0;Ne<te;Ne++)u[Y+Ne]=M[Ne]}else u.push(M)}}class b{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function N(u){return/^[\s\xa0]*$/.test(u)}function C(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var D=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function $(u,y,w){for(const M in u)y.call(w,u[M],M,u)}function E(u,y){for(const w in u)y.call(void 0,u[w],w,u)}function k(u){const y={};for(const w in u)y[w]=u[w];return y}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,y){let w,M;for(let Y=1;Y<arguments.length;Y++){M=arguments[Y];for(w in M)u[w]=M[w];for(let te=0;te<_.length;te++)w=_[te],Object.prototype.hasOwnProperty.call(M,w)&&(u[w]=M[w])}}function S(u){var y=1;u=u.split(":");const w=[];for(;0<y&&u.length;)w.push(u.shift()),y--;return u.length&&w.push(u.join(":")),w}function F(u){l.setTimeout(()=>{throw u},0)}function L(){var u=P;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class oe{constructor(){this.h=this.g=null}add(y,w){const M=A.get();M.set(y,w),this.h?this.h.next=M:this.g=M,this.h=M}}var A=new b(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,q=!1,P=new oe,G=()=>{const u=l.Promise.resolve(void 0);Q=()=>{u.then(U)}};var U=()=>{for(var u;u=L();){try{u.h.call(u.g)}catch(w){F(w)}var y=A;y.j(u),100>y.h&&(y.h++,u.next=y.g,y.g=u)}q=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};l.addEventListener("test",w,y),l.removeEventListener("test",w,y)}catch{}return u}();function Ce(u,y){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,M=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget){if(D){e:{try{I(y.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(y=null)}}else w=="mouseover"?y=u.fromElement:w=="mouseout"&&(y=u.toElement);this.relatedTarget=y,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}x(Ce,W);var Fe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Ze(u,y,w,M,Y){this.listener=u,this.proxy=null,this.src=y,this.type=w,this.capture=!!M,this.ha=Y,this.key=++Ie,this.da=this.fa=!1}function we(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u){this.src=u,this.g={},this.h=0}Le.prototype.add=function(u,y,w,M,Y){var te=u.toString();u=this.g[te],u||(u=this.g[te]=[],this.h++);var Ne=wt(u,y,M,Y);return-1<Ne?(y=u[Ne],w||(y.fa=!1)):(y=new Ze(y,this.src,te,!!M,Y),y.fa=w,u.push(y)),y};function bt(u,y){var w=y.type;if(w in u.g){var M=u.g[w],Y=Array.prototype.indexOf.call(M,y,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(M,Y,1),te&&(we(y),u.g[w].length==0&&(delete u.g[w],u.h--))}}function wt(u,y,w,M){for(var Y=0;Y<u.length;++Y){var te=u[Y];if(!te.da&&te.listener==y&&te.capture==!!w&&te.ha==M)return Y}return-1}var Et="closure_lm_"+(1e6*Math.random()|0),gt={};function ge(u,y,w,M,Y){if(Array.isArray(y)){for(var te=0;te<y.length;te++)ge(u,y[te],w,M,Y);return null}return w=se(w),u&&u[Me]?u.K(y,w,d(M)?!!M.capture:!1,Y):J(u,y,w,!1,M,Y)}function J(u,y,w,M,Y,te){if(!y)throw Error("Invalid event type");var Ne=d(Y)?!!Y.capture:!!Y,Tt=K(u);if(Tt||(u[Et]=Tt=new Le(u)),w=Tt.add(y,w,M,Ne,te),w.proxy)return w;if(M=Ee(),w.proxy=M,M.src=u,M.listener=w,u.addEventListener)xe||(Y=Ne),Y===void 0&&(Y=!1),u.addEventListener(y.toString(),M,Y);else if(u.attachEvent)u.attachEvent(xt(y.toString()),M);else if(u.addListener&&u.removeListener)u.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ee(){function u(w){return y.call(u.src,u.listener,w)}const y=At;return u}function $e(u,y,w,M,Y){if(Array.isArray(y))for(var te=0;te<y.length;te++)$e(u,y[te],w,M,Y);else M=d(M)?!!M.capture:!!M,w=se(w),u&&u[Me]?(u=u.i,y=String(y).toString(),y in u.g&&(te=u.g[y],w=wt(te,w,M,Y),-1<w&&(we(te[w]),Array.prototype.splice.call(te,w,1),te.length==0&&(delete u.g[y],u.h--)))):u&&(u=K(u))&&(y=u.g[y.toString()],u=-1,y&&(u=wt(y,w,M,Y)),(w=-1<u?y[u]:null)&&vt(w))}function vt(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Me])bt(y.i,u);else{var w=u.type,M=u.proxy;y.removeEventListener?y.removeEventListener(w,M,u.capture):y.detachEvent?y.detachEvent(xt(w),M):y.addListener&&y.removeListener&&y.removeListener(M),(w=K(y))?(bt(w,u),w.h==0&&(w.src=null,y[Et]=null)):we(u)}}}function xt(u){return u in gt?gt[u]:gt[u]="on"+u}function At(u,y){if(u.da)u=!0;else{y=new Ce(y,this);var w=u.listener,M=u.ha||u.src;u.fa&&vt(u),u=w.call(M,y)}return u}function K(u){return u=u[Et],u instanceof Le?u:null}var O="__closure_events_fn_"+(1e9*Math.random()>>>0);function se(u){return typeof u=="function"?u:(u[O]||(u[O]=function(y){return u.handleEvent(y)}),u[O])}function ce(){re.call(this),this.i=new Le(this),this.M=this,this.F=null}x(ce,re),ce.prototype[Me]=!0,ce.prototype.removeEventListener=function(u,y,w,M){$e(this,u,y,w,M)};function ke(u,y){var w,M=u.F;if(M)for(w=[];M;M=M.F)w.push(M);if(u=u.M,M=y.type||y,typeof y=="string")y=new W(y,u);else if(y instanceof W)y.target=y.target||u;else{var Y=y;y=new W(M,u),T(y,Y)}if(Y=!0,w)for(var te=w.length-1;0<=te;te--){var Ne=y.g=w[te];Y=tt(Ne,M,!0,y)&&Y}if(Ne=y.g=u,Y=tt(Ne,M,!0,y)&&Y,Y=tt(Ne,M,!1,y)&&Y,w)for(te=0;te<w.length;te++)Ne=y.g=w[te],Y=tt(Ne,M,!1,y)&&Y}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var u=this.i,y;for(y in u.g){for(var w=u.g[y],M=0;M<w.length;M++)we(w[M]);delete u.g[y],u.h--}}this.F=null},ce.prototype.K=function(u,y,w,M){return this.i.add(String(u),y,!1,w,M)},ce.prototype.L=function(u,y,w,M){return this.i.add(String(u),y,!0,w,M)};function tt(u,y,w,M){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();for(var Y=!0,te=0;te<y.length;++te){var Ne=y[te];if(Ne&&!Ne.da&&Ne.capture==w){var Tt=Ne.listener,ys=Ne.ha||Ne.src;Ne.fa&&bt(u.i,Ne),Y=Tt.call(ys,M)!==!1&&Y}}return Y&&!M.defaultPrevented}function yt(u,y,w){if(typeof u=="function")w&&(u=p(u,w));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:l.setTimeout(u,y||0)}function ht(u){u.g=yt(()=>{u.g=null,u.i&&(u.i=!1,ht(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class V extends re{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(u){re.call(this),this.h=u,this.g={}}x(ee,re);var de=[];function We(u){$(u.g,function(y,w){this.g.hasOwnProperty(w)&&vt(y)},u),u.g={}}ee.prototype.N=function(){ee.aa.N.call(this),We(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jt=l.JSON.stringify,B=l.JSON.parse,z=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function ye(){}ye.prototype.h=null;function pe(u){return u.h||(u.h=u.i())}function it(){}var ie={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function st(){W.call(this,"d")}x(st,W);function Rt(){W.call(this,"c")}x(Rt,W);var _e={},rt=null;function Ue(){return rt=rt||new ce}_e.La="serverreachability";function ne(u){W.call(this,_e.La,u)}x(ne,W);function je(u){const y=Ue();ke(y,new ne(y))}_e.STAT_EVENT="statevent";function Be(u,y){W.call(this,_e.STAT_EVENT,u),this.stat=y}x(Be,W);function ae(u){const y=Ue();ke(y,new Be(y,u))}_e.Ma="timingevent";function ue(u,y){W.call(this,_e.Ma,u),this.size=y}x(ue,W);function Qe(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},y)}function Xs(){this.g=!0}Xs.prototype.xa=function(){this.g=!1};function xi(u,y,w,M,Y,te){u.info(function(){if(u.g)if(te)for(var Ne="",Tt=te.split("&"),ys=0;ys<Tt.length;ys++){var pt=Tt[ys].split("=");if(1<pt.length){var Es=pt[0];pt=pt[1];var Ps=Es.split("_");Ne=2<=Ps.length&&Ps[1]=="type"?Ne+(Es+"="+pt+"&"):Ne+(Es+"=redacted&")}}else Ne=null;else Ne=te;return"XMLHTTP REQ ("+M+") [attempt "+Y+"]: "+y+`
`+w+`
`+Ne})}function Ha(u,y,w,M,Y,te,Ne){u.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Y+"]: "+y+`
`+w+`
`+te+" "+Ne})}function R(u,y,w,M){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+be(u,w)+(M?" "+M:"")})}function H(u,y){u.info(function(){return"TIMEOUT: "+y})}Xs.prototype.info=function(){};function be(u,y){if(!u.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var M=w[u];if(!(2>M.length)){var Y=M[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var Ne=1;Ne<Y.length;Ne++)Y[Ne]=""}}}}return jt(w)}catch{return y}}var Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yt;function Ws(){}x(Ws,ye),Ws.prototype.g=function(){return new XMLHttpRequest},Ws.prototype.i=function(){return{}},Yt=new Ws;function xs(u,y,w,M){this.j=u,this.i=y,this.l=w,this.R=M||1,this.U=new ee(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tu}function tu(){this.i=null,this.g="",this.h=!1}var su={},El={};function Pl(u,y,w){u.L=1,u.v=uu(ji(y)),u.m=w,u.P=!0,Ga(u,null)}function Ga(u,y){u.F=Date.now(),Yr(u),u.A=ji(u.v);var w=u.A,M=u.R;Array.isArray(M)||(M=[String(M)]),yN(w.i,"t",M),u.C=0,w=u.j.J,u.h=new tu,u.g=ON(u.j,w?y:null,!u.m),0<u.O&&(u.M=new V(p(u.Y,u,u.g),u.O)),y=u.U,w=u.g,M=u.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(de[0]=Y.toString()),Y=de);for(var te=0;te<Y.length;te++){var Ne=ge(w,Y[te],M||y.handleEvent,!1,y.h||y);if(!Ne)break;y.g[Ne.key]=Ne}y=u.H?k(u.H):{},u.m?(u.u||(u.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,y)):(u.u="GET",u.g.ea(u.A,u.u,null,y)),je(),xi(u.i,u.u,u.A,u.l,u.R,u.m)}xs.prototype.ca=function(u){u=u.target;const y=this.M;y&&Ni(u)==3?y.j():this.Y(u)},xs.prototype.Y=function(u){try{if(u==this.g)e:{const Ps=Ni(this.g);var y=this.g.Ba();const Ya=this.g.Z();if(!(3>Ps)&&(Ps!=3||this.g&&(this.h.h||this.g.oa()||_N(this.g)))){this.J||Ps!=4||y==7||(y==8||0>=Ya?je(3):je(2)),Al(this);var w=this.g.Z();this.X=w;t:if(nu(this)){var M=_N(this.g);u="";var Y=M.length,te=Ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),Jr(this);var Ne="";break t}this.h.i=new l.TextDecoder}for(y=0;y<Y;y++)this.h.h=!0,u+=this.h.i.decode(M[y],{stream:!(te&&y==Y-1)});M.length=0,this.h.g+=u,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=w==200,Ha(this.i,this.u,this.A,this.l,this.R,Ps,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,ys=this.g;if((Tt=ys.g?ys.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Tt)){var pt=Tt;break t}}pt=null}if(w=pt)R(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rl(this,w);else{this.o=!1,this.s=3,ae(12),yi(this),Jr(this);break e}}if(this.P){w=!0;let Ln;for(;!this.J&&this.C<Ne.length;)if(Ln=Ap(this,Ne),Ln==El){Ps==4&&(this.s=4,ae(14),w=!1),R(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==su){this.s=4,ae(15),R(this.i,this.l,Ne,"[Invalid Chunk]"),w=!1;break}else R(this.i,this.l,Ln,null),Rl(this,Ln);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ps!=4||Ne.length!=0||this.h.h||(this.s=1,ae(16),w=!1),this.o=this.o&&w,!w)R(this.i,this.l,Ne,"[Invalid Chunked Response]"),yi(this),Jr(this);else if(0<Ne.length&&!this.W){this.W=!0;var Es=this.j;Es.g==this&&Es.ba&&!Es.M&&(Es.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),Lp(Es),Es.M=!0,ae(11))}}else R(this.i,this.l,Ne,null),Rl(this,Ne);Ps==4&&yi(this),this.o&&!this.J&&(Ps==4?IN(this.j,this):(this.o=!1,Yr(this)))}else fR(this.g),w==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),yi(this),Jr(this)}}}catch{}finally{}};function nu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ap(u,y){var w=u.C,M=y.indexOf(`
`,w);return M==-1?El:(w=Number(y.substring(w,M)),isNaN(w)?su:(M+=1,M+w>y.length?El:(y=y.slice(M,M+w),u.C=M+w,y)))}xs.prototype.cancel=function(){this.J=!0,yi(this)};function Yr(u){u.S=Date.now()+u.I,iu(u,u.I)}function iu(u,y){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Qe(p(u.ba,u),y)}function Al(u){u.B&&(l.clearTimeout(u.B),u.B=null)}xs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(H(this.i,this.A),this.L!=2&&(je(),ae(17)),yi(this),this.s=2,Jr(this)):iu(this,this.S-u)};function Jr(u){u.j.G==0||u.J||IN(u.j,u)}function yi(u){Al(u);var y=u.M;y&&typeof y.ma=="function"&&y.ma(),u.M=null,We(u.U),u.g&&(y=u.g,u.g=null,y.abort(),y.ma())}function Rl(u,y){try{var w=u.j;if(w.G!=0&&(w.g==u||Il(w.h,u))){if(!u.K&&Il(w.h,u)&&w.G==3){try{var M=w.Da.g.parse(y)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Y=M;if(Y[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)vu(w),fu(w);else break e;Mp(w),ae(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=Qe(p(w.Za,w),6e3));if(1>=ou(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Zr(w,11)}else if((u.K||w.g==u)&&vu(w),!N(y))for(Y=w.Da.g.parse(y),y=0;y<Y.length;y++){let pt=Y[y];if(w.T=pt[0],pt=pt[1],w.G==2)if(pt[0]=="c"){w.K=pt[1],w.ia=pt[2];const Es=pt[3];Es!=null&&(w.la=Es,w.j.info("VER="+w.la));const Ps=pt[4];Ps!=null&&(w.Aa=Ps,w.j.info("SVER="+w.Aa));const Ya=pt[5];Ya!=null&&typeof Ya=="number"&&0<Ya&&(M=1.5*Ya,w.L=M,w.j.info("backChannelRequestTimeoutMs_="+M)),M=w;const Ln=u.g;if(Ln){const yu=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yu){var te=M.h;te.g||yu.indexOf("spdy")==-1&&yu.indexOf("quic")==-1&&yu.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Dl(te,te.h),te.h=null))}if(M.D){const Op=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Op&&(M.ya=Op,It(M.I,M.D,Op))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),M=w;var Ne=u;if(M.qa=LN(M,M.J?M.ia:null,M.W),Ne.K){lu(M.h,Ne);var Tt=Ne,ys=M.L;ys&&(Tt.I=ys),Tt.B&&(Al(Tt),Yr(Tt)),M.g=Ne}else AN(M);0<w.i.length&&gu(w)}else pt[0]!="stop"&&pt[0]!="close"||Zr(w,7);else w.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Zr(w,7):Dp(w):pt[0]!="noop"&&w.l&&w.l.ta(pt),w.v=0)}}je(4)}catch{}}var Rp=class{constructor(u,y){this.g=u,this.map=y}};function ru(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function au(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ou(u){return u.h?1:u.g?u.g.size:0}function Il(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Dl(u,y){u.g?u.g.add(y):u.h=y}function lu(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}ru.prototype.cancel=function(){if(this.i=Ae(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ae(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const w of u.g.values())y=y.concat(w.D);return y}return j(u.i)}function Ge(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var y=[],w=u.length,M=0;M<w;M++)y.push(u[M]);return y}y=[],w=0;for(M in u)y[w++]=u[M];return y}function hs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var y=[];u=u.length;for(var w=0;w<u;w++)y.push(w);return y}y=[],w=0;for(const M in u)y[w++]=M;return y}}}function mN(u,y){if(u.forEach&&typeof u.forEach=="function")u.forEach(y,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,y,void 0);else for(var w=hs(u),M=Ge(u),Y=M.length,te=0;te<Y;te++)y.call(void 0,M[te],w&&w[te],u)}var pN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sR(u,y){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var M=u[w].indexOf("="),Y=null;if(0<=M){var te=u[w].substring(0,M);Y=u[w].substring(M+1)}else te=u[w];y(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Xr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Xr){this.h=u.h,cu(this,u.j),this.o=u.o,this.g=u.g,du(this,u.s),this.l=u.l;var y=u.i,w=new Ol;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),fN(this,w),this.m=u.m}else u&&(y=String(u).match(pN))?(this.h=!1,cu(this,y[1]||"",!0),this.o=Ml(y[2]||""),this.g=Ml(y[3]||"",!0),du(this,y[4]),this.l=Ml(y[5]||"",!0),fN(this,y[6]||"",!0),this.m=Ml(y[7]||"")):(this.h=!1,this.i=new Ol(null,this.h))}Xr.prototype.toString=function(){var u=[],y=this.j;y&&u.push(Ll(y,gN,!0),":");var w=this.g;return(w||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Ll(y,gN,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(Ll(w,w.charAt(0)=="/"?rR:iR,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",Ll(w,oR)),u.join("")};function ji(u){return new Xr(u)}function cu(u,y,w){u.j=w?Ml(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function du(u,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);u.s=y}else u.s=null}function fN(u,y,w){y instanceof Ol?(u.i=y,lR(u.i,u.h)):(w||(y=Ll(y,aR)),u.i=new Ol(y,u.h))}function It(u,y,w){u.i.set(y,w)}function uu(u){return It(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ml(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ll(u,y,w){return typeof u=="string"?(u=encodeURI(u).replace(y,nR),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var gN=/[#\/\?@]/g,iR=/[#\?:]/g,rR=/[#\?]/g,aR=/[#\?@]/g,oR=/#/g;function Ol(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function rr(u){u.g||(u.g=new Map,u.h=0,u.i&&sR(u.i,function(y,w){u.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}s=Ol.prototype,s.add=function(u,y){rr(this),this.i=null,u=Ka(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(y),this.h+=1,this};function vN(u,y){rr(u),y=Ka(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function xN(u,y){return rr(u),y=Ka(u,y),u.g.has(y)}s.forEach=function(u,y){rr(this),this.g.forEach(function(w,M){w.forEach(function(Y){u.call(y,Y,M,this)},this)},this)},s.na=function(){rr(this);const u=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let M=0;M<y.length;M++){const Y=u[M];for(let te=0;te<Y.length;te++)w.push(y[M])}return w},s.V=function(u){rr(this);let y=[];if(typeof u=="string")xN(this,u)&&(y=y.concat(this.g.get(Ka(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)y=y.concat(u[w])}return y},s.set=function(u,y){return rr(this),this.i=null,u=Ka(this,u),xN(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},s.get=function(u,y){return u?(u=this.V(u),0<u.length?String(u[0]):y):y};function yN(u,y,w){vN(u,y),0<w.length&&(u.i=null,u.g.set(Ka(u,y),j(w)),u.h+=w.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var M=y[w];const te=encodeURIComponent(String(M)),Ne=this.V(M);for(M=0;M<Ne.length;M++){var Y=te;Ne[M]!==""&&(Y+="="+encodeURIComponent(String(Ne[M]))),u.push(Y)}}return this.i=u.join("&")};function Ka(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function lR(u,y){y&&!u.j&&(rr(u),u.i=null,u.g.forEach(function(w,M){var Y=M.toLowerCase();M!=Y&&(vN(this,M),yN(this,Y,w))},u)),u.j=y}function cR(u,y){const w=new Xs;if(l.Image){const M=new Image;M.onload=g(ar,w,"TestLoadImage: loaded",!0,y,M),M.onerror=g(ar,w,"TestLoadImage: error",!1,y,M),M.onabort=g(ar,w,"TestLoadImage: abort",!1,y,M),M.ontimeout=g(ar,w,"TestLoadImage: timeout",!1,y,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=u}else y(!1)}function dR(u,y){const w=new Xs,M=new AbortController,Y=setTimeout(()=>{M.abort(),ar(w,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:M.signal}).then(te=>{clearTimeout(Y),te.ok?ar(w,"TestPingServer: ok",!0,y):ar(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),ar(w,"TestPingServer: error",!1,y)})}function ar(u,y,w,M,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),M(w)}catch{}}function uR(){this.g=new z}function hR(u,y,w){const M=w||"";try{mN(u,function(Y,te){let Ne=Y;d(Y)&&(Ne=jt(Y)),y.push(M+te+"="+encodeURIComponent(Ne))})}catch(Y){throw y.push(M+"type="+encodeURIComponent("_badmap")),Y}}function hu(u){this.l=u.Ub||null,this.j=u.eb||!1}x(hu,ye),hu.prototype.g=function(){return new mu(this.l,this.j)},hu.prototype.i=function(u){return function(){return u}}({});function mu(u,y){ce.call(this),this.D=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(mu,ce),s=mu.prototype,s.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=y,this.readyState=1,Fl(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(y.body=u),(this.D||l).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vl(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fl(this)),this.g&&(this.readyState=3,Fl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jN(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function jN(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Vl(this):Fl(this),this.readyState==3&&jN(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Vl(this))},s.Qa=function(u){this.g&&(this.response=u,Vl(this))},s.ga=function(){this.g&&Vl(this)};function Vl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fl(u)}s.setRequestHeader=function(u,y){this.u.append(u,y)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=y.next();return u.join(`\r
`)};function Fl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function NN(u){let y="";return $(u,function(w,M){y+=M,y+=":",y+=w,y+=`\r
`}),y}function Ip(u,y,w){e:{for(M in w){var M=!1;break e}M=!0}M||(w=NN(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):It(u,y,w))}function Ht(u){ce.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ht,ce);var mR=/^https?$/i,pR=["POST","PUT"];s=Ht.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,y,w,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yt.g(),this.v=this.o?pe(this.o):pe(Yt),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(te){bN(this,te);return}if(u=w||"",w=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Y in M)w.set(Y,M[Y]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const te of M.keys())w.set(te,M.get(te));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(w.keys()).find(te=>te.toLowerCase()=="content-type"),Y=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(pR,y,void 0))||M||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,Ne]of w)this.g.setRequestHeader(te,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kN(this),this.u=!0,this.g.send(u),this.u=!1}catch(te){bN(this,te)}};function bN(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.m=5,wN(u),pu(u)}function wN(u){u.A||(u.A=!0,ke(u,"complete"),ke(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ke(this,"complete"),ke(this,"abort"),pu(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pu(this,!0)),Ht.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?SN(this):this.bb())},s.bb=function(){SN(this)};function SN(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ni(u)!=4||u.Z()!=2)){if(u.u&&Ni(u)==4)yt(u.Ea,0,u);else if(ke(u,"readystatechange"),Ni(u)==4){u.h=!1;try{const Ne=u.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var M;if(M=Ne===0){var Y=String(u.D).match(pN)[1]||null;!Y&&l.self&&l.self.location&&(Y=l.self.location.protocol.slice(0,-1)),M=!mR.test(Y?Y.toLowerCase():"")}w=M}if(w)ke(u,"complete"),ke(u,"success");else{u.m=6;try{var te=2<Ni(u)?u.g.statusText:""}catch{te=""}u.l=te+" ["+u.Z()+"]",wN(u)}}finally{pu(u)}}}}function pu(u,y){if(u.g){kN(u);const w=u.g,M=u.v[0]?()=>{}:null;u.g=null,u.v=null,y||ke(u,"ready");try{w.onreadystatechange=M}catch{}}}function kN(u){u.I&&(l.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Ni(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Ni(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),B(y)}};function _N(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fR(u){const y={};u=(u.g&&2<=Ni(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<u.length;M++){if(N(u[M]))continue;var w=S(u[M]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const te=y[Y]||[];y[Y]=te,te.push(w)}E(y,function(M){return M.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bl(u,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||y}function CN(u){this.Aa=0,this.i=[],this.j=new Xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bl("baseRetryDelayMs",5e3,u),this.cb=Bl("retryDelaySeedMs",1e4,u),this.Wa=Bl("forwardChannelMaxRetries",2,u),this.wa=Bl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ru(u&&u.concurrentRequestLimit),this.Da=new uR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=CN.prototype,s.la=8,s.G=1,s.connect=function(u,y,w,M){ae(0),this.W=u,this.H=y||{},w&&M!==void 0&&(this.H.OSID=w,this.H.OAID=M),this.F=this.X,this.I=LN(this,null,this.W),gu(this)};function Dp(u){if(TN(u),u.G==3){var y=u.U++,w=ji(u.I);if(It(w,"SID",u.K),It(w,"RID",y),It(w,"TYPE","terminate"),Ul(u,w),y=new xs(u,u.j,y),y.L=2,y.v=uu(ji(w)),w=!1,l.navigator&&l.navigator.sendBeacon)try{w=l.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&l.Image&&(new Image().src=y.v,w=!0),w||(y.g=ON(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Yr(y)}MN(u)}function fu(u){u.g&&(Lp(u),u.g.cancel(),u.g=null)}function TN(u){fu(u),u.u&&(l.clearTimeout(u.u),u.u=null),vu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function gu(u){if(!au(u.h)&&!u.s){u.s=!0;var y=u.Ga;Q||G(),q||(Q(),q=!0),P.add(y,u),u.B=0}}function gR(u,y){return ou(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=y.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Qe(p(u.Ga,u,y),DN(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const Y=new xs(this,this.j,u);let te=this.o;if(this.S&&(te?(te=k(te),T(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var M=this.i[w];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(y+=M,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=PN(this,Y,y),w=ji(this.I),It(w,"RID",u),It(w,"CVER",22),this.D&&It(w,"X-HTTP-Session-Id",this.D),Ul(this,w),te&&(this.O?y="headers="+encodeURIComponent(String(NN(te)))+"&"+y:this.m&&Ip(w,this.m,te)),Dl(this.h,Y),this.Ua&&It(w,"TYPE","init"),this.P?(It(w,"$req",y),It(w,"SID","null"),Y.T=!0,Pl(Y,w,null)):Pl(Y,w,y),this.G=2}}else this.G==3&&(u?EN(this,u):this.i.length==0||au(this.h)||EN(this))};function EN(u,y){var w;y?w=y.l:w=u.U++;const M=ji(u.I);It(M,"SID",u.K),It(M,"RID",w),It(M,"AID",u.T),Ul(u,M),u.m&&u.o&&Ip(M,u.m,u.o),w=new xs(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),y&&(u.i=y.D.concat(u.i)),y=PN(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Dl(u.h,w),Pl(w,M,y)}function Ul(u,y){u.H&&$(u.H,function(w,M){It(y,M,w)}),u.l&&mN({},function(w,M){It(y,M,w)})}function PN(u,y,w){w=Math.min(u.i.length,w);var M=u.l?p(u.l.Na,u.l,u):null;e:{var Y=u.i;let te=-1;for(;;){const Ne=["count="+w];te==-1?0<w?(te=Y[0].g,Ne.push("ofs="+te)):te=0:Ne.push("ofs="+te);let Tt=!0;for(let ys=0;ys<w;ys++){let pt=Y[ys].g;const Es=Y[ys].map;if(pt-=te,0>pt)te=Math.max(0,Y[ys].g-100),Tt=!1;else try{hR(Es,Ne,"req"+pt+"_")}catch{M&&M(Es)}}if(Tt){M=Ne.join("&");break e}}}return u=u.i.splice(0,w),y.D=u,M}function AN(u){if(!u.g&&!u.u){u.Y=1;var y=u.Fa;Q||G(),q||(Q(),q=!0),P.add(y,u),u.v=0}}function Mp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Qe(p(u.Fa,u),DN(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,RN(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Qe(p(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),fu(this),RN(this))};function Lp(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function RN(u){u.g=new xs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var y=ji(u.qa);It(y,"RID","rpc"),It(y,"SID",u.K),It(y,"AID",u.T),It(y,"CI",u.F?"0":"1"),!u.F&&u.ja&&It(y,"TO",u.ja),It(y,"TYPE","xmlhttp"),Ul(u,y),u.m&&u.o&&Ip(y,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=uu(ji(y)),w.m=null,w.P=!0,Ga(w,u)}s.Za=function(){this.C!=null&&(this.C=null,fu(this),Mp(this),ae(19))};function vu(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function IN(u,y){var w=null;if(u.g==y){vu(u),Lp(u),u.g=null;var M=2}else if(Il(u.h,y))w=y.D,lu(u.h,y),M=1;else return;if(u.G!=0){if(y.o)if(M==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var Y=u.B;M=Ue(),ke(M,new ue(M,w)),gu(u)}else AN(u);else if(Y=y.s,Y==3||Y==0&&0<y.X||!(M==1&&gR(u,y)||M==2&&Mp(u)))switch(w&&0<w.length&&(y=u.h,y.i=y.i.concat(w)),Y){case 1:Zr(u,5);break;case 4:Zr(u,10);break;case 3:Zr(u,6);break;default:Zr(u,2)}}}function DN(u,y){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*y}function Zr(u,y){if(u.j.info("Error code "+y),y==2){var w=p(u.fb,u),M=u.Xa;const Y=!M;M=new Xr(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||cu(M,"https"),uu(M),Y?cR(M.toString(),w):dR(M.toString(),w)}else ae(2);u.G=0,u.l&&u.l.sa(y),MN(u),TN(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function MN(u){if(u.G=0,u.ka=[],u.l){const y=Ae(u.h);(y.length!=0||u.i.length!=0)&&(v(u.ka,y),v(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function LN(u,y,w){var M=w instanceof Xr?ji(w):new Xr(w);if(M.g!="")y&&(M.g=y+"."+M.g),du(M,M.s);else{var Y=l.location;M=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new Xr(null);M&&cu(te,M),y&&(te.g=y),Y&&du(te,Y),w&&(te.l=w),M=te}return w=u.D,y=u.ya,w&&y&&It(M,w,y),It(M,"VER",u.la),Ul(u,M),M}function ON(u,y,w){if(y&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Ca&&!u.pa?new Ht(new hu({eb:w})):new Ht(u.pa),y.Ha(u.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function VN(){}s=VN.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function xu(){}xu.prototype.g=function(u,y){return new mn(u,y)};function mn(u,y){ce.call(this),this.g=new CN(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(u?u["X-WebChannel-Client-Profile"]=y.va:u={"X-WebChannel-Client-Profile":y.va}),this.g.S=u,(u=y&&y.Sb)&&!N(u)&&(this.g.m=u),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.D=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Qa(this)}x(mn,ce),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Dp(this.g)},mn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=jt(u),u=w);y.i.push(new Rp(y.Ya++,u)),y.G==3&&gu(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Dp(this.g),delete this.g,mn.aa.N.call(this)};function FN(u){st.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const w in y){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}x(FN,st);function BN(){Rt.call(this),this.status=1}x(BN,Rt);function Qa(u){this.g=u}x(Qa,VN),Qa.prototype.ua=function(){ke(this.g,"a")},Qa.prototype.ta=function(u){ke(this.g,new FN(u))},Qa.prototype.sa=function(u){ke(this.g,new BN)},Qa.prototype.ra=function(){ke(this.g,"b")},xu.prototype.createWebChannel=xu.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,aT=function(){return new xu},rT=function(){return Ue()},iT=_e,rv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,hh=Pe,He.COMPLETE="complete",nT=He,it.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",ce.prototype.listen=ce.prototype.K,cc=it,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,sT=Ht}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const Mb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ms.UNAUTHENTICATED=new Ms(null),Ms.GOOGLE_CREDENTIALS=new Ms("google-credentials-uid"),Ms.FIRST_PARTY=new Ms("first-party-uid"),Ms.MOCK_USER=new Ms("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new tp("@firebase/firestore");function Yl(){return Ra.logLevel}function Re(s,...e){if(Ra.logLevel<=at.DEBUG){const n=e.map(Sy);Ra.debug(`Firestore (${vl}): ${s}`,...n)}}function Hi(s,...e){if(Ra.logLevel<=at.ERROR){const n=e.map(Sy);Ra.error(`Firestore (${vl}): ${s}`,...n)}}function Qo(s,...e){if(Ra.logLevel<=at.WARN){const n=e.map(Sy);Ra.warn(`Firestore (${vl}): ${s}`,...n)}}function Sy(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(s="Unexpected state"){const e=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: `+s;throw Hi(e),new Error(e)}function kt(s,e){s||Ke()}function Je(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ms.UNAUTHENTICATED))}shutdown(){}}class Q5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Y5{constructor(e){this.t=e,this.currentUser=Ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0);let i=this.i;const r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let a=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ir,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ir)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kt(typeof i.accessToken=="string"),new oT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new Ms(e)}}class J5{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ms.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X5{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new J5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){kt(this.o===void 0);const i=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?r(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string"),this.R=n.token,new Z5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=tO(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<n&&(i+=e.charAt(r[a]%e.length))}return i}}function ft(s,e){return s<e?-1:s>e?1:0}function Yo(s,e,n){return s.length===e.length&&s.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ds.fromMillis(Date.now())}static fromDate(e){return ds.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new ds(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new ds(0,0))}static max(){return new Ye(new ds(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ke(),i===void 0?i=e.length-n:i>e.length-n&&Ke(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ad.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ad?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const a=e.get(r),o=n.get(r);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qt extends ad{construct(e,n,i){return new Qt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Qt(n)}static emptyPath(){return new Qt([])}}const sO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ss extends ad{construct(e,n,i){return new Ss(e,n,i)}static isValidIdentifier(e){return sO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ss.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ss(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const a=()=>{if(i.length===0)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(i+=l,r++):(a(),r++)}if(a(),o)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ss(n)}static emptyPath(){return new Ss([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Qt.fromString(e))}static fromName(e){return new Ve(Qt.fromString(e).popFirst(5))}static empty(){return new Ve(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Qt(e.slice()))}}function nO(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,r=Ye.fromTimestamp(i===1e9?new ds(n+1,0):new ds(n,i));return new Br(r,Ve.empty(),e)}function iO(s){return new Br(s.readTime,s.key,-1)}class Br{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Br(Ye.min(),Ve.empty(),-1)}static max(){return new Br(Ye.max(),Ve.empty(),-1)}}function rO(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(s.documentKey,e.documentKey),n!==0?n:ft(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(s){if(s.code!==me.FAILED_PRECONDITION||s.message!==aO)throw s;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,i)=>{n(e)})}static reject(e){return new le((n,i)=>{i(e)})}static waitFor(e){return new le((n,i)=>{let r=0,a=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++a,o&&a===r&&n()},c=>i(c))}),o=!0,a===r&&n()})}static or(e){let n=le.resolve(!1);for(const i of e)n=n.next(r=>r?le.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,a)=>{i.push(n.call(this,r,a))}),this.waitFor(i)}static mapArray(e,n){return new le((i,r)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===a&&i(o)},h=>r(h))}})}static doWhile(e,n){return new le((i,r)=>{const a=()=>{e()===!0?n().next(()=>{a()},r):i()};a()})}}function lO(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vd(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ky.oe=-1;function ap(s){return s==null}function am(s){return s===0&&1/s==-1/0}function cO(s){return typeof s=="number"&&Number.isInteger(s)&&!am(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function xl(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function cT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let is=class av{constructor(e,n){this.comparator=e,this.root=n||Dr.EMPTY}insert(e,n){return new av(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new av(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}},Bu=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Dr=class ki{constructor(e,n,i,r,a){this.key=e,this.value=n,this.color=i??ki.RED,this.left=r??ki.EMPTY,this.right=a??ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,a){return new ki(e??this.key,n??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,i),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ki.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}};Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1;Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,n,i,r,a){return this}insert(e,n,i){return new Dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.comparator=e,this.data=new is(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ob(this.data.getIterator())}getIteratorFrom(e){return new Ob(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof _s)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _s(this.comparator);return n.data=e,n}}class Ob{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Ss.comparator)}static empty(){return new zn([])}unionWith(e){let n=new _s(Ss.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new dT("Invalid base64 string: "+a):a}}(e);return new Ts(n)}static fromUint8Array(e){const n=function(r){let a="";for(let o=0;o<r.length;++o)a+=String.fromCharCode(r[o]);return a}(e);return new Ts(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ts.EMPTY_BYTE_STRING=new Ts("");const dO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(s){if(kt(!!s),typeof s=="string"){let e=0;const n=dO.exec(s);if(kt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xt(s.seconds),nanos:Xt(s.nanos)}}function Xt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ia(s){return typeof s=="string"?Ts.fromBase64String(s):Ts.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cy(s){const e=s.mapValue.fields.__previous_value__;return _y(e)?Cy(e):e}function od(s){const e=Ur(s.mapValue.fields.__local_write_time__.timestampValue);return new ds(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,i,r,a,o,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class ld{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ld("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ld&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={mapValue:{}};function Da(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_y(s)?4:mO(s)?9007199254740991:hO(s)?10:11:Ke()}function mi(s,e){if(s===e)return!0;const n=Da(s);if(n!==Da(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return od(s).isEqual(od(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const o=Ur(r.timestampValue),l=Ur(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(r,a){return Ia(r.bytesValue).isEqual(Ia(a.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(r,a){return Xt(r.geoPointValue.latitude)===Xt(a.geoPointValue.latitude)&&Xt(r.geoPointValue.longitude)===Xt(a.geoPointValue.longitude)}(s,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Xt(r.integerValue)===Xt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const o=Xt(r.doubleValue),l=Xt(a.doubleValue);return o===l?am(o)===am(l):isNaN(o)&&isNaN(l)}return!1}(s,e);case 9:return Yo(s.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(r,a){const o=r.mapValue.fields||{},l=a.mapValue.fields||{};if(Lb(o)!==Lb(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!mi(o[c],l[c])))return!1;return!0}(s,e);default:return Ke()}}function cd(s,e){return(s.values||[]).find(n=>mi(n,e))!==void 0}function Jo(s,e){if(s===e)return 0;const n=Da(s),i=Da(e);if(n!==i)return ft(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(s.booleanValue,e.booleanValue);case 2:return function(a,o){const l=Xt(a.integerValue||a.doubleValue),c=Xt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(s,e);case 3:return Vb(s.timestampValue,e.timestampValue);case 4:return Vb(od(s),od(e));case 5:return ft(s.stringValue,e.stringValue);case 6:return function(a,o){const l=Ia(a),c=Ia(o);return l.compareTo(c)}(s.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=ft(l[d],c[d]);if(h!==0)return h}return ft(l.length,c.length)}(s.referenceValue,e.referenceValue);case 8:return function(a,o){const l=ft(Xt(a.latitude),Xt(o.latitude));return l!==0?l:ft(Xt(a.longitude),Xt(o.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Fb(s.arrayValue,e.arrayValue);case 10:return function(a,o){var l,c,d,h;const m=a.fields||{},p=o.fields||{},g=(l=m.value)===null||l===void 0?void 0:l.arrayValue,x=(c=p.value)===null||c===void 0?void 0:c.arrayValue,j=ft(((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return j!==0?j:Fb(g,x)}(s.mapValue,e.mapValue);case 11:return function(a,o){if(a===Uu.mapValue&&o===Uu.mapValue)return 0;if(a===Uu.mapValue)return 1;if(o===Uu.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const p=ft(c[m],h[m]);if(p!==0)return p;const g=Jo(l[c[m]],d[h[m]]);if(g!==0)return g}return ft(c.length,h.length)}(s.mapValue,e.mapValue);default:throw Ke()}}function Vb(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ft(s,e);const n=Ur(s),i=Ur(e),r=ft(n.seconds,i.seconds);return r!==0?r:ft(n.nanos,i.nanos)}function Fb(s,e){const n=s.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const a=Jo(n[r],i[r]);if(a)return a}return ft(n.length,i.length)}function Xo(s){return ov(s)}function ov(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const i=Ur(n);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return Ia(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return Ve.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let i="[",r=!0;for(const a of n.values||[])r?r=!1:i+=",",i+=ov(a);return i+"]"}(s.arrayValue):"mapValue"in s?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const o of i)a?a=!1:r+=",",r+=`${o}:${ov(n.fields[o])}`;return r+"}"}(s.mapValue):Ke()}function lv(s){return!!s&&"integerValue"in s}function Ty(s){return!!s&&"arrayValue"in s}function Bb(s){return!!s&&"nullValue"in s}function Ub(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function mh(s){return!!s&&"mapValue"in s}function hO(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function wc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return xl(s.mapValue.fields,(n,i)=>e.mapValue.fields[n]=wc(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wc(s.arrayValue.values[n]);return e}return Object.assign({},s)}function mO(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(n)}setAll(e){let n=Ss.emptyPath(),i={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=l.popLast()}o?i[l.lastSegment()]=wc(o):r.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,r)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];mh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){xl(n,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Sn(wc(this.value))}}function uT(s){const e=[];return xl(s.fields,(n,i)=>{const r=new Ss([n]);if(mh(i)){const a=uT(i.mapValue).fields;if(a.length===0)e.push(r);else for(const o of a)e.push(r.child(o))}else e.push(r)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,i,r,a,o,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Os(e,0,Ye.min(),Ye.min(),Ye.min(),Sn.empty(),0)}static newFoundDocument(e,n,i,r){return new Os(e,1,n,Ye.min(),i,r,0)}static newNoDocument(e,n){return new Os(e,2,n,Ye.min(),Ye.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new Os(e,3,n,Ye.min(),Ye.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Os&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.position=e,this.inclusive=n}}function $b(s,e,n){let i=0;for(let r=0;r<s.position.length;r++){const a=e[r],o=s.position[r];if(a.field.isKeyField()?i=Ve.comparator(Ve.fromName(o.referenceValue),n.key):i=Jo(o,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function qb(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!mi(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n="asc"){this.field=e,this.dir=n}}function pO(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{}class os extends hT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new gO(e,n,i):n==="array-contains"?new yO(e,i):n==="in"?new jO(e,i):n==="not-in"?new NO(e,i):n==="array-contains-any"?new bO(e,i):new os(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new vO(e,i):new xO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jo(n,this.value)):n!==null&&Da(this.value)===Da(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends hT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new pi(e,n)}matches(e){return mT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mT(s){return s.op==="and"}function pT(s){return fO(s)&&mT(s)}function fO(s){for(const e of s.filters)if(e instanceof pi)return!1;return!0}function cv(s){if(s instanceof os)return s.field.canonicalString()+s.op.toString()+Xo(s.value);if(pT(s))return s.filters.map(e=>cv(e)).join(",");{const e=s.filters.map(n=>cv(n)).join(",");return`${s.op}(${e})`}}function fT(s,e){return s instanceof os?function(i,r){return r instanceof os&&i.op===r.op&&i.field.isEqual(r.field)&&mi(i.value,r.value)}(s,e):s instanceof pi?function(i,r){return r instanceof pi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,o,l)=>a&&fT(o,r.filters[l]),!0):!1}(s,e):void Ke()}function gT(s){return s instanceof os?function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`}(s):s instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(gT).join(" ,")+"}"}(s):"Filter"}class gO extends os{constructor(e,n,i){super(e,n,i),this.key=Ve.fromName(i.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class vO extends os{constructor(e,n){super(e,"in",n),this.keys=vT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xO extends os{constructor(e,n){super(e,"not-in",n),this.keys=vT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vT(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ve.fromName(i.referenceValue))}class yO extends os{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ty(n)&&cd(n.arrayValue,this.value)}}class jO extends os{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cd(this.value.arrayValue,n)}}class NO extends os{constructor(e,n){super(e,"not-in",n)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cd(this.value.arrayValue,n)}}class bO extends os{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>cd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n=null,i=[],r=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=o,this.endAt=l,this.ue=null}}function zb(s,e=null,n=[],i=[],r=null,a=null,o=null){return new wO(s,e,n,i,r,a,o)}function Ey(s){const e=Je(s);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>cv(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Xo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Xo(i)).join(",")),e.ue=n}return e.ue}function Py(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!pO(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!fT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!qb(s.startAt,e.startAt)&&qb(s.endAt,e.endAt)}function dv(s){return Ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n=null,i=[],r=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SO(s,e,n,i,r,a,o,l){return new op(s,e,n,i,r,a,o,l)}function Ay(s){return new op(s)}function Wb(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function kO(s){return s.collectionGroup!==null}function Sc(s){const e=Je(s);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new _s(Ss.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new lm(a,i))}),n.has(Ss.keyField().canonicalString())||e.ce.push(new lm(Ss.keyField(),i))}return e.ce}function oi(s){const e=Je(s);return e.le||(e.le=_O(e,Sc(s))),e.le}function _O(s,e){if(s.limitType==="F")return zb(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new lm(r.field,a)});const n=s.endAt?new om(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new om(s.startAt.position,s.startAt.inclusive):null;return zb(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function uv(s,e,n){return new op(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function lp(s,e){return Py(oi(s),oi(e))&&s.limitType===e.limitType}function xT(s){return`${Ey(oi(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>gT(r)).join(", ")}]`),ap(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Xo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Xo(r)).join(",")),`Target(${i})`}(oi(s))}; limitType=${s.limitType})`}function cp(s,e){return e.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ve.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(s,e)&&function(i,r){for(const a of Sc(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(s,e)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(s,e)&&function(i,r){return!(i.startAt&&!function(o,l,c){const d=$b(o,l,c);return o.inclusive?d<=0:d<0}(i.startAt,Sc(i),r)||i.endAt&&!function(o,l,c){const d=$b(o,l,c);return o.inclusive?d>=0:d>0}(i.endAt,Sc(i),r))}(s,e)}function CO(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function yT(s){return(e,n)=>{let i=!1;for(const r of Sc(s)){const a=TO(r,e,n);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function TO(s,e,n){const i=s.field.isKeyField()?Ve.comparator(e.key,n.key):function(a,o,l){const c=o.data.field(a),d=l.data.field(a);return c!==null&&d!==null?Jo(c,d):Ke()}(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,(n,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return cT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new is(Ve.comparator);function Gi(){return EO}const jT=new is(Ve.comparator);function dc(...s){let e=jT;for(const n of s)e=e.insert(n.key,n);return e}function NT(s){let e=jT;return s.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function da(){return kc()}function bT(){return kc()}function kc(){return new yl(s=>s.toString(),(s,e)=>s.isEqual(e))}const PO=new is(Ve.comparator),AO=new _s(Ve.comparator);function lt(...s){let e=AO;for(const n of s)e=e.add(n);return e}const RO=new _s(ft);function IO(){return RO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function wT(s){return{integerValue:""+s}}function DO(s,e){return cO(e)?wT(e):Ry(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this._=void 0}}function MO(s,e,n){return s instanceof dd?function(r,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&_y(a)&&(a=Cy(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):s instanceof ud?kT(s,e):s instanceof hd?_T(s,e):function(r,a){const o=ST(r,a),l=Hb(o)+Hb(r.Pe);return lv(o)&&lv(r.Pe)?wT(l):Ry(r.serializer,l)}(s,e)}function LO(s,e,n){return s instanceof ud?kT(s,e):s instanceof hd?_T(s,e):n}function ST(s,e){return s instanceof cm?function(i){return lv(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class dd extends dp{}class ud extends dp{constructor(e){super(),this.elements=e}}function kT(s,e){const n=CT(e);for(const i of s.elements)n.some(r=>mi(r,i))||n.push(i);return{arrayValue:{values:n}}}class hd extends dp{constructor(e){super(),this.elements=e}}function _T(s,e){let n=CT(e);for(const i of s.elements)n=n.filter(r=>!mi(r,i));return{arrayValue:{values:n}}}class cm extends dp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Hb(s){return Xt(s.integerValue||s.doubleValue)}function CT(s){return Ty(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.field=e,this.transform=n}}function VO(s,e){return s.field.isEqual(e.field)&&function(i,r){return i instanceof ud&&r instanceof ud||i instanceof hd&&r instanceof hd?Yo(i.elements,r.elements,mi):i instanceof cm&&r instanceof cm?mi(i.Pe,r.Pe):i instanceof dd&&r instanceof dd}(s.transform,e.transform)}class FO{constructor(e,n){this.version=e,this.transformResults=n}}class Vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class up{}function TT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new PT(s.key,Vi.none()):new Fd(s.key,s.data,Vi.none());{const n=s.data,i=Sn.empty();let r=new _s(Ss.comparator);for(let a of e.fields)if(!r.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?i.delete(a):i.set(a,o),r=r.add(a)}return new $a(s.key,i,new zn(r.toArray()),Vi.none())}}function BO(s,e,n){s instanceof Fd?function(r,a,o){const l=r.value.clone(),c=Kb(r.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(s,e,n):s instanceof $a?function(r,a,o){if(!ph(r.precondition,a))return void a.convertToUnknownDocument(o.version);const l=Kb(r.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(ET(r)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(s,e,n):function(r,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _c(s,e,n,i){return s instanceof Fd?function(a,o,l,c){if(!ph(a.precondition,o))return l;const d=a.value.clone(),h=Qb(a.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(s,e,n,i):s instanceof $a?function(a,o,l,c){if(!ph(a.precondition,o))return l;const d=Qb(a.fieldTransforms,c,o),h=o.data;return h.setAll(ET(a)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(s,e,n,i):function(a,o,l){return ph(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(s,e,n)}function UO(s,e){let n=null;for(const i of s.fieldTransforms){const r=e.data.field(i.field),a=ST(i.transform,r||null);a!=null&&(n===null&&(n=Sn.empty()),n.set(i.field,a))}return n||null}function Gb(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Yo(i,r,(a,o)=>VO(a,o))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Fd extends up{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $a extends up{constructor(e,n,i,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ET(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}}),e}function Kb(s,e,n){const i=new Map;kt(s.length===n.length);for(let r=0;r<n.length;r++){const a=s[r],o=a.transform,l=e.data.field(a.field);i.set(a.field,LO(o,l,n[r]))}return i}function Qb(s,e,n){const i=new Map;for(const r of s){const a=r.transform,o=n.data.field(r.field);i.set(r.field,MO(a,o,e))}return i}class PT extends up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $O extends up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&BO(a,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=_c(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=_c(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=bT();return this.mutations.forEach(r=>{const a=e.get(r.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(r.key)?null:l;const c=TT(o,l);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(Ye.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(n,i)=>Gb(n,i))&&Yo(this.baseMutations,e.baseMutations,(n,i)=>Gb(n,i))}}class Iy{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){kt(e.mutations.length===i.length);let r=function(){return PO}();const a=e.mutations;for(let o=0;o<a.length;o++)r=r.insert(a[o].key,i[o].version);return new Iy(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts,dt;function HO(s){switch(s){default:return Ke();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function AT(s){if(s===void 0)return Hi("GRPC error has no .code"),me.UNKNOWN;switch(s){case ts.OK:return me.OK;case ts.CANCELLED:return me.CANCELLED;case ts.UNKNOWN:return me.UNKNOWN;case ts.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case ts.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case ts.INTERNAL:return me.INTERNAL;case ts.UNAVAILABLE:return me.UNAVAILABLE;case ts.UNAUTHENTICATED:return me.UNAUTHENTICATED;case ts.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case ts.NOT_FOUND:return me.NOT_FOUND;case ts.ALREADY_EXISTS:return me.ALREADY_EXISTS;case ts.PERMISSION_DENIED:return me.PERMISSION_DENIED;case ts.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case ts.ABORTED:return me.ABORTED;case ts.OUT_OF_RANGE:return me.OUT_OF_RANGE;case ts.UNIMPLEMENTED:return me.UNIMPLEMENTED;case ts.DATA_LOSS:return me.DATA_LOSS;default:return Ke()}}(dt=ts||(ts={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new xa([4294967295,4294967295],0);function Yb(s){const e=GO().encode(s),n=new tT;return n.update(e),new Uint8Array(n.digest())}function Jb(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xa([n,i],0),new xa([r,a],0)]}class Dy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new uc(`Invalid padding: ${n}`);if(i<0)throw new uc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new uc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xa.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(xa.fromNumber(i)));return r.compare(KO)===1&&(r=new xa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Yb(e),[i,r]=Jb(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(i,r,a);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Dy(a,r,n);return i.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Yb(e),[i,r]=Jb(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(i,r,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,i,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Bd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new hp(Ye.min(),r,new is(ft),Gi(),lt())}}class Bd{constructor(e,n,i,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Bd(i,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class RT{constructor(e,n){this.targetId=e,this.me=n}}class IT{constructor(e,n,i=Ts.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Xb{constructor(){this.fe=0,this.ge=ew(),this.pe=Ts.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=lt(),n=lt(),i=lt();return this.ge.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Ke()}}),new Bd(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=ew()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class QO{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gi(),this.qe=Zb(),this.Qe=new is(ft)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const a=r.target;if(dv(a))if(i===0){const o=new Ve(a.path);this.Ue(n,o,Os.newNoDocument(o,Ye.min()))}else kt(i===1);else{const o=this.Ye(n);if(o!==i){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=n;let o,l;try{o=Ia(i).toUint8Array()}catch(c){if(c instanceof dT)return Qo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Dy(o,r,a)}catch(c){return Qo(c instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(a=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,a,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const l=this.Je(o);if(l){if(a.current&&dv(l.target)){const c=new Ve(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Os.newNoDocument(c,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let i=lt();this.qe.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const r=new hp(e,n,this.Qe,this.ke,i);return this.ke=Gi(),this.qe=Zb(),this.Qe=new is(ft),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xb,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _s(ft),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Zb(){return new is(Ve.comparator)}function ew(){return new is(Ve.comparator)}const YO={asc:"ASCENDING",desc:"DESCENDING"},JO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XO={and:"AND",or:"OR"};class ZO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hv(s,e){return s.useProto3Json||ap(e)?e:{value:e}}function dm(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function eV(s,e){return dm(s,e.toTimestamp())}function li(s){return kt(!!s),Ye.fromTimestamp(function(n){const i=Ur(n);return new ds(i.seconds,i.nanos)}(s))}function My(s,e){return mv(s,e).canonicalString()}function mv(s,e){const n=function(r){return new Qt(["projects",r.projectId,"databases",r.database])}(s).child("documents");return e===void 0?n:n.child(e)}function MT(s){const e=Qt.fromString(s);return kt(BT(e)),e}function pv(s,e){return My(s.databaseId,e.path)}function yf(s,e){const n=MT(e);if(n.get(1)!==s.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Ve(OT(n))}function LT(s,e){return My(s.databaseId,e)}function tV(s){const e=MT(s);return e.length===4?Qt.emptyPath():OT(e)}function fv(s){return new Qt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function OT(s){return kt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function tw(s,e,n){return{name:pv(s,e),fields:n.value.mapValue.fields}}function sV(s,e){let n;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(d,h){return d.useProto3Json?(kt(h===void 0||typeof h=="string"),Ts.fromBase64String(h||"")):(kt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ts.fromUint8Array(h||new Uint8Array))}(s,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?me.UNKNOWN:AT(d.code);return new Oe(h,d.message||"")}(o);n=new IT(i,r,a,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=yf(s,i.document.name),a=li(i.document.updateTime),o=i.document.createTime?li(i.document.createTime):Ye.min(),l=new Sn({mapValue:{fields:i.document.fields}}),c=Os.newFoundDocument(r,a,o,l),d=i.targetIds||[],h=i.removedTargetIds||[];n=new fh(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=yf(s,i.document),a=i.readTime?li(i.readTime):Ye.min(),o=Os.newNoDocument(r,a),l=i.removedTargetIds||[];n=new fh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=yf(s,i.document),a=i.removedTargetIds||[];n=new fh([],a,r,null)}else{if(!("filter"in e))return Ke();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,o=new WO(r,a),l=i.targetId;n=new RT(l,o)}}return n}function nV(s,e){let n;if(e instanceof Fd)n={update:tw(s,e.key,e.value)};else if(e instanceof PT)n={delete:pv(s,e.key)};else if(e instanceof $a)n={update:tw(s,e.key,e.data),updateMask:hV(e.fieldMask)};else{if(!(e instanceof $O))return Ke();n={verify:pv(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,o){const l=o.transform;if(l instanceof dd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ud)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof hd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof cm)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Ke()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:eV(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ke()}(s,e.precondition)),n}function iV(s,e){return s&&s.length>0?(kt(e!==void 0),s.map(n=>function(r,a){let o=r.updateTime?li(r.updateTime):li(a);return o.isEqual(Ye.min())&&(o=li(a)),new FO(o,r.transformResults||[])}(n,e))):[]}function rV(s,e){return{documents:[LT(s,e.path)]}}function aV(s,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=LT(s,r);const a=function(d){if(d.length!==0)return FT(pi.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:io(p.field),direction:cV(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=hv(s,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:r}}function oV(s){let e=tV(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){kt(i===1);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(m){const p=VT(m);return p instanceof pi&&pT(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(p=>function(x){return new lm(ro(x.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,ap(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(m){const p=!!m.before,g=m.values||[];return new om(g,p)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const p=!m.before,g=m.values||[];return new om(g,p)}(n.endAt)),SO(e,r,o,a,l,"F",c,d)}function lV(s,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VT(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ro(n.unaryFilter.field);return os.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ro(n.unaryFilter.field);return os.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ro(n.unaryFilter.field);return os.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ro(n.unaryFilter.field);return os.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(s):s.fieldFilter!==void 0?function(n){return os.create(ro(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(i=>VT(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ke()}}(n.compositeFilter.op))}(s):Ke()}function cV(s){return YO[s]}function dV(s){return JO[s]}function uV(s){return XO[s]}function io(s){return{fieldPath:s.canonicalString()}}function ro(s){return Ss.fromServerFormat(s.fieldPath)}function FT(s){return s instanceof os?function(n){if(n.op==="=="){if(Ub(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(Bb(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ub(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(Bb(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:dV(n.op),value:n.value}}}(s):s instanceof pi?function(n){const i=n.getFilters().map(r=>FT(r));return i.length===1?i[0]:{compositeFilter:{op:uV(n.op),filters:i}}}(s):Ke()}function hV(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,i,r,a=Ye.min(),o=Ye.min(),l=Ts.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.ct=e}}function pV(s){const e=oV({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?uv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.un=new gV}addToCollectionParentIndex(e,n){return this.un.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Br.min())}updateCollectionGroup(e,n,i){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class gV{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new _s(Qt.comparator),a=!r.has(i);return this.index[n]=r.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new _s(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zo(0)}static kn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.changes=new yl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Os.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?le.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&_c(i.mutation,r,zn.empty(),ds.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,lt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=lt()){const r=da();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(a=>{let o=dc();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=da();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,lt()))}populateOverlays(e,n,i){const r=[];return i.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,i,r){let a=Gi();const o=kc(),l=function(){return kc()}();return n.forEach((c,d)=>{const h=i.get(d.key);r.has(d.key)&&(h===void 0||h.mutation instanceof $a)?a=a.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),_c(h.mutation,d,h.mutation.getFieldMask(),ds.now())):o.set(d.key,zn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var m;return l.set(d,new xV(h,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const i=kc();let r=new is((o,l)=>o-l),a=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=i.get(c)||zn.empty();h=l.applyToLocalView(d,h),i.set(c,h);const m=(r.get(l.batchId)||lt()).add(c);r=r.insert(l.batchId,m)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,m=bT();h.forEach(p=>{if(!a.has(p)){const g=TT(n.get(p),i.get(p));g!==null&&m.set(p,g),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return le.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return Ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(a=>{const o=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-a.size):le.resolve(da());let l=-1,c=a;return o.next(d=>le.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(h)?le.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,c,d,lt())).next(h=>({batchId:l,changes:NT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(i=>{let r=dc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const a=n.collectionGroup;let o=dc();return this.indexManager.getCollectionParents(e,a).next(l=>le.forEach(l,c=>{const d=function(m,p){return new op(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(h=>{h.forEach((m,p)=>{o=o.insert(m,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,r))).next(o=>{a.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Os.newInvalidDocument(h)))});let l=dc();return o.forEach((c,d)=>{const h=a.get(c);h!==void 0&&_c(h.mutation,d,zn.empty(),ds.now()),cp(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:li(r.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:pV(r.bundledQuery),readTime:li(r.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.overlays=new is(Ve.comparator),this.Ir=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const i=da();return le.forEach(n,r=>this.getOverlay(e,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,a)=>{this.ht(e,n,a)}),le.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(i)),le.resolve()}getOverlaysForCollection(e,n,i){const r=da(),a=n.length+1,o=new Ve(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>i&&r.set(c.getKey(),c)}return le.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let a=new is((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let h=a.get(d.largestBatchId);h===null&&(h=da(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=da(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=r)););return le.resolve(l)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new zO(n,i));let a=this.Ir.get(n);a===void 0&&(a=lt(),this.Ir.set(n,a)),this.Ir.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.sessionToken=Ts.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Tr=new _s(ps.Er),this.dr=new _s(ps.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new ps(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new ps(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new Ve(new Qt([])),i=new ps(n,e),r=new ps(n,e+1),a=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ve(new Qt([])),i=new ps(n,e),r=new ps(n,e+1);let a=lt();return this.dr.forEachInRange([i,r],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new ps(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ps{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ve.comparator(e.key,n.key)||ft(e.wr,n.wr)}static Ar(e,n){return ft(e.wr,n.wr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _s(ps.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qO(a,n,i,r);this.mutationQueue.push(o);for(const l of r)this.br=this.br.add(new ps(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),a=r<0?0:r;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ps(n,0),r=new ps(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,r],o=>{const l=this.Dr(o.wr);a.push(l)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new _s(ft);return n.forEach(r=>{const a=new ps(r,0),o=new ps(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],l=>{i=i.add(l.wr)})}),le.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let a=i;Ve.isDocumentKey(a)||(a=a.child(""));const o=new ps(new Ve(a),0);let l=new _s(ft);return this.br.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(l=l.add(c.wr)),!0)},o),le.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){kt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return le.forEach(n.mutations,r=>{const a=new ps(r.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new ps(n,0),r=this.br.firstAfterOrEqual(i);return le.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.Mr=e,this.docs=function(){return new is(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),a=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return le.resolve(i?i.document.mutableCopy():Os.newInvalidDocument(n))}getEntries(e,n){let i=Gi();return n.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Os.newInvalidDocument(r))}),le.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let a=Gi();const o=n.path,l=new Ve(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||rO(iO(h),i)<=0||(r.has(h.key)||cp(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,n,i,r){Ke()}Or(e,n){return le.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new kV(this)}getSize(e){return le.resolve(this.size)}}class kV extends vV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.persistence=e,this.Nr=new yl(n=>Ey(n),Py),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ly,this.targetCount=0,this.kr=Zo.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Kn(n),le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,i){let r=0;const a=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),le.waitFor(a).next(()=>r)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return le.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),le.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(o=>{a.push(r.markPotentiallyOrphaned(e,o))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return le.resolve(i)}containsKey(e,n){return le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ky(0),this.Kr=!1,this.Kr=!0,this.$r=new bV,this.referenceDelegate=e(this),this.Ur=new _V(this),this.indexManager=new fV,this.remoteDocumentCache=function(r){return new SV(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new mV(n),this.Gr=new jV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new wV(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){Re("MemoryPersistence","Starting transaction:",e);const r=new TV(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(a=>this.referenceDelegate.jr(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Hr(e,n){return le.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class TV extends oO{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.Jr=new Ly,this.Yr=null}static Zr(e){return new Oy(e)}get Xr(){if(this.Yr)return this.Yr;throw Ke()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),le.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(a=>this.Xr.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,i=>{const r=Ve.fromPath(i);return this.ei(e,r).next(a=>{a||n.removeEntry(r,Ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return le.or([()=>le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=lt(),r=lt();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Vy(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uM()?8:lO(zs())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,r,i).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new EV;return this.Xi(e,n,o).next(l=>{if(a.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>a.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(Yl()<=at.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(Yl()<=at.DEBUG&&Re("QueryEngine","Query:",no(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Yl()<=at.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):le.resolve())}Yi(e,n){if(Wb(n))return le.resolve(null);let i=oi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=uv(n,null,"F"),i=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const o=lt(...a);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.ts(n,l);return this.ns(n,d,o,c.readTime)?this.Yi(e,uv(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,i,r){return Wb(n)||r.isEqual(Ye.min())?le.resolve(null):this.Ji.getDocuments(e,i).next(a=>{const o=this.ts(n,a);return this.ns(n,o,i,r)?le.resolve(null):(Yl()<=at.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),no(n)),this.rs(e,o,n,nO(r,-1)).next(l=>l))})}ts(e,n){let i=new _s(yT(e));return n.forEach((r,a)=>{cp(e,a)&&(i=i.add(a))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Xi(e,n,i){return Yl()<=at.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",no(n)),this.Ji.getDocumentsMatchingQuery(e,n,Br.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new is(ft),this._s=new yl(a=>Ey(a),Py),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function RV(s,e,n,i){return new AV(s,e,n,i)}async function UT(s,e){const n=Je(s);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const o=[],l=[];let c=lt();for(const d of r){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(i,c).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:l}))})})}function IV(s,e){const n=Je(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const m=d.batch,p=m.keys();let g=le.resolve();return p.forEach(x=>{g=g.next(()=>h.getEntry(c,x)).next(j=>{const v=d.docVersions.get(x);kt(v!==null),j.version.compareTo(v)<0&&(m.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),h.addEntry(j)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let c=lt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function $T(s){const e=Je(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function DV(s,e){const n=Je(s),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const l=[];e.targetChanges.forEach((h,m)=>{const p=r.get(m);if(!p)return;l.push(n.Ur.removeMatchingKeys(a,h.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(a,h.addedDocuments,m)));let g=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(Ts.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,i)),r=r.insert(m,g),function(j,v,b){return j.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,g,h)&&l.push(n.Ur.updateTargetData(a,g))});let c=Gi(),d=lt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push(MV(a,o,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!i.isEqual(Ye.min())){const h=n.Ur.getLastRemoteSnapshotVersion(a).next(m=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i));l.push(h)}return le.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,d)).next(()=>c)}).then(a=>(n.os=r,a))}function MV(s,e,n){let i=lt(),r=lt();return n.forEach(a=>i=i.add(a)),e.getEntries(s,i).next(a=>{let o=Gi();return n.forEach((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(Ye.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Re("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ps:o,Is:r}})}function LV(s,e){const n=Je(s);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function OV(s,e){const n=Je(s);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(a=>a?(r=a,le.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new Nr(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function gv(s,e,n){const i=Je(s),r=i.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Vd(o))throw o;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function sw(s,e,n){const i=Je(s);let r=Ye.min(),a=lt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const m=Je(c),p=m._s.get(h);return p!==void 0?le.resolve(m.os.get(p)):m.Ur.getTargetData(d,h)}(i,o,oi(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:Ye.min(),n?a:lt())).next(l=>(VV(i,CO(e),l),{documents:l,Ts:a})))}function VV(s,e,n){let i=s.us.get(e)||Ye.min();n.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),s.us.set(e,i)}class nw{constructor(){this.activeTargetIds=IO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FV{constructor(){this.so=new nw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function jf(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="WebChannelConnection";class qV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${a}`}get Fo(){return!1}Mo(n,i,r,a,o){const l=jf(),c=this.xo(n,i.toUriEncodedString());Re("RestConnection",`Sending RPC '${n}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,a,o),this.No(n,c,d,r).then(h=>(Re("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw Qo("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",r),h})}Lo(n,i,r,a,o,l){return this.Mo(n,i,r,a,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,o)=>n[o]=a),r&&r.headers.forEach((a,o)=>n[o]=a)}xo(n,i){const r=UV[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const a=jf();return new Promise((o,l)=>{const c=new sT;c.setWithCredentials(!0),c.listenOnce(nT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hh.NO_ERROR:const h=c.getResponseJson();Re(Is,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case hh.TIMEOUT:Re(Is,`RPC '${e}' ${a} timed out`),l(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const m=c.getStatus();if(Re(Is,`RPC '${e}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const x=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(b)>=0?b:me.UNKNOWN}(g.status);l(new Oe(x,g.message))}else l(new Oe(me.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Re(Is,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(r);Re(Is,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",d,i,15)})}Bo(e,n,i){const r=jf(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=aT(),l=rT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;const h=a.join("");Re(Is,`Creating RPC '${e}' stream ${r}: ${h}`,c);const m=o.createWebChannel(h,c);let p=!1,g=!1;const x=new $V({Io:v=>{g?Re(Is,`Not sending because RPC '${e}' stream ${r} is closed:`,v):(p||(Re(Is,`Opening RPC '${e}' stream ${r} transport.`),m.open(),p=!0),Re(Is,`RPC '${e}' stream ${r} sending:`,v),m.send(v))},To:()=>m.close()}),j=(v,b,N)=>{v.listen(b,C=>{try{N(C)}catch(I){setTimeout(()=>{throw I},0)}})};return j(m,cc.EventType.OPEN,()=>{g||(Re(Is,`RPC '${e}' stream ${r} transport opened.`),x.yo())}),j(m,cc.EventType.CLOSE,()=>{g||(g=!0,Re(Is,`RPC '${e}' stream ${r} transport closed`),x.So())}),j(m,cc.EventType.ERROR,v=>{g||(g=!0,Qo(Is,`RPC '${e}' stream ${r} transport errored:`,v),x.So(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),j(m,cc.EventType.MESSAGE,v=>{var b;if(!g){const N=v.data[0];kt(!!N);const C=N,I=C.error||((b=C[0])===null||b===void 0?void 0:b.error);if(I){Re(Is,`RPC '${e}' stream ${r} received error:`,I);const D=I.status;let $=function(_){const T=ts[_];if(T!==void 0)return AT(T)}(D),E=I.message;$===void 0&&($=me.INTERNAL,E="Unknown error status: "+D+" with message "+I.message),g=!0,x.So(new Oe($,E)),m.close()}else Re(Is,`RPC '${e}' stream ${r} received:`,N),x.bo(N)}}),j(l,iT.STAT_EVENT,v=>{v.stat===rv.PROXY?Re(Is,`RPC '${e}' stream ${r} detected buffering proxy`):v.stat===rv.NOPROXY&&Re(Is,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(s){return new ZO(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,i=1e3,r=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&Re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,i,r,a,o,l,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new Oe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zV extends zT{constructor(e,n,i,r,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=sV(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ye.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ye.min():o.readTime?li(o.readTime):Ye.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=fv(this.serializer),n.addTarget=function(a,o){let l;const c=o.target;if(l=dv(c)?{documents:rV(a,c)}:{query:aV(a,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=DT(a,o.resumeToken);const d=hv(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ye.min())>0){l.readTime=dm(a,o.snapshotVersion.toTimestamp());const d=hv(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const i=lV(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=fv(this.serializer),n.removeTarget=e,this.a_(n)}}class WV extends zT{constructor(e,n,i,r,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=iV(e.writeResults,e.commitTime),i=li(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=fv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>nV(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,mv(n,i),r,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(me.UNKNOWN,a.toString())})}Lo(e,n,i,r,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,mv(n,i),r,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(me.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class GV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hi(n),this.D_=!1):Re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,i,r,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{i.enqueueAndForget(async()=>{qa(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=Je(c);d.L_.add(4),await Ud(d),d.q_.set("Unknown"),d.L_.delete(4),await pp(d)}(this))})}),this.q_=new GV(i,r)}}async function pp(s){if(qa(s))for(const e of s.B_)await e(!0)}async function Ud(s){for(const e of s.B_)await e(!1)}function WT(s,e){const n=Je(s);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),$y(n)?Uy(n):jl(n).r_()&&By(n,e))}function Fy(s,e){const n=Je(s),i=jl(n);n.N_.delete(e),i.r_()&&HT(n,e),n.N_.size===0&&(i.r_()?i.o_():qa(n)&&n.q_.set("Unknown"))}function By(s,e){if(s.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(s).A_(e)}function HT(s,e){s.Q_.xe(e),jl(s).R_(e)}function Uy(s){s.Q_=new QO({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.N_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),jl(s).start(),s.q_.v_()}function $y(s){return qa(s)&&!jl(s).n_()&&s.N_.size>0}function qa(s){return Je(s).L_.size===0}function GT(s){s.Q_=void 0}async function QV(s){s.q_.set("Online")}async function YV(s){s.N_.forEach((e,n)=>{By(s,e)})}async function JV(s,e){GT(s),$y(s)?(s.q_.M_(e),Uy(s)):s.q_.set("Unknown")}async function XV(s,e,n){if(s.q_.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await async function(r,a){const o=a.cause;for(const l of a.targetIds)r.N_.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.N_.delete(l),r.Q_.removeTarget(l))}(s,e)}catch(i){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await um(s,i)}else if(e instanceof fh?s.Q_.Ke(e):e instanceof RT?s.Q_.He(e):s.Q_.We(e),!n.isEqual(Ye.min()))try{const i=await $T(s.localStore);n.compareTo(i)>=0&&await function(a,o){const l=a.Q_.rt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.N_.get(d);h&&a.N_.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=a.N_.get(c);if(!h)return;a.N_.set(c,h.withResumeToken(Ts.EMPTY_BYTE_STRING,h.snapshotVersion)),HT(a,c);const m=new Nr(h.target,c,d,h.sequenceNumber);By(a,m)}),a.remoteSyncer.applyRemoteEvent(l)}(s,n)}catch(i){Re("RemoteStore","Failed to raise snapshot:",i),await um(s,i)}}async function um(s,e,n){if(!Vd(e))throw e;s.L_.add(1),await Ud(s),s.q_.set("Offline"),n||(n=()=>$T(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await n(),s.L_.delete(1),await pp(s)})}function KT(s,e){return e().catch(n=>um(s,n,e))}async function fp(s){const e=Je(s),n=$r(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ZV(e);)try{const r=await LV(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,eF(e,r)}catch(r){await um(e,r)}QT(e)&&YT(e)}function ZV(s){return qa(s)&&s.O_.length<10}function eF(s,e){s.O_.push(e);const n=$r(s);n.r_()&&n.V_&&n.m_(e.mutations)}function QT(s){return qa(s)&&!$r(s).n_()&&s.O_.length>0}function YT(s){$r(s).start()}async function tF(s){$r(s).p_()}async function sF(s){const e=$r(s);for(const n of s.O_)e.m_(n.mutations)}async function nF(s,e,n){const i=s.O_.shift(),r=Iy.from(i,e,n);await KT(s,()=>s.remoteSyncer.applySuccessfulWrite(r)),await fp(s)}async function iF(s,e){e&&$r(s).V_&&await async function(i,r){if(function(o){return HO(o)&&o!==me.ABORTED}(r.code)){const a=i.O_.shift();$r(i).s_(),await KT(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await fp(i)}}(s,e),QT(s)&&YT(s)}async function rw(s,e){const n=Je(s);n.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const i=qa(n);n.L_.add(3),await Ud(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await pp(n)}async function rF(s,e){const n=Je(s);e?(n.L_.delete(2),await pp(n)):e||(n.L_.add(2),await Ud(n),n.q_.set("Unknown"))}function jl(s){return s.K_||(s.K_=function(n,i,r){const a=Je(n);return a.w_(),new zV(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(s.datastore,s.asyncQueue,{Eo:QV.bind(null,s),Ro:YV.bind(null,s),mo:JV.bind(null,s),d_:XV.bind(null,s)}),s.B_.push(async e=>{e?(s.K_.s_(),$y(s)?Uy(s):s.q_.set("Unknown")):(await s.K_.stop(),GT(s))})),s.K_}function $r(s){return s.U_||(s.U_=function(n,i,r){const a=Je(n);return a.w_(),new WV(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tF.bind(null,s),mo:iF.bind(null,s),f_:sF.bind(null,s),g_:nF.bind(null,s)}),s.B_.push(async e=>{e?(s.U_.s_(),await fp(s)):(await s.U_.stop(),s.O_.length>0&&(Re("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))})),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,i,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,a){const o=Date.now()+i,l=new qy(e,n,o,r,a);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zy(s,e){if(Hi("AsyncQueue",`${e}: ${s}`),Vd(s))return new Oe(me.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ve.comparator(n.key,i.key):(n,i)=>Ve.comparator(n.key,i.key),this.keyedMap=dc(),this.sortedSet=new is(this.comparator)}static emptySet(e){return new Mo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Mo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.W_=new is(Ve.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ke():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class el{constructor(e,n,i,r,a,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,r,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new el(e,n,Mo.emptySet(n),o,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class oF{constructor(){this.queries=ow(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=Je(n),a=r.queries;r.queries=ow(),a.forEach((o,l)=>{for(const c of l.j_)c.onError(i)})})(this,new Oe(me.ABORTED,"Firestore shutting down"))}}function ow(){return new yl(s=>xT(s),lp)}async function lF(s,e){const n=Je(s);let i=3;const r=e.query;let a=n.queries.get(r);a?!a.H_()&&e.J_()&&(i=2):(a=new aF,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await n.onListen(r,!0);break;case 1:a.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=zy(o,`Initialization of query '${no(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&Wy(n)}async function cF(s,e){const n=Je(s),i=e.query;let r=3;const a=n.queries.get(i);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?r=e.J_()?0:1:!a.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function dF(s,e){const n=Je(s);let i=!1;for(const r of e){const a=r.query,o=n.queries.get(a);if(o){for(const l of o.j_)l.X_(r)&&(i=!0);o.z_=r}}i&&Wy(n)}function uF(s,e,n){const i=Je(s),r=i.queries.get(e);if(r)for(const a of r.j_)a.onError(n);i.queries.delete(e)}function Wy(s){s.Y_.forEach(e=>{e.next()})}var vv,lw;(lw=vv||(vv={})).ea="default",lw.Cache="cache";class hF{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new el(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.key=e}}class XT{constructor(e){this.key=e}}class mF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=lt(),this.mutatedKeys=lt(),this.Aa=yT(e),this.Ra=new Mo(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new aw,r=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,m)=>{const p=r.get(h),g=cp(this.query,m)?m:null,x=!!p&&this.mutatedKeys.has(p.key),j=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;p&&g?p.data.isEqual(g.data)?x!==j&&(i.track({type:3,doc:g}),v=!0):this.ga(p,g)||(i.track({type:2,doc:g}),v=!0,(c&&this.Aa(g,c)>0||d&&this.Aa(g,d)<0)&&(l=!0)):!p&&g?(i.track({type:0,doc:g}),v=!0):p&&!g&&(i.track({type:1,doc:p}),v=!0,(c||d)&&(l=!0)),v&&(g?(o=o.add(g),a=j?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),i.track({type:1,doc:h})}return{Ra:o,fa:i,ns:l,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,m)=>function(g,x){const j=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return j(g)-j(x)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(i),r=r!=null&&r;const l=n&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,d=c!==this.Ea;return this.Ea=c,o.length!==0||d?{snapshot:new el(this.query,e.Ra,a,o,e.mutatedKeys,c===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new aw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=lt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new XT(i))}),this.da.forEach(i=>{e.has(i)||n.push(new JT(i))}),n}ba(e){this.Ta=e.Ts,this.da=lt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return el.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class pF{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class fF{constructor(e){this.key=e,this.va=!1}}class gF{constructor(e,n,i,r,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new yl(l=>xT(l),lp),this.Ma=new Map,this.xa=new Set,this.Oa=new is(Ve.comparator),this.Na=new Map,this.La=new Ly,this.Ba={},this.ka=new Map,this.qa=Zo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function vF(s,e,n=!0){const i=iE(s);let r;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.Da()):r=await ZT(i,e,n,!0),r}async function xF(s,e){const n=iE(s);await ZT(n,e,!0,!1)}async function ZT(s,e,n,i){const r=await OV(s.localStore,oi(e)),a=r.targetId,o=s.sharedClientState.addLocalQueryTarget(a,n);let l;return i&&(l=await yF(s,e,a,o==="current",r.resumeToken)),s.isPrimaryClient&&n&&WT(s.remoteStore,r),l}async function yF(s,e,n,i,r){s.Ka=(m,p,g)=>async function(j,v,b,N){let C=v.view.ma(b);C.ns&&(C=await sw(j.localStore,v.query,!1).then(({documents:E})=>v.view.ma(E,C)));const I=N&&N.targetChanges.get(v.targetId),D=N&&N.targetMismatches.get(v.targetId)!=null,$=v.view.applyChanges(C,j.isPrimaryClient,I,D);return dw(j,v.targetId,$.wa),$.snapshot}(s,m,p,g);const a=await sw(s.localStore,e,!0),o=new mF(e,a.Ts),l=o.ma(a.documents),c=Bd.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",r),d=o.applyChanges(l,s.isPrimaryClient,c);dw(s,n,d.wa);const h=new pF(e,n,o);return s.Fa.set(e,h),s.Ma.has(n)?s.Ma.get(n).push(e):s.Ma.set(n,[e]),d.snapshot}async function jF(s,e,n){const i=Je(s),r=i.Fa.get(e),a=i.Ma.get(r.targetId);if(a.length>1)return i.Ma.set(r.targetId,a.filter(o=>!lp(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await gv(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Fy(i.remoteStore,r.targetId),xv(i,r.targetId)}).catch(Od)):(xv(i,r.targetId),await gv(i.localStore,r.targetId,!0))}async function NF(s,e){const n=Je(s),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Fy(n.remoteStore,i.targetId))}async function bF(s,e,n){const i=EF(s);try{const r=await function(o,l){const c=Je(o),d=ds.now(),h=l.reduce((g,x)=>g.add(x.key),lt());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=Gi(),j=lt();return c.cs.getEntries(g,h).next(v=>{x=v,x.forEach((b,N)=>{N.isValidDocument()||(j=j.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,x)).next(v=>{m=v;const b=[];for(const N of l){const C=UO(N,m.get(N.key).overlayedDocument);C!=null&&b.push(new $a(N.key,C,uT(C.value.mapValue),Vi.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,b,l)}).next(v=>{p=v;const b=v.applyToLocalDocumentSet(m,j);return c.documentOverlayCache.saveOverlays(g,v.batchId,b)})}).then(()=>({batchId:p.batchId,changes:NT(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,c){let d=o.Ba[o.currentUser.toKey()];d||(d=new is(ft)),d=d.insert(l,c),o.Ba[o.currentUser.toKey()]=d}(i,r.batchId,n),await $d(i,r.changes),await fp(i.remoteStore)}catch(r){const a=zy(r,"Failed to persist write");n.reject(a)}}async function eE(s,e){const n=Je(s);try{const i=await DV(n.localStore,e);e.targetChanges.forEach((r,a)=>{const o=n.Na.get(a);o&&(kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?kt(o.va):r.removedDocuments.size>0&&(kt(o.va),o.va=!1))}),await $d(n,i,e)}catch(i){await Od(i)}}function cw(s,e,n){const i=Je(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((a,o)=>{const l=o.view.Z_(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const c=Je(o);c.onlineState=l;let d=!1;c.queries.forEach((h,m)=>{for(const p of m.j_)p.Z_(l)&&(d=!0)}),d&&Wy(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function wF(s,e,n){const i=Je(s);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),a=r&&r.key;if(a){let o=new is(Ve.comparator);o=o.insert(a,Os.newNoDocument(a,Ye.min()));const l=lt().add(a),c=new hp(Ye.min(),new Map,new is(ft),o,l);await eE(i,c),i.Oa=i.Oa.remove(a),i.Na.delete(e),Hy(i)}else await gv(i.localStore,e,!1).then(()=>xv(i,e,n)).catch(Od)}async function SF(s,e){const n=Je(s),i=e.batch.batchId;try{const r=await IV(n.localStore,e);sE(n,i,null),tE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $d(n,r)}catch(r){await Od(r)}}async function kF(s,e,n){const i=Je(s);try{const r=await function(o,l){const c=Je(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(kt(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(i.localStore,e);sE(i,e,n),tE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await $d(i,r)}catch(r){await Od(r)}}function tE(s,e){(s.ka.get(e)||[]).forEach(n=>{n.resolve()}),s.ka.delete(e)}function sE(s,e,n){const i=Je(s);let r=i.Ba[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function xv(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Ma.get(e))s.Fa.delete(i),n&&s.Ca.$a(i,n);s.Ma.delete(e),s.isPrimaryClient&&s.La.gr(e).forEach(i=>{s.La.containsKey(i)||nE(s,i)})}function nE(s,e){s.xa.delete(e.path.canonicalString());const n=s.Oa.get(e);n!==null&&(Fy(s.remoteStore,n),s.Oa=s.Oa.remove(e),s.Na.delete(n),Hy(s))}function dw(s,e,n){for(const i of n)i instanceof JT?(s.La.addReference(i.key,e),_F(s,i)):i instanceof XT?(Re("SyncEngine","Document no longer in limbo: "+i.key),s.La.removeReference(i.key,e),s.La.containsKey(i.key)||nE(s,i.key)):Ke()}function _F(s,e){const n=e.key,i=n.path.canonicalString();s.Oa.get(n)||s.xa.has(i)||(Re("SyncEngine","New document in limbo: "+n),s.xa.add(i),Hy(s))}function Hy(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const e=s.xa.values().next().value;s.xa.delete(e);const n=new Ve(Qt.fromString(e)),i=s.qa.next();s.Na.set(i,new fF(n)),s.Oa=s.Oa.insert(n,i),WT(s.remoteStore,new Nr(oi(Ay(n.path)),i,"TargetPurposeLimboResolution",ky.oe))}}async function $d(s,e,n){const i=Je(s),r=[],a=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((l,c)=>{o.push(i.Ka(c,e,n).then(d=>{var h;if((d||n)&&i.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){r.push(d);const m=Vy.Wi(c.targetId,d);a.push(m)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(c,d){const h=Je(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>le.forEach(d,p=>le.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(m,p.targetId,g)).next(()=>le.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(m,p.targetId,g)))))}catch(m){if(!Vd(m))throw m;Re("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const g=h.os.get(p),x=g.snapshotVersion,j=g.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(p,j)}}}(i.localStore,a))}async function CF(s,e){const n=Je(s);if(!n.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const i=await UT(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(l=>{l.forEach(c=>{c.reject(new Oe(me.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $d(n,i.hs)}}function TF(s,e){const n=Je(s),i=n.Na.get(e);if(i&&i.va)return lt().add(i.key);{let r=lt();const a=n.Ma.get(e);if(!a)return r;for(const o of a){const l=n.Fa.get(o);r=r.unionWith(l.view.Va)}return r}}function iE(s){const e=Je(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=eE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wF.bind(null,e),e.Ca.d_=dF.bind(null,e.eventManager),e.Ca.$a=uF.bind(null,e.eventManager),e}function EF(s){const e=Je(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kF.bind(null,e),e}class hm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return RV(this.persistence,new PV,e.initialUser,this.serializer)}Ga(e){return new CV(Oy.Zr,this.serializer)}Wa(e){return new FV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hm.provider={build:()=>new hm};class yv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=CF.bind(null,this.syncEngine),await rF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oF}()}createDatastore(e){const n=mp(e.databaseInfo.databaseId),i=function(a){return new qV(a)}(e.databaseInfo);return function(a,o,l,c){return new HV(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,a,o,l){return new KV(i,r,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>cw(this.syncEngine,n,0),function(){return iw.D()?new iw:new BV}())}createSyncEngine(e,n){return function(r,a,o,l,c,d,h){const m=new gF(r,a,o,l,c,d);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const a=Je(r);Re("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ud(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yv.provider={build:()=>new yv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,i,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ms.UNAUTHENTICATED,this.clientId=lT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async o=>{Re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(Re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=zy(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function bf(s,e){s.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener(async r=>{i.isEqual(r)||(await UT(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function uw(s,e){s.asyncQueue.verifyOperationInProgress();const n=await RF(s);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(i=>rw(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,r)=>rw(e.remoteStore,r)),s._onlineComponents=e}async function RF(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await bf(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===me.FAILED_PRECONDITION||r.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await bf(s,new hm)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await bf(s,new hm);return s._offlineComponents}async function rE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await uw(s,s._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await uw(s,new yv))),s._onlineComponents}function IF(s){return rE(s).then(e=>e.syncEngine)}async function DF(s){const e=await rE(s),n=e.eventManager;return n.onListen=vF.bind(null,e.syncEngine),n.onUnlisten=jF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NF.bind(null,e.syncEngine),n}function MF(s,e,n={}){const i=new Ir;return s.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new PF({next:p=>{h.Za(),o.enqueueAndForget(()=>cF(a,m));const g=p.docs.has(l);!g&&p.fromCache?d.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?d.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new hF(Ay(l.path),h,{includeMetadataChanges:!0,_a:!0});return lF(a,m)}(await DF(s),s.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(s,e,n){if(!n)throw new Oe(me.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function OF(s,e,n,i){if(e===!0&&i===!0)throw new Oe(me.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function mw(s){if(!Ve.isDocumentKey(s))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Gy(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ke()}function md(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gy(s);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ky{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pw(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new K5;switch(i.type){case"firstParty":return new X5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=hw.get(n);i&&(Re("ComponentProvider","Removing Datastore"),hw.delete(n),i.terminate())}(this),Promise.resolve()}}function VF(s,e,n,i={}){var r;const a=(s=md(s,Ky))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){let l,c;if(typeof i.mockUserToken=="string")l=i.mockUserToken,c=Ms.MOCK_USER;else{l=pC(i.mockUserToken,(r=s._app)===null||r===void 0?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ms(d)}s._authCredentials=new Q5(new oT(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qy(this.firestore,e,this._query)}}class Pn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class pd extends Qy{constructor(e,n,i){super(e,n,Ay(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Ve(e))}withConverter(e){return new pd(this.firestore,e,this._path)}}function bi(s,e,...n){if(s=us(s),arguments.length===1&&(e=lT.newId()),LF("doc","path",e),s instanceof Ky){const i=Qt.fromString(e,...n);return mw(i),new Pn(s,null,new Ve(i))}{if(!(s instanceof Pn||s instanceof pd))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(Qt.fromString(e,...n));return mw(i),new Pn(s.firestore,s instanceof pd?s.converter:null,new Ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qT(this,"async_queue_retry"),this.Vu=()=>{const i=Nf();i&&Re("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=Nf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ir;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vd(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const r=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(i);throw Hi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=qy.createAndSchedule(this,e,n,i,a=>this.yu(a));return this.Tu.push(r),r}fu(){this.Eu&&Ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Yy extends Ky{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new fw,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fw(e),this._firestoreClient=void 0,await e}}}function FF(s,e){const n=typeof s=="object"?s:hy(),i=typeof s=="string"?s:"(default)",r=sp(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=uC("firestore");a&&VF(r,...a)}return r}function oE(s){if(s._terminated)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||BF(s),s._firestoreClient}function BF(s){var e,n,i;const r=s._freezeSettings(),a=function(l,c,d,h){return new uO(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aE(h.experimentalLongPollingOptions),h.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,r);s._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),s._firestoreClient=new AF(s._authCredentials,s._appCheckCredentials,s._queue,a,s._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(Ts.fromBase64String(e))}catch(n){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tl(Ts.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ss(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=/^__.*__$/;class $F{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new $a(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fd(e,this.data,n,this.fieldTransforms)}}function lE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class tj{constructor(e,n,i,r,a,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new tj(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lE(this.Cu)&&UF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class qF{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||mp(e)}Qu(e,n,i,r=!1){return new tj({Cu:e,methodName:n,qu:i,path:Ss.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zF(s){const e=s._freezeSettings(),n=mp(s._databaseId);return new qF(s._databaseId,!!e.ignoreUndefinedProperties,n)}function WF(s,e,n,i,r,a={}){const o=s.Qu(a.merge||a.mergeFields?2:0,e,n,r);hE("Data must be an object, but it was:",o,i);const l=dE(i,o);let c,d;if(a.merge)c=new zn(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const p=HF(e,m,n);if(!o.contains(p))throw new Oe(me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);KF(h,p)||h.push(p)}c=new zn(h),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new $F(new Sn(l),c,d)}class sj extends Xy{_toFieldTransform(e){return new OO(e.path,new dd)}isEqual(e){return e instanceof sj}}function cE(s,e){if(uE(s=us(s)))return hE("Unsupported field value:",e,s),dE(s,e);if(s instanceof Xy)return function(i,r){if(!lE(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){const a=[];let o=0;for(const l of i){let c=cE(l,r.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(s,e)}return function(i,r){if((i=us(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return DO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=ds.fromDate(i);return{timestampValue:dm(r.serializer,a)}}if(i instanceof ds){const a=new ds(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dm(r.serializer,a)}}if(i instanceof Zy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof tl)return{bytesValue:DT(r.serializer,i._byteString)};if(i instanceof Pn){const a=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(a))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:My(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ej)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return Ry(l.serializer,c)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${Gy(i)}`)}(s,e)}function dE(s,e){const n={};return cT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xl(s,(i,r)=>{const a=cE(r,e.Mu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function uE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ds||s instanceof Zy||s instanceof tl||s instanceof Pn||s instanceof Xy||s instanceof ej)}function hE(s,e,n){if(!uE(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Gy(n);throw i==="an object"?e.Bu(s+" a custom object"):e.Bu(s+" "+i)}}function HF(s,e,n){if((e=us(e))instanceof Jy)return e._internalPath;if(typeof e=="string")return mE(s,e);throw mm("Field path arguments must be of type string or ",s,!1,void 0,n)}const GF=new RegExp("[~\\*/\\[\\]]");function mE(s,e,n){if(e.search(GF)>=0)throw mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Jy(...e.split("."))._internalPath}catch{throw mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function mm(s,e,n,i,r){const a=i&&!i.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new Oe(me.INVALID_ARGUMENT,l+s+c)}function KF(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,i,r,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QF extends pE{data(){return super.data()}}function fE(s,e){return typeof e=="string"?mE(s,e):e instanceof Jy?e._internalPath:e._delegate._internalPath}class YF{convertValue(e,n="none"){switch(Da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return xl(e,(r,a)=>{i[r]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,r;const a=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Xt(o.doubleValue));return new ej(a)}convertGeoPoint(e){return new Zy(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Cy(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(od(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new ds(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Qt.fromString(e);kt(BT(i));const r=new ld(i.get(1),i.get(3)),a=new Ve(i.popFirst(5));return r.isEqual(n)||Hi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(s,e,n){let i;return i=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gE extends pE{constructor(e,n,i,r,a,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ZF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(fE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class ZF extends gE{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(s){s=md(s,Pn);const e=md(s.firestore,Yy);return MF(oE(e),s._key).then(n=>s6(e,s,n))}class e6 extends YF{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function Xa(s,e,n){s=md(s,Pn);const i=md(s.firestore,Yy),r=JF(s.converter,e,n);return t6(i,[WF(zF(i),"setDoc",s._key,r,s.converter!==null,n).toMutation(s._key,Vi.none())])}function t6(s,e){return function(i,r){const a=new Ir;return i.asyncQueue.enqueueAndForget(async()=>bF(await IF(i),r,a)),a.promise}(oE(s),e)}function s6(s,e,n){const i=n.docs.get(e._key),r=new e6(s);return new gE(s,r,e._key,i,new XF(n.hasPendingWrites,n.fromCache),e.converter)}function cr(){return new sj("serverTimestamp")}(function(e,n=!0){(function(r){vl=r})(Ua),Ea(new Fr("firestore",(i,{instanceIdentifier:r,options:a})=>{const o=i.getProvider("app").getImmediate(),l=new Yy(new Y5(i.getProvider("auth-internal")),new eO(i.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ld(d.options.projectId,h)}(o,r),o);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),ri(Mb,"4.7.3",e),ri(Mb,"4.7.3","esm2017")})();var n6="firebase",i6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(n6,i6,"app");const vE={apiKey:"AIzaSyCGhixEmoKX9fAz9HONiG14VmHA7Z0dEpM",authDomain:"smart-servisehub.firebaseapp.com",projectId:"smart-servisehub",storageBucket:"smart-servisehub.firebasestorage.app",messagingSenderId:"189234830590",appId:"1:189234830590:web:354a93a8547f14f100d9af"},xE=uy(vE),yE=xE,wi=FF(yE);eT(yE);const Za=eT(xE);class r6{async signUp(e,n,i,r,a){try{const l=(await PL(Za,e,n)).user;await IL(l,{displayName:i});const c={uid:l.uid,email:l.email,displayName:i,photoURL:l.photoURL,role:r,phone:a||"",createdAt:cr(),lastLogin:cr(),isEmailVerified:l.emailVerified,profileCompleted:!1};return await Xa(bi(wi,"users",l.uid),c),await this.sendEmailVerification(l),localStorage.setItem("user",JSON.stringify(c)),localStorage.setItem("token",await l.getIdToken()),{success:!0,user:c,needsVerification:!l.emailVerified}}catch(o){return console.error("Signup error:",o),{success:!1,error:this.getErrorMessage(o.code)}}}async signIn(e,n){try{const r=(await AL(Za,e,n)).user,a=await wf(bi(wi,"users",r.uid));let o;return a.exists()?(o=a.data(),o.lastLogin=cr(),await Xa(bi(wi,"users",r.uid),o,{merge:!0})):(o={uid:r.uid,email:r.email,displayName:r.displayName,photoURL:r.photoURL,role:"user",phone:"",createdAt:cr(),lastLogin:cr(),isEmailVerified:r.emailVerified,profileCompleted:!1},await Xa(bi(wi,"users",r.uid),o)),localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("token",await r.getIdToken()),{success:!0,user:o,needsVerification:!r.emailVerified}}catch(i){return console.error("Sign in error:",i),{success:!1,error:this.getErrorMessage(i.code)}}}async signInWithGoogle(){try{const e=new Ti,i=(await s5(Za,e)).user,r=await wf(bi(wi,"users",i.uid));let a;return r.exists()?(a=r.data(),a.lastLogin=cr(),await Xa(bi(wi,"users",i.uid),a,{merge:!0})):(a={uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,role:"user",phone:"",createdAt:cr(),lastLogin:cr(),isEmailVerified:i.emailVerified,profileCompleted:!1},await Xa(bi(wi,"users",i.uid),a)),localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("token",await i.getIdToken()),{success:!0,user:a,needsVerification:!i.emailVerified}}catch(e){return console.error("Google sign in error:",e),{success:!1,error:this.getErrorMessage(e.code)}}}async resetPassword(e){try{return await EL(Za,e),{success:!0}}catch(n){return console.error("Password reset error:",n),{success:!1,error:this.getErrorMessage(n.code)}}}async signOut(){try{await LL(Za),localStorage.removeItem("user"),localStorage.removeItem("token")}catch(e){console.error("Sign out error:",e)}}async sendEmailVerification(e){try{console.log("Email verification sent to:",e.email)}catch(n){console.error("Email verification error:",n)}}getCurrentUser(){try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return console.error("Get current user error:",e),null}}onAuthStateChanged(e){return Za.onAuthStateChanged(async n=>{if(n){const i=await wf(bi(wi,"users",n.uid));i.exists()?e(i.data()):e(null)}else e(null)})}getErrorMessage(e){return{"auth/email-already-in-use":"This email is already registered. Please login.","auth/invalid-email":"Please enter a valid email address.","auth/weak-password":"Password should be at least 6 characters long.","auth/user-not-found":"No account found with this email address.","auth/wrong-password":"Incorrect password. Please try again.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/network-request-failed":"Network error. Please check your connection.","auth/popup-closed-by-user":"Sign-in popup was closed before completion.","auth/cancelled-popup-request":"Sign-in was cancelled.","auth/operation-not-allowed":"This sign-in method is not enabled.","auth/invalid-credential":"Invalid credentials provided.","auth/user-disabled":"This account has been disabled.","auth/expired-action-code":"The verification code has expired.","auth/invalid-action-code":"The verification code is invalid.","auth/missing-email":"Please provide an email address.","auth/missing-password":"Please provide a password."}[e]||"An error occurred. Please try again."}async updateProfile(e){try{const n=this.getCurrentUser();if(!n)return{success:!1,error:"No user logged in"};await Xa(bi(wi,"users",n.uid),e,{merge:!0});const i={...n,...e};return localStorage.setItem("user",JSON.stringify(i)),{success:!0,user:i}}catch(n){return console.error("Update profile error:",n),{success:!1,error:"Failed to update profile. Please try again."}}}}const Fs=new r6,jE=f.createContext(void 0);function a6({children:s}){const[e,n]=f.useState(null),[i,r]=f.useState(!0);f.useEffect(()=>{const c=Fs.onAuthStateChanged(async d=>{var h;if(r(!0),d){const m={uid:d.uid,email:d.email||void 0,displayName:d.displayName||((h=d.email)==null?void 0:h.split("@")[0])||"User",photoURL:d.photoURL||null};try{const p=localStorage.getItem(`user_${d.uid}`);if(p){const g=JSON.parse(p);n({...m,...g})}else n(m)}catch{console.log("No stored user data found, using base user"),n(m)}}else n(null);r(!1)});return()=>c()},[]);const l={user:e,loading:i,updateUser:c=>{if(!e)return;const d={...e,...c};n(d);try{localStorage.setItem(`user_${e.uid}`,JSON.stringify(d))}catch{console.log("Failed to save user data to localStorage")}(c.displayName||c.photoURL)&&Fs.updateProfile({displayName:d.displayName||void 0,photoURL:d.photoURL||void 0}).catch(h=>{console.log("Failed to update Firebase profile:",h)})},refreshUser:async()=>{if(e)try{const c=localStorage.getItem(`user_${e.uid}`);if(c){const d=JSON.parse(c);n({...e,...d})}}catch{console.log("Failed to refresh user data")}}};return t.jsx(jE.Provider,{value:l,children:s})}function vi(){const s=f.useContext(jE);if(s===void 0)throw new Error("useUser must be used within a UserProvider");return s}function o6(){var q,P,G;const s=Ct(),e=hn(),{user:n,loading:i}=vi(),[r,a]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[h,m]=f.useState(!1),[p,g]=f.useState(""),[x,j]=f.useState([]),[v,b]=f.useState(!1),N=f.useRef(null),C=f.useRef(null),I=f.useRef(null);f.useEffect(()=>{const U=[{id:"1",title:"Booking Confirmed",message:"Your AC repair service has been confirmed for tomorrow at 2 PM",type:"success",timestamp:new Date(Date.now()-18e5),read:!1,action:{label:"View Booking",url:"/bookings"}},{id:"2",title:"New Message",message:"Provider sent you a message about your upcoming service",type:"info",timestamp:new Date(Date.now()-72e5),read:!1},{id:"3",title:"Payment Successful",message:"Your payment of 1,200 has been processed successfully",type:"success",timestamp:new Date(Date.now()-864e5),read:!0},{id:"4",title:"Service Reminder",message:"Don't forget your plumbing service scheduled for next week",type:"warning",timestamp:new Date(Date.now()-1728e5),read:!0}];j(U)},[]),f.useEffect(()=>{const U=re=>{N.current&&!N.current.contains(re.target)&&l(!1),C.current&&!C.current.contains(re.target)&&d(!1),I.current&&!I.current.contains(re.target)&&m(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]),f.useEffect(()=>{a(!1)},[e.pathname]);const D=f.useCallback(U=>{if(U.preventDefault(),p.trim()){s(`/search?q=${encodeURIComponent(p.trim())}`),g(""),m(!1);const re=I.current;re&&(re.classList.add("searching"),setTimeout(()=>{re.classList.remove("searching")},600))}},[p,s]),$=f.useCallback(()=>{m(!0)},[]),E=f.useCallback(()=>{setTimeout(()=>{m(!1)},200)},[]),k=f.useCallback(U=>{g(U),m(!1),setTimeout(()=>{s(`/search?q=${encodeURIComponent(U)}`),g("")},100)},[s]),_=f.useCallback(()=>{var U,re;g(""),(re=(U=I.current)==null?void 0:U.querySelector("input"))==null||re.focus()},[]),T=f.useCallback(()=>{b(!0),setTimeout(()=>b(!1),1200)},[]),S=f.useCallback(U=>{U.action&&s(U.action.url),j(re=>re.map(W=>W.id===U.id?{...W,read:!0}:W)),d(!1)},[s]),F=f.useCallback(()=>{j(U=>U.map(re=>({...re,read:!0})))},[]),L=x.filter(U=>!U.read).length,oe=U=>{const W=new Date().getTime()-U.getTime(),xe=Math.floor(W/6e4),Ce=Math.floor(W/36e5),Fe=Math.floor(W/864e5);return xe<60?`${xe}m ago`:Ce<24?`${Ce}h ago`:`${Fe}d ago`},A=U=>{switch(U){case"success":return"";case"warning":return"";case"error":return"";default:return""}},Z=[{path:"/",label:"Home",icon:"",badge:null},{path:"/search",label:"Search",icon:"",badge:null},{path:"/bookings",label:"My Bookings",icon:"",badge:"3"},{path:"/provider",label:"Provider",icon:"",badge:null},{path:"/admin",label:"Admin",icon:"",badge:null}];f.useCallback(U=>{console.log("Navigating to:",U),s(U)},[s]);const Q=f.useCallback(U=>{U.preventDefault(),U.stopPropagation();const re=U.currentTarget;re.classList.add("blast");for(let W=0;W<12;W++){const xe=document.createElement("div");xe.className="blast-particle";const Ce=W*30*Math.PI/180,Fe=80+Math.random()*40,Me=Math.cos(Ce)*Fe,Ie=Math.sin(Ce)*Fe;xe.style.setProperty("--tx",`${Me}px`),xe.style.setProperty("--ty",`${Ie}px`),xe.style.left="50%",xe.style.top="50%",xe.style.animation="particleBlast 0.8s ease-out forwards",re.appendChild(xe),setTimeout(()=>xe.remove(),800)}navigator.vibrate&&navigator.vibrate([50,30,50]),setTimeout(()=>{re.classList.remove("blast")},600)},[]);return t.jsxs("header",{className:"navbar-advanced",children:[t.jsxs("div",{className:"navbar-container",children:[t.jsx("div",{className:"navbar-brand",children:t.jsx(he,{to:"/",className:"brand-link",onClick:T,children:t.jsxs("div",{className:`logo-container ${v?"animate":""}`,children:[t.jsxs("div",{className:"logo-wrapper",onClick:Q,children:[t.jsxs("div",{className:"logo-icon",children:[t.jsx("span",{className:"logo-main",children:""}),t.jsxs("div",{className:"logo-sparkles",children:[t.jsx("span",{className:"sparkle sparkle-1",children:""}),t.jsx("span",{className:"sparkle sparkle-2",children:""}),t.jsx("span",{className:"sparkle sparkle-3",children:""})]})]}),t.jsxs("div",{className:"logo-text",children:[t.jsx("span",{className:"logo-title",children:"Smart"}),t.jsx("span",{className:"logo-subtitle",children:"ServiceHub"})]})]}),t.jsx("div",{className:"logo-pulse"})]})})}),t.jsx("div",{className:`navbar-search ${h?"open":""}`,ref:I,children:t.jsxs("form",{onSubmit:D,className:"search-form",children:[t.jsxs("div",{className:"search-input-wrapper",children:[t.jsx("span",{className:"search-icon",children:""}),t.jsx("input",{type:"text",placeholder:"Search services, providers...",value:p,onChange:U=>g(U.target.value),onFocus:$,onBlur:E,className:"search-input",autoComplete:"off"}),t.jsxs("div",{className:"search-actions",children:[p&&t.jsx("button",{type:"button",onClick:_,className:"search-clear",title:"Clear search",children:""}),t.jsx("button",{type:"submit",className:"search-submit",title:"Search",disabled:!p.trim(),children:""})]})]}),h&&t.jsxs("div",{className:"search-suggestions",children:[t.jsxs("div",{className:"suggestion-header",children:[t.jsx("div",{className:"suggestion-category",children:"Popular Services"}),t.jsx("div",{className:"suggestion-trending",children:" Trending"})]}),t.jsxs("div",{className:"suggestion-items",children:[t.jsxs("button",{type:"button",className:"suggestion-item",onClick:()=>k("Emergency Plumbing"),onMouseDown:U=>U.preventDefault(),children:[t.jsx("span",{className:"suggestion-icon",children:""}),t.jsxs("div",{className:"suggestion-content",children:[t.jsx("span",{className:"suggestion-title",children:"Emergency Plumbing"}),t.jsx("span",{className:"suggestion-desc",children:"24/7 plumbing services"})]}),t.jsx("span",{className:"suggestion-arrow",children:""})]}),t.jsxs("button",{type:"button",className:"suggestion-item",onClick:()=>k("AC Repair Service"),onMouseDown:U=>U.preventDefault(),children:[t.jsx("span",{className:"suggestion-icon",children:""}),t.jsxs("div",{className:"suggestion-content",children:[t.jsx("span",{className:"suggestion-title",children:"AC Repair Service"}),t.jsx("span",{className:"suggestion-desc",children:"Fast cooling solutions"})]}),t.jsx("span",{className:"suggestion-arrow",children:""})]}),t.jsxs("button",{type:"button",className:"suggestion-item",onClick:()=>k("Home Cleaning"),onMouseDown:U=>U.preventDefault(),children:[t.jsx("span",{className:"suggestion-icon",children:""}),t.jsxs("div",{className:"suggestion-content",children:[t.jsx("span",{className:"suggestion-title",children:"Home Cleaning"}),t.jsx("span",{className:"suggestion-desc",children:"Professional cleaning"})]}),t.jsx("span",{className:"suggestion-arrow",children:""})]}),t.jsxs("button",{type:"button",className:"suggestion-item",onClick:()=>k("Electrical Services"),onMouseDown:U=>U.preventDefault(),children:[t.jsx("span",{className:"suggestion-icon",children:""}),t.jsxs("div",{className:"suggestion-content",children:[t.jsx("span",{className:"suggestion-title",children:"Electrical Services"}),t.jsx("span",{className:"suggestion-desc",children:"Safe electrical work"})]}),t.jsx("span",{className:"suggestion-arrow",children:""})]})]}),t.jsxs("div",{className:"suggestion-footer",children:[t.jsx("div",{className:"suggestion-category",children:"Recent Searches"}),t.jsxs("div",{className:"recent-searches",children:[t.jsxs("button",{type:"button",className:"recent-search-item",onClick:()=>k("Pest Control"),children:[t.jsx("span",{className:"recent-icon",children:""}),"Pest Control"]}),t.jsxs("button",{type:"button",className:"recent-search-item",onClick:()=>k("Painting Services"),children:[t.jsx("span",{className:"recent-icon",children:""}),"Painting Services"]})]})]})]})]})}),t.jsx("nav",{className:"navbar-nav desktop-nav",children:Z.map(U=>t.jsxs(sb,{to:U.path,className:({isActive:re})=>`nav-link ${re?"active":""}`,children:[t.jsxs("div",{className:"nav-content",children:[t.jsx("span",{className:"nav-icon",children:U.icon}),t.jsx("span",{className:"nav-label",children:U.label}),U.badge&&t.jsx("span",{className:"nav-badge",children:U.badge})]}),t.jsx("div",{className:"nav-indicator"}),t.jsx("div",{className:"nav-hover-effect"})]},U.path))}),t.jsxs("div",{className:"navbar-actions",children:[t.jsxs("div",{className:"navbar-notifications",ref:C,children:[t.jsxs("button",{className:"notifications-toggle",onClick:()=>d(!c),children:[t.jsx("span",{className:"notifications-icon",children:""}),L>0&&t.jsx("span",{className:"notifications-badge",children:L})]}),c&&t.jsxs("div",{className:"notifications-dropdown",children:[t.jsxs("div",{className:"notifications-header",children:[t.jsx("h3",{children:"Notifications"}),t.jsx("button",{onClick:F,className:"mark-all-read",children:"Mark all as read"})]}),t.jsx("div",{className:"notifications-list",children:x.map(U=>t.jsxs("div",{className:`notification-item ${U.read?"":"unread"}`,onClick:()=>S(U),children:[t.jsx("div",{className:"notification-icon-wrapper",children:t.jsx("span",{className:"notification-icon",children:A(U.type)})}),t.jsxs("div",{className:"notification-content",children:[t.jsx("div",{className:"notification-title",children:U.title}),t.jsx("div",{className:"notification-message",children:U.message}),t.jsxs("div",{className:"notification-footer",children:[t.jsx("span",{className:"notification-time",children:oe(U.timestamp)}),U.action&&t.jsx("span",{className:"notification-action",children:U.action.label})]})]})]},U.id))}),t.jsx("div",{className:"notifications-footer",children:t.jsx(he,{to:"/notifications",className:"view-all-notifications",children:"View all notifications"})})]})]}),n?t.jsxs("div",{className:"navbar-profile",ref:N,children:[t.jsxs("button",{className:"profile-toggle",onClick:()=>l(!o),children:[t.jsx("div",{className:"profile-avatar",children:n.photoURL?t.jsx("img",{src:n.photoURL,alt:n.displayName||"User"}):t.jsx("span",{className:"avatar-fallback",children:((q=n.displayName)==null?void 0:q.charAt(0).toUpperCase())||"U"})}),t.jsx("span",{className:"profile-name",children:n.displayName||"User"}),t.jsx("span",{className:"profile-chevron",children:""})]}),o&&t.jsxs("div",{className:"profile-dropdown",children:[t.jsxs("div",{className:"profile-header",children:[t.jsx("div",{className:"profile-avatar large",children:n.photoURL?t.jsx("img",{src:n.photoURL,alt:n.displayName||"User"}):t.jsx("span",{className:"avatar-fallback",children:((P=n.displayName)==null?void 0:P.charAt(0).toUpperCase())||"U"})}),t.jsxs("div",{className:"profile-info",children:[t.jsx("div",{className:"profile-name",children:n.displayName||"User"}),t.jsx("div",{className:"profile-email",children:n.email})]})]}),t.jsxs("div",{className:"profile-menu",children:[t.jsxs(he,{to:"/profile",className:"profile-menu-item",children:[t.jsx("span",{className:"menu-icon",children:""}),t.jsx("span",{children:"My Profile"})]}),t.jsxs(he,{to:"/profile/bookings",className:"profile-menu-item",children:[t.jsx("span",{className:"menu-icon",children:""}),t.jsx("span",{children:"My Bookings"})]}),t.jsxs(he,{to:"/profile/payments",className:"profile-menu-item",children:[t.jsx("span",{className:"menu-icon",children:""}),t.jsx("span",{children:"Payment Methods"})]}),t.jsxs(he,{to:"/profile/reviews",className:"profile-menu-item",children:[t.jsx("span",{className:"menu-icon",children:""}),t.jsx("span",{children:"Reviews"})]}),t.jsxs(he,{to:"/profile/settings",className:"profile-menu-item",children:[t.jsx("span",{className:"menu-icon",children:""}),t.jsx("span",{children:"Settings"})]}),t.jsx("div",{className:"profile-divider"}),t.jsxs("button",{onClick:()=>Fs.signOut(),className:"profile-menu-item logout",children:[t.jsx("span",{className:"menu-icon",children:""}),t.jsx("span",{children:"Sign Out"})]})]})]})]}):t.jsxs("div",{className:"navbar-auth",children:[t.jsx("button",{onClick:()=>{window.location.href="/login"},className:"btn btn-outline",children:"Sign In"}),t.jsx("button",{onClick:()=>{window.location.href="/login"},className:"btn btn-primary",children:"Sign Up"})]}),t.jsx("button",{className:"mobile-menu-toggle",onClick:()=>a(!r),children:t.jsxs("span",{className:`hamburger-icon ${r?"open":""}`,children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]})})]})]}),t.jsxs("div",{className:`mobile-menu ${r?"open":""}`,children:[t.jsxs("div",{className:"mobile-menu-header",children:[t.jsxs("div",{className:"mobile-brand",children:[t.jsx("img",{src:"/logo.svg",alt:"Smart ServiceHub",className:"mobile-logo"}),t.jsx("span",{className:"mobile-brand-name",children:"Smart ServiceHub"})]}),t.jsx("button",{className:"mobile-menu-close",onClick:()=>a(!1),children:""})]}),t.jsxs("div",{className:"mobile-menu-content",children:[t.jsx("div",{className:"mobile-search",children:t.jsx("form",{onSubmit:D,children:t.jsxs("div",{className:"mobile-search-input-wrapper",children:[t.jsx("span",{className:"search-icon",children:""}),t.jsx("input",{type:"text",placeholder:"Search services...",value:p,onChange:U=>g(U.target.value),className:"mobile-search-input"})]})})}),t.jsx("nav",{className:"mobile-nav",children:Z.map(U=>t.jsxs(sb,{to:U.path,className:({isActive:re})=>`mobile-nav-link ${re?"active":""}`,onClick:()=>a(!1),children:[t.jsx("span",{className:"mobile-nav-icon",children:U.icon}),t.jsx("span",{className:"mobile-nav-label",children:U.label})]},U.path))}),t.jsx("div",{className:"mobile-menu-footer",children:n?t.jsxs("div",{className:"mobile-profile",children:[t.jsxs("div",{className:"mobile-profile-info",children:[t.jsx("div",{className:"mobile-profile-avatar",children:n.photoURL?t.jsx("img",{src:n.photoURL,alt:n.displayName||"User"}):t.jsx("span",{className:"avatar-fallback",children:((G=n.displayName)==null?void 0:G.charAt(0).toUpperCase())||"U"})}),t.jsxs("div",{className:"mobile-profile-details",children:[t.jsx("div",{className:"mobile-profile-name",children:n.displayName||"User"}),t.jsx("div",{className:"mobile-profile-email",children:n.email})]})]}),t.jsx("button",{onClick:()=>Fs.signOut(),className:"mobile-logout-btn",children:"Sign Out"})]}):t.jsxs("div",{className:"mobile-auth",children:[t.jsx(he,{to:"/login",className:"btn btn-outline mobile-btn",children:"Sign In"}),t.jsx(he,{to:"/login",className:"btn btn-primary mobile-btn",children:"Sign Up"})]})})]})]})]})}function l6({isOpen:s,onClose:e,onSuccess:n}){const[i,r]=f.useState(!0),[a,o]=f.useState(""),[l,c]=f.useState(""),[d,h]=f.useState(""),[m,p]=f.useState(""),[g,x]=f.useState(""),[j,v]=f.useState(!1),[b,N]=f.useState(""),[C,I]=f.useState(!1),{updateUser:D}=vi();if(!s)return null;const $=async T=>{T.preventDefault(),N(""),v(!0);try{if(i){const S=await Fs.signIn(a,l);S.success&&S.user?(await D({phone:g||void 0,stats:{totalBookings:0,completedBookings:0,totalSpent:0,averageRating:5,responseRate:100,responseTime:"< 1 hour",memberSince:new Date().toLocaleDateString()},preferences:{emailUpdates:!0,notifications:!0,darkMode:!1,language:"en"}}),n()):S.error&&N(S.error)}else{if(l!==d){N("Passwords do not match"),v(!1);return}if(l.length<6){N("Password must be at least 6 characters"),v(!1);return}const S=await Fs.signUp(a,l,m,"user",g);S.success&&S.user?(await D({displayName:m,phone:g||void 0,address:"",bio:"New member of Smart ServiceHub",verification:{email:!0,phone:!1,identity:!1,address:!1},stats:{totalBookings:0,completedBookings:0,totalSpent:0,averageRating:5,responseRate:100,responseTime:"< 1 hour",memberSince:new Date().toLocaleDateString()},achievements:[{id:"welcome",title:"Welcome Aboard!",description:"Successfully joined Smart ServiceHub",icon:"",earnedAt:new Date().toLocaleDateString()}],preferences:{emailUpdates:!0,notifications:!0,darkMode:!1,language:"en"}}),n()):S.error&&N(S.error)}}catch(S){N(S.message||"Authentication failed")}finally{v(!1)}},E=async()=>{var T;N(""),v(!0);try{const S=await Fs.signInWithGoogle();S.success&&S.user?(await D({displayName:S.user.displayName||((T=S.user.email)==null?void 0:T.split("@")[0]),photoURL:S.user.photoURL,verification:{email:!0,phone:!1,identity:!1,address:!1},stats:{totalBookings:0,completedBookings:0,totalSpent:0,averageRating:5,responseRate:100,responseTime:"< 1 hour",memberSince:new Date().toLocaleDateString()},achievements:[{id:"google_signup",title:"Quick Starter!",description:"Joined using Google authentication",icon:"",earnedAt:new Date().toLocaleDateString()}],preferences:{emailUpdates:!0,notifications:!0,darkMode:!1,language:"en"}}),n()):S.error&&N(S.error)}catch(S){N(S.message||"Google sign-in failed")}finally{v(!1)}},k=()=>{o(""),c(""),h(""),p(""),x(""),N(""),I(!1)},_=()=>{r(!i),k()};return t.jsx("div",{className:"login-modal-overlay",onClick:T=>T.target===T.currentTarget&&e(),children:t.jsxs("div",{className:"login-modal",children:[t.jsxs("div",{className:"login-modal-header",children:[t.jsxs("div",{className:"login-logo",children:[t.jsx("span",{className:"logo-icon",children:""}),t.jsx("span",{className:"logo-text",children:"Smart ServiceHub"})]}),t.jsx("button",{className:"close-btn",onClick:e,children:""})]}),t.jsxs("div",{className:"login-modal-body",children:[t.jsx("h2",{children:i?"Welcome Back!":"Join Smart ServiceHub"}),t.jsx("p",{className:"login-subtitle",children:i?"Login to access your services and bookings":"Create an account to start booking services"}),t.jsxs("form",{onSubmit:$,className:"login-form",children:[!i&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Full Name"}),t.jsx("input",{type:"text",value:m,onChange:T=>p(T.target.value),placeholder:"Enter your full name",required:!i})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address"}),t.jsx("input",{type:"email",value:a,onChange:T=>o(T.target.value),placeholder:"Enter your email",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Password"}),t.jsxs("div",{className:"password-input",children:[t.jsx("input",{type:C?"text":"password",value:l,onChange:T=>c(T.target.value),placeholder:"Enter your password",required:!0}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>I(!C),children:C?"":""})]})]}),!i&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Confirm Password"}),t.jsx("input",{type:"password",value:d,onChange:T=>h(T.target.value),placeholder:"Confirm your password",required:!i})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number (Optional)"}),t.jsx("input",{type:"tel",value:g,onChange:T=>x(T.target.value),placeholder:"+91 98765 43210"})]}),b&&t.jsx("div",{className:"error-message",children:b}),t.jsx("button",{type:"submit",className:"login-btn",disabled:j,children:j?t.jsx("div",{className:"btn-spinner"}):i?"Login to Account":"Create Account"})]}),t.jsx("div",{className:"divider",children:t.jsx("span",{children:"OR"})}),t.jsxs("button",{className:"google-btn",onClick:E,disabled:j,children:[t.jsx("span",{className:"google-icon",children:""}),"Continue with Google"]}),t.jsx("div",{className:"login-switch",children:t.jsxs("p",{children:[i?"Don't have an account?":"Already have an account?",t.jsx("button",{type:"button",className:"switch-btn",onClick:_,children:i?"Sign Up":"Login"})]})})]}),t.jsx("div",{className:"login-modal-footer",children:t.jsxs("div",{className:"features-list",children:[t.jsxs("div",{className:"feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Secure Authentication"})]}),t.jsxs("div",{className:"feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Quick Access"})]}),t.jsxs("div",{className:"feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Member Benefits"})]})]})})]})})}function c6({onClose:s,onLoginSuccess:e}){const{user:n}=vi(),[i,r]=f.useState(!1),[a,o]=f.useState(!1);f.useEffect(()=>{n&&setTimeout(()=>{e(),s()},1e3)},[n,e,s]);const l=()=>{r(!0)},c=()=>{o(!0),setTimeout(()=>s(),300)};return a?null:t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"auth-prompt-overlay",children:t.jsx("div",{className:`auth-prompt ${a?"dismissed":""}`,children:t.jsxs("div",{className:"auth-prompt-content",children:[t.jsxs("div",{className:"auth-prompt-header",children:[t.jsx("div",{className:"auth-prompt-icon",children:""}),t.jsx("button",{className:"auth-prompt-close",onClick:c,children:""})]}),t.jsxs("div",{className:"auth-prompt-body",children:[t.jsx("h3",{children:"Unlock Full Experience!"}),t.jsx("p",{children:"Sign in to book services, track orders, and get exclusive member benefits"}),t.jsxs("div",{className:"auth-benefits",children:[t.jsxs("div",{className:"benefit-item",children:[t.jsx("span",{className:"benefit-icon",children:""}),t.jsx("span",{children:"Book Services Instantly"})]}),t.jsxs("div",{className:"benefit-item",children:[t.jsx("span",{className:"benefit-icon",children:""}),t.jsx("span",{children:"Track Your Orders"})]}),t.jsxs("div",{className:"benefit-item",children:[t.jsx("span",{className:"benefit-icon",children:""}),t.jsx("span",{children:"Member Discounts"})]}),t.jsxs("div",{className:"benefit-item",children:[t.jsx("span",{className:"benefit-icon",children:""}),t.jsx("span",{children:"Secure Payments"})]})]}),t.jsxs("div",{className:"auth-prompt-actions",children:[t.jsx("button",{className:"auth-prompt-btn primary",onClick:l,children:"Sign In / Sign Up"}),t.jsx("button",{className:"auth-prompt-btn secondary",onClick:c,children:"Maybe Later"})]})]})]})})}),i&&t.jsx(l6,{isOpen:i,onClose:()=>r(!1),onSuccess:()=>{r(!1),e()}})]})}function d6({children:s,requireAuth:e=!0}){const{user:n,loading:i}=vi(),r=hn(),[a,o]=f.useState(!1),[l,c]=f.useState(!1);f.useEffect(()=>{const m=sessionStorage.getItem("authPromptSeen");c(!!m)},[]);const h=["/","/services","/services/plumbing","/services/electrical","/services/cleaning","/services/pest-control","/services/ac-service","/services/painting","/emergency","/book-service","/track-booking","/find-provider","/support","/company/about","/company/careers","/company/blog","/company/press","/company/partners","/support/help-center","/support/faq","/support/terms","/support/privacy","/support/refund","/support/sitemap","/about","/contact","/terms","/privacy","/login","/search","/bookings","/provider","/admin"].some(m=>r.pathname===m||r.pathname.startsWith(m+"/"));return f.useEffect(()=>{if(!i&&!n&&!h&&!l){const m=setTimeout(()=>{o(!0),sessionStorage.setItem("authPromptSeen","true"),c(!0)},3e3);return()=>clearTimeout(m)}},[n,i,h,l]),i?t.jsx("div",{className:"auth-loading",children:t.jsxs("div",{className:"loading-spinner",children:[t.jsx("div",{className:"spinner"}),t.jsx("p",{children:"Loading Smart ServiceHub..."})]})}):!n&&!h&&e?a?t.jsxs(t.Fragment,{children:[t.jsx(c6,{onClose:()=>o(!1),onLoginSuccess:()=>o(!1)}),s]}):t.jsx(iC,{to:"/",state:{from:r},replace:!0}):t.jsx(t.Fragment,{children:s})}function u6({onDone:s,delayMs:e=2500}){const n=f.useRef(null),i=f.useRef([]);return f.useEffect(()=>{const r=n.current;if(!r)return;const a=r.getContext("2d");let o=0,l=!0;const c=Math.min(2,window.devicePixelRatio||1),d=()=>{const{innerWidth:p,innerHeight:g}=window;r.width=p*c,r.height=g*c,r.style.width=p+"px",r.style.height=g+"px",a.setTransform(c,0,0,c,0,0)};d(),window.addEventListener("resize",d);const h=80;i.current=Array.from({length:h}).map(()=>({x:Math.random()*window.innerWidth,y:window.innerHeight+Math.random()*100,vx:(Math.random()-.5)*2,vy:-Math.random()*3-1,size:Math.random()*4+2,opacity:Math.random()*.5+.3,hue:Math.random()*60+10}));const m=()=>{if(!l)return;const p=a.createLinearGradient(0,0,window.innerWidth,window.innerHeight);p.addColorStop(0,"rgba(255, 94, 77, 0.15)"),p.addColorStop(.5,"rgba(255, 154, 0, 0.15)"),p.addColorStop(1,"rgba(255, 206, 84, 0.15)"),a.fillStyle=p,a.fillRect(0,0,r.width,r.height),i.current.forEach((g,x)=>{g.x+=g.vx,g.y+=g.vy,g.opacity-=.005,g.size*=.998,(g.y<-50||g.opacity<=0)&&(i.current[x]={x:Math.random()*window.innerWidth,y:window.innerHeight+Math.random()*100,vx:(Math.random()-.5)*2,vy:-Math.random()*3-1,size:Math.random()*4+2,opacity:Math.random()*.5+.3,hue:Math.random()*60+10}),a.save(),a.globalAlpha=g.opacity;const j=a.createRadialGradient(g.x,g.y,0,g.x,g.y,g.size*3);j.addColorStop(0,`hsla(${g.hue}, 100%, 60%, 0.8)`),j.addColorStop(.5,`hsla(${g.hue}, 100%, 50%, 0.3)`),j.addColorStop(1,`hsla(${g.hue}, 100%, 40%, 0)`),a.fillStyle=j,a.beginPath(),a.arc(g.x,g.y,g.size*3,0,Math.PI*2),a.fill(),a.fillStyle=`hsla(${g.hue}, 100%, 70%, 1)`,a.beginPath(),a.arc(g.x,g.y,g.size,0,Math.PI*2),a.fill(),a.restore()}),o=requestAnimationFrame(m)};return o=requestAnimationFrame(m),()=>{l=!1,cancelAnimationFrame(o),window.removeEventListener("resize",d)}},[]),f.useEffect(()=>{const r=setTimeout(s,e);return()=>clearTimeout(r)},[s,e]),t.jsxs("div",{className:"face-splash-root",children:[t.jsx("canvas",{ref:n,className:"face-splash-canvas","aria-hidden":"true"}),t.jsx("button",{className:"face-splash-skip",onClick:s,"aria-label":"Skip intro",children:"Skip"}),t.jsxs("div",{className:"face-splash-content",children:[t.jsxs("div",{className:"face-splash-logo-container",children:[t.jsx("div",{className:"face-radial-ring ring-1"}),t.jsx("div",{className:"face-radial-ring ring-2"}),t.jsx("div",{className:"face-radial-ring ring-3"}),t.jsxs("div",{className:"face-eye-container",children:[t.jsx("div",{className:"face-eye-outer",children:t.jsxs("div",{className:"face-eye-inner",children:[t.jsx("div",{className:"face-eye-pupil"}),t.jsx("div",{className:"face-eye-glow"})]})}),t.jsx("div",{className:"face-scan-line"})]})]}),t.jsx("div",{className:"face-splash-text",children:t.jsxs("h1",{className:"face-splash-title",children:["Advanced Face Recognition",t.jsx("br",{}),"Attendance System"]})}),t.jsxs("div",{className:"face-splash-loading",children:[t.jsx("div",{className:"face-loading-dot"}),t.jsx("div",{className:"face-loading-dot"}),t.jsx("div",{className:"face-loading-dot"})]})]})]})}function nj({service:s}){const e=s.thumbnail||"",n="http://localhost:5000",i={Plumber:"/images/icon-plumber.svg",Electrician:"/images/icon-electrician.svg",Tutor:"/images/icon-tutor.svg",Cleaning:"/images/icon-cleaning.svg",Mechanic:"/images/icon-mechanic.svg","AC Repair":"/images/icon-ac.svg","Appliance Repair":"/images/icon-appliance.svg"};let r=i[s.category]||"/images/placeholder-service.svg";e&&(e.includes("unsplash.com")?r=e:e.startsWith("http")?r=`${n}/api/proxy?url=${encodeURIComponent(e)}`:r=e);const a=c=>{const d=c.currentTarget;d.classList.add("error"),d.src=i[s.category]||"/images/placeholder-service.svg"},o=c=>{const d=c.currentTarget;d.classList.remove("loading"),d.classList.remove("error")},l=c=>{c.currentTarget.classList.add("loading")};return t.jsxs("div",{className:"card service",children:[r&&t.jsx("img",{className:"service-thumb",src:r,alt:s.title,onError:a,onLoad:o,onLoadStart:l,referrerPolicy:"no-referrer",crossOrigin:"anonymous"}),t.jsxs("div",{className:"service-body",children:[t.jsx("div",{className:"card-title",children:s.title}),t.jsx("div",{className:"card-sub",children:s.category}),t.jsxs("div",{className:"service-price",children:[" ",s.price.toFixed(0)]}),s.duration_minutes&&t.jsxs("div",{className:"service-duration",children:[" ",s.duration_minutes," mins"]}),s.difficulty&&t.jsxs("div",{className:"service-difficulty",children:[" ",s.difficulty]}),s.warranty_months&&s.warranty_months>0&&t.jsxs("div",{className:"service-warranty",children:[" ",s.warranty_months," months warranty"]}),s.eco_friendly&&t.jsx("span",{className:"chip chip-sm eco",children:" Eco-friendly"}),s.materials_included&&t.jsx("span",{className:"chip chip-sm",children:" Materials included"}),s.online_available&&t.jsx("span",{className:"chip chip-sm",children:" Online available"}),s.success_rate&&t.jsxs("span",{className:"chip chip-sm success",children:[" ",s.success_rate,"% success"]}),s.featured&&t.jsx("span",{className:"chip chip-sm featured",children:" Featured"}),s.rating&&t.jsxs("div",{className:"service-rating",children:[" ",parseFloat(s.rating.toFixed(2))]}),s.bookings&&t.jsxs("div",{className:"service-bookings",children:[" ",s.bookings," bookings"]}),s.tags&&s.tags.length>0&&t.jsx("div",{className:"service-tags",children:s.tags.slice(0,3).map(c=>t.jsx("span",{className:"tag",children:c},c))})]}),t.jsx("div",{className:"service-cta",children:t.jsx(he,{to:`/book/${s.id}`,className:"btn",children:"Book Now"})})]})}function gw(){var We,jt;const s=Ct(),{user:e}=vi(),[n,i]=f.useState(""),[r,a]=f.useState(""),[o,l]=f.useState(null),[c,d]=f.useState([]),[h,m]=f.useState([]),[p,g]=f.useState([]),[x,j]=f.useState(!0),[v,b]=f.useState("All"),[N,C]=f.useState("search"),[I,D]=f.useState([]),[$,E]=f.useState({totalServices:0,totalProviders:0,completedJobs:0,avgRating:0}),[k,_]=f.useState(null),[T,S]=f.useState([]),[F,L]=f.useState([]),[oe,A]=f.useState([]),[Z,Q]=f.useState([]),[q,P]=f.useState(!1),[G,U]=f.useState(!1),[re,W]=f.useState([]),[xe,Ce]=f.useState({activeUsers:1247,servicesInProgress:89,completedToday:156,avgResponseTime:12}),[Fe,Me]=f.useState([{id:"r1",userName:"Rahul S.",service:"Plumbing",rating:5,comment:"Quick and professional service!",timestamp:new Date(Date.now()-36e5)},{id:"r2",userName:"Priya M.",service:"AC Repair",rating:4,comment:"Good work, reasonable pricing",timestamp:new Date(Date.now()-72e5)},{id:"r3",userName:"Amit K.",service:"Cleaning",rating:5,comment:"Excellent cleaning service",timestamp:new Date(Date.now()-108e5)}]),[Ie,Ze]=f.useState([{id:"p1",title:"20% OFF First Booking",code:"FIRST20",description:"Save 20% on your first service booking",validUntil:new Date(Date.now()+7*24*36e5)},{id:"p2",title:"Free Inspection",code:"FREE10",description:"Get free inspection with any service",validUntil:new Date(Date.now()+3*24*36e5)},{id:"p3",title:"Emergency Priority",code:"URGENT",description:"Priority service for emergency bookings",validUntil:new Date(Date.now()+14*24*36e5)}]),we=[{name:"All",icon:"",color:"#f59e0b",description:"All Services"},{name:"Cleaning",icon:"",color:"#10b981",description:"Home & Office"},{name:"Plumber",icon:"",color:"#3b82f6",description:"Pipe & Drain"},{name:"Electrician",icon:"",color:"#f59e0b",description:"Wiring & Circuits"},{name:"Appliance Repair",icon:"",color:"#8b5cf6",description:"Home Appliances"},{name:"AC Repair",icon:"",color:"#06b6d4",description:"Cooling & Heating"},{name:"Mechanic",icon:"",color:"#ef4444",description:"Vehicle Service"},{name:"Tutor",icon:"",color:"#ec4899",description:"Education"},{name:"Carpenter",icon:"",color:"#f97316",description:"Wood Work"},{name:"Painter",icon:"",color:"#84cc16",description:"Painting"},{name:"Pest Control",icon:"",color:"#06b6d4",description:"Pest Removal"},{name:"Security",icon:"",color:"#6366f1",description:"Security Services"}],Le=[{id:"1",title:"Emergency Service",description:"Get immediate help",icon:"",route:"/emergency",color:"#ef4444",popular:!0},{id:"2",title:"Book Service",description:"Schedule a service",icon:"",route:"/book-service",color:"#3b82f6"},{id:"3",title:"Track Booking",description:"Monitor progress",icon:"",route:"/track-booking",color:"#10b981"},{id:"4",title:"Find Provider",description:"Browse professionals",icon:"",route:"/find-provider",color:"#f59e0b"},{id:"5",title:"My Bookings",description:"View appointments",icon:"",route:"/bookings",color:"#8b5cf6"},{id:"6",title:"Support",description:"Get help",icon:"",route:"/support",color:"#06b6d4"}];f.useEffect(()=>{ce(),ke(),tt(),yt(),gt(),Ee(),$e(),bt(),wt(),Et(),e&&(xt(),vt())},[e]);const bt=f.useCallback(()=>{Ce({activeUsers:1200+Math.floor(Math.random()*100),servicesInProgress:80+Math.floor(Math.random()*20),completedToday:140+Math.floor(Math.random()*30),avgResponseTime:10+Math.floor(Math.random()*5)})},[]),wt=f.useCallback(()=>{Me([{id:"r1",userName:"Rahul S.",service:"Plumbing",rating:5,comment:"Quick and professional service!",timestamp:new Date(Date.now()-36e5)},{id:"r2",userName:"Priya M.",service:"AC Repair",rating:4,comment:"Good work, reasonable pricing",timestamp:new Date(Date.now()-72e5)},{id:"r3",userName:"Amit K.",service:"Cleaning",rating:5,comment:"Excellent cleaning service",timestamp:new Date(Date.now()-108e5)}])},[]),Et=f.useCallback(()=>{Ze([{id:"p1",title:"20% OFF First Booking",code:"FIRST20",description:"Save 20% on your first service booking",validUntil:new Date(Date.now()+7*24*36e5)},{id:"p2",title:"Free Inspection",code:"FREE10",description:"Get free inspection with any service",validUntil:new Date(Date.now()+3*24*36e5)},{id:"p3",title:"Emergency Priority",code:"URGENT",description:"Priority service for emergency bookings",validUntil:new Date(Date.now()+14*24*36e5)}])},[]),gt=f.useCallback(()=>{Q(Le)},[]),ge=f.useCallback(B=>{navigator.clipboard.writeText(B.code),alert(`Promotion code ${B.code} copied to clipboard!`)},[]),J=f.useCallback(B=>{s(`/search?q=${B.service}`)},[s]),Ee=f.useCallback(async()=>{try{W([{id:"e1",title:"Emergency Plumbing",category:"Plumbing",price:2e3,urgency:!0,responseTime:30},{id:"e2",title:"24/7 Electrical",category:"Electrician",price:2500,urgency:!0,responseTime:45},{id:"e3",title:"Emergency AC Repair",category:"AC Repair",price:1800,urgency:!0,responseTime:60},{id:"e4",title:"Urgent Locksmith",category:"Security",price:1500,urgency:!0,responseTime:20}])}catch{W([{id:"e1",title:"Emergency Plumbing",category:"Plumbing",price:2e3,urgency:!0,responseTime:30},{id:"e2",title:"24/7 Electrical",category:"Electrician",price:2500,urgency:!0,responseTime:45},{id:"e3",title:"Emergency AC Repair",category:"AC Repair",price:1800,urgency:!0,responseTime:60},{id:"e4",title:"Urgent Locksmith",category:"Security",price:1500,urgency:!0,responseTime:20}])}},[]),$e=f.useCallback(async()=>{try{A([{category:"AC Repair",growth:25,demand:"high",avgPrice:1800},{category:"Plumbing",growth:18,demand:"high",avgPrice:1200},{category:"Cleaning",growth:15,demand:"medium",avgPrice:800},{category:"Electrical",growth:12,demand:"medium",avgPrice:1500}])}catch(B){console.error("Failed to load trending data:",B)}},[]),vt=f.useCallback(async()=>{if(e)try{S([{id:"n1",type:"success",title:"Booking Confirmed",message:"Your plumbing service is confirmed for tomorrow",timestamp:new Date,read:!1},{id:"n2",type:"info",title:"New Message",message:"Provider sent you an update",timestamp:new Date(Date.now()-36e5),read:!1},{id:"n3",type:"warning",title:"Payment Due",message:"Complete payment for your recent service",timestamp:new Date(Date.now()-72e5),read:!0}])}catch(B){console.error("Failed to load notifications:",B)}},[e]),xt=f.useCallback(async()=>{if(e)try{L([{id:"a1",action:"Booked Service",timestamp:new Date(Date.now()-864e5),details:"Plumbing service booked"},{id:"a2",action:"Payment Made",timestamp:new Date(Date.now()-1728e5),details:"Paid for cleaning service"},{id:"a3",action:"Review Left",timestamp:new Date(Date.now()-2592e5),details:"Rated provider 5 stars"}])}catch(B){console.error("Failed to load user activity:",B)}},[e]),At=f.useCallback(B=>{try{navigator.vibrate&&navigator.vibrate(50);const z=document.querySelector(`[data-action-id="${B.id}"]`);z&&(z.classList.add("action-tapped"),setTimeout(()=>z.classList.remove("action-tapped"),200)),B.route==="/emergency"?s("/emergency",{state:{fromQuickAction:!0,timestamp:Date.now()}}):B.route==="/book"?s("/book-service",{state:{fromQuickAction:!0}}):B.route==="/track"?s("/track-booking",{state:{fromQuickAction:!0}}):B.route==="/provider"?s("/find-provider",{state:{fromQuickAction:!0}}):B.route==="/bookings"?s("/bookings",{state:{fromQuickAction:!0}}):B.route==="/support"?s("/support",{state:{fromQuickAction:!0}}):s(B.route,{state:{fromQuickAction:!0}})}catch(z){console.error("Quick action navigation failed:",z),window.location.href=B.route}},[s]),K=f.useCallback(B=>{s(`/book/${B.id}?emergency=true`)},[s]),O=f.useCallback(B=>{S(z=>z.map(ye=>ye.id===B?{...ye,read:!0}:ye))},[]),se=f.useMemo(()=>T.filter(B=>!B.read).length,[T]);async function ce(){try{m([{id:"1",title:"AC Repair",category:"AC Repair",price:1500,rating:4.8,featured:!0,bookings:120,thumbnail:"/images/ac-service.jpg",description:"Professional AC repair and maintenance services"},{id:"2",title:"Plumbing Services",category:"Plumbing",price:1200,rating:4.7,featured:!0,bookings:98,thumbnail:"/images/plumbing.jpg",description:"Expert plumbing solutions for all issues"},{id:"3",title:"Home Cleaning",category:"Cleaning",price:800,rating:4.9,featured:!0,bookings:156,thumbnail:"/images/cleaning.jpg",description:"Thorough home cleaning services"},{id:"4",title:"Electrical Work",category:"Electrical",price:1800,rating:4.6,featured:!0,bookings:87,thumbnail:"/images/electrical.jpg",description:"Safe and reliable electrical services"},{id:"5",title:"Pest Control",category:"Pest Control",price:1e3,rating:4.5,featured:!0,bookings:65,thumbnail:"/images/pest-control.jpg",description:"Effective pest control solutions"},{id:"6",title:"Painting Services",category:"Painting",price:2500,rating:4.8,featured:!0,bookings:112,thumbnail:"/images/painting.jpg",description:"Professional painting and decoration"}]),_(null)}catch(B){console.error("Failed to load trending services:",B),_("Failed to load services. Using demo data."),m([{id:"1",title:"AC Repair",category:"AC Repair",price:1500,rating:4.8,featured:!0,bookings:120,thumbnail:"/images/ac-service.jpg",description:"Professional AC repair and maintenance services"},{id:"2",title:"Plumbing Services",category:"Plumbing",price:1200,rating:4.7,featured:!0,bookings:98,thumbnail:"/images/plumbing.jpg",description:"Expert plumbing solutions for all issues"},{id:"3",title:"Home Cleaning",category:"Cleaning",price:800,rating:4.9,featured:!0,bookings:156,thumbnail:"/images/cleaning.jpg",description:"Thorough home cleaning services"},{id:"4",title:"Electrical Work",category:"Electrical",price:1800,rating:4.6,featured:!0,bookings:87,thumbnail:"/images/electrical.jpg",description:"Safe and reliable electrical services"},{id:"5",title:"Pest Control",category:"Pest Control",price:1e3,rating:4.5,featured:!0,bookings:65,thumbnail:"/images/pest-control.jpg",description:"Effective pest control solutions"},{id:"6",title:"Painting Services",category:"Painting",price:2500,rating:4.8,featured:!0,bookings:112,thumbnail:"/images/painting.jpg",description:"Professional painting and decoration"}])}finally{j(!1)}}async function ke(){try{g([{id:1,name:"QuickFix Pro",rating:4.9,jobs:1247,specialty:"Plumbing",verified:!0},{id:2,name:"Sparkle Clean",rating:4.8,jobs:892,specialty:"Cleaning",verified:!0},{id:3,name:"ElectroSafe",rating:5,jobs:634,specialty:"Electrical",verified:!0},{id:4,name:"CoolAir Experts",rating:4.7,jobs:445,specialty:"AC Repair",verified:!0}]),_(null)}catch(B){console.error("Failed to load providers:",B),_("Failed to load providers. Using demo data."),g([{id:1,name:"QuickFix Pro",rating:4.9,jobs:1247,specialty:"Plumbing",verified:!0},{id:2,name:"Sparkle Clean",rating:4.8,jobs:892,specialty:"Cleaning",verified:!0},{id:3,name:"ElectroSafe",rating:5,jobs:634,specialty:"Electrical",verified:!0},{id:4,name:"CoolAir Experts",rating:4.7,jobs:445,specialty:"AC Repair",verified:!0}])}}async function tt(){try{E({totalServices:150,totalProviders:85,completedJobs:2500,avgRating:4.8})}catch(B){console.error("Failed to load stats:",B),E({totalServices:150,totalProviders:85,completedJobs:2500,avgRating:4.8})}}function yt(){const B=localStorage.getItem("searchHistory");B&&D(JSON.parse(B))}async function ht(B){if(B.trim()){j(!0),_(null);try{const z=[{id:"1",title:`${B} Service`,category:"General",price:1e3,rating:4.5,featured:!1,bookings:50,thumbnail:"/images/service1.jpg",description:`Professional ${B} services`},{id:"2",title:`Expert ${B}`,category:"Professional",price:1500,rating:4.7,featured:!1,bookings:75,thumbnail:"/images/service2.jpg",description:`Expert ${B} solutions`},{id:"3",title:`${B} Pro`,category:"Premium",price:2e3,rating:4.8,featured:!1,bookings:100,thumbnail:"/images/service3.jpg",description:`Premium ${B} services`}];m(z),D(ye=>[B,...ye.filter(pe=>pe!==B)].slice(0,5))}catch(z){console.error("Search failed:",z),_("Search failed. Showing related services."),m([{id:"1",title:`${B} Service`,category:"General",price:1e3,rating:4.5,featured:!1,bookings:50,thumbnail:"/images/service1.jpg",description:`Professional ${B} services`},{id:"2",title:`Expert ${B}`,category:"Professional",price:1500,rating:4.7,featured:!1,bookings:75,thumbnail:"/images/service2.jpg",description:`Expert ${B} solutions`},{id:"3",title:`${B} Pro`,category:"Premium",price:2e3,rating:4.8,featured:!1,bookings:100,thumbnail:"/images/service3.jpg",description:`Premium ${B} services`}])}finally{j(!1)}}}async function V(){if(!(!r.trim()&&!n.trim())){j(!0),_(null);try{l({categories:["Plumbing","Cleaning","Electrician"],providers:[{id:1,name:"QuickFix Pro",rating:4.9,reason:"Fast response time"},{id:2,name:"Sparkle Clean",rating:4.8,reason:"Excellent reviews"},{id:3,name:"ElectroSafe",rating:5,reason:"Certified professionals"}],reason:"Based on your description, these services match your needs."})}catch(B){console.error("AI recommendation failed:",B),_("AI service unavailable. Showing demo recommendations."),l({categories:["Plumbing","Cleaning","Electrician"],providers:[{id:1,name:"QuickFix Pro",rating:4.9,reason:"Fast response time"},{id:2,name:"Sparkle Clean",rating:4.8,reason:"Excellent reviews"},{id:3,name:"ElectroSafe",rating:5,reason:"Certified professionals"}],reason:"Based on your description, these services match your needs."})}finally{j(!1)}}}function ee(B){b(B),_(null),B==="All"?(i(""),d([]),ce()):(i(B),ht(B))}function de(B){C(B),_(null)}return t.jsxs("div",{className:"advanced-home",children:[e&&t.jsxs("div",{className:"user-header",children:[t.jsxs("div",{className:"user-info",children:[t.jsx("div",{className:"user-avatar",children:t.jsx("span",{children:((We=e.displayName)==null?void 0:We[0])||"U"})}),t.jsxs("div",{className:"user-details",children:[t.jsxs("h3",{children:["Welcome, ",e.displayName]}),t.jsx("p",{children:e.email})]})]}),t.jsxs("div",{className:"user-actions",children:[t.jsxs("button",{className:"notification-btn",onClick:()=>P(!q),children:["",se>0&&t.jsx("span",{className:"notification-badge",children:se})]}),t.jsx("button",{className:"profile-btn",onClick:()=>U(!G),children:""})]}),q&&t.jsxs("div",{className:"notifications-dropdown",children:[t.jsx("h4",{children:"Notifications"}),T.length===0?t.jsx("p",{children:"No new notifications"}):T.map(B=>t.jsx("div",{className:`notification-item ${B.read?"":"unread"}`,onClick:()=>O(B.id),children:t.jsxs("div",{className:"notification-content",children:[t.jsx("h5",{children:B.title}),t.jsx("p",{children:B.message}),t.jsx("span",{className:"notification-time",children:new Date(B.timestamp).toLocaleTimeString()})]})},B.id))]})]}),t.jsxs("section",{className:"quick-actions-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Quick Actions"}),t.jsx("p",{className:"section-subtitle",children:"Get started with our most popular services"})]}),t.jsx("div",{className:"quick-actions-grid",children:Z.map(B=>t.jsxs("button",{className:`quick-action-card ${B.popular?"popular":""}`,onClick:()=>At(B),style:{"--action-color":B.color},"data-action-id":B.id,children:[t.jsx("div",{className:"action-icon",children:B.icon}),t.jsxs("div",{className:"action-content",children:[t.jsx("h3",{className:"action-title",children:B.title}),t.jsx("p",{className:"action-description",children:B.description})]}),B.popular&&t.jsx("div",{className:"popular-badge",children:t.jsx("span",{children:" Popular"})}),t.jsx("div",{className:"action-arrow",children:""}),t.jsx("div",{className:"action-ripple"})]},B.id))})]}),t.jsxs("section",{className:"emergency-services-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsxs("h2",{className:"section-title",children:[t.jsx("span",{className:"emergency-icon",children:""}),"Emergency Services"]}),t.jsx("p",{className:"section-subtitle",children:"24/7 immediate assistance for urgent needs"})]}),t.jsx("div",{className:"emergency-services-grid",children:re.map(B=>t.jsxs("div",{className:"emergency-service-card",children:[t.jsxs("div",{className:"emergency-header",children:[t.jsx("h3",{children:B.title}),t.jsxs("div",{className:"emergency-badge",children:[t.jsx("span",{className:"pulse-dot"}),t.jsx("span",{children:"24/7"})]})]}),t.jsxs("div",{className:"emergency-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("span",{children:["Response: ",B.responseTime," mins"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("span",{children:["",B.price]})]})]}),t.jsx("button",{className:"emergency-book-btn",onClick:()=>K(B),children:"Book Emergency Service"})]},B.id))})]}),t.jsxs("section",{className:"realtime-stats-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsxs("h2",{className:"section-title",children:[t.jsx("span",{className:"live-indicator",children:""}),"Live Platform Activity"]}),t.jsx("p",{className:"section-subtitle",children:"Real-time service metrics and activity"})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:xe.activeUsers}),t.jsx("p",{children:"Active Users"}),t.jsx("span",{className:"stat-change",children:"+12% from yesterday"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:xe.servicesInProgress}),t.jsx("p",{children:"Services In Progress"}),t.jsx("span",{className:"stat-change",children:"Real-time"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:xe.completedToday}),t.jsx("p",{children:"Completed Today"}),t.jsx("span",{className:"stat-change",children:"+8% from yesterday"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("h3",{children:[xe.avgResponseTime,"m"]}),t.jsx("p",{children:"Avg Response Time"}),t.jsx("span",{className:"stat-change",children:"Excellent"})]})]})]})]}),t.jsxs("section",{className:"promotions-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsxs("h2",{className:"section-title",children:[t.jsx("span",{className:"promo-icon",children:""}),"Exclusive Offers"]}),t.jsx("p",{className:"section-subtitle",children:"Limited time promotions and discounts"})]}),t.jsx("div",{className:"promotions-grid",children:Ie.map(B=>t.jsxs("div",{className:"promotion-card",children:[t.jsxs("div",{className:"promo-header",children:[t.jsx("h3",{children:B.title}),t.jsx("div",{className:"promo-badge",children:t.jsx("span",{children:"LIMITED TIME"})})]}),t.jsx("p",{className:"promo-description",children:B.description}),t.jsxs("div",{className:"promo-footer",children:[t.jsxs("div",{className:"promo-code",children:[t.jsx("span",{className:"code-label",children:"Code:"}),t.jsx("span",{className:"code-value",children:B.code})]}),t.jsx("button",{className:"promo-claim-btn",onClick:()=>ge(B),children:"Copy Code"})]}),t.jsxs("div",{className:"promo-expiry",children:[t.jsx("span",{className:"expiry-icon",children:""}),t.jsxs("span",{children:["Valid until ",new Date(B.validUntil).toLocaleDateString()]})]})]},B.id))})]}),t.jsxs("section",{className:"reviews-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsxs("h2",{className:"section-title",children:[t.jsx("span",{className:"reviews-icon",children:""}),"Recent Customer Reviews"]}),t.jsx("p",{className:"section-subtitle",children:"What our customers are saying"})]}),t.jsx("div",{className:"reviews-grid",children:Fe.map(B=>t.jsxs("div",{className:"review-card",onClick:()=>J(B),children:[t.jsxs("div",{className:"review-header",children:[t.jsxs("div",{className:"reviewer-info",children:[t.jsx("div",{className:"reviewer-avatar",children:t.jsx("span",{children:B.userName[0]})}),t.jsxs("div",{className:"reviewer-details",children:[t.jsx("h4",{children:B.userName}),t.jsx("span",{className:"review-service",children:B.service})]})]}),t.jsx("div",{className:"review-rating",children:[...Array(5)].map((z,ye)=>t.jsx("span",{className:ye<B.rating?"star filled":"star",children:ye<B.rating?"":""},ye))})]}),t.jsx("p",{className:"review-comment",children:B.comment}),t.jsxs("div",{className:"review-footer",children:[t.jsx("span",{className:"review-time",children:new Date(B.timestamp).toLocaleTimeString()}),t.jsx("button",{className:"review-action",children:"View Service "})]})]},B.id))})]}),oe.length>0&&t.jsxs("section",{className:"trending-analytics-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Trending Services"}),t.jsx("p",{className:"section-subtitle",children:"Most popular services this week"})]}),t.jsx("div",{className:"trending-cards",children:oe.map((B,z)=>t.jsxs("div",{className:"trending-card",children:[t.jsxs("div",{className:"trending-header",children:[t.jsx("h3",{children:B.category}),t.jsxs("div",{className:`demand-badge ${B.demand}`,children:[B.demand," demand"]})]}),t.jsxs("div",{className:"trending-stats",children:[t.jsxs("div",{className:"growth-indicator",children:[t.jsx("span",{className:"growth-arrow",children:""}),t.jsxs("span",{className:"growth-value",children:["+",B.growth,"%"]})]}),t.jsxs("div",{className:"avg-price",children:[t.jsx("span",{className:"price-label",children:"Avg. Price"}),t.jsxs("span",{className:"price-value",children:["",B.avgPrice]})]})]})]},B.category))})]}),t.jsxs("section",{className:"hero-advanced",children:[t.jsxs("div",{className:"hero-background",children:[t.jsx("div",{className:"hero-particles"}),t.jsx("div",{className:"hero-gradient"})]}),t.jsxs("div",{className:"hero-content",children:[t.jsxs("div",{className:"hero-badge",children:[t.jsx("span",{className:"badge-icon",children:""}),t.jsx("span",{children:"Trusted by 10,000+ customers"})]}),t.jsxs("h1",{className:"hero-title",children:[t.jsx("span",{className:"title-gradient",children:"Professional Services"}),t.jsx("br",{}),t.jsx("span",{className:"title-highlight",children:"at Your Fingertips"})]}),t.jsx("p",{className:"hero-description",children:"Connect with verified professionals for all your home service needs. Quality guaranteed, transparent pricing, and instant booking."}),t.jsxs("div",{className:"search-advanced",children:[t.jsxs("div",{className:"search-tabs",children:[t.jsx("button",{className:`search-tab ${N==="search"?"active":""}`,onClick:()=>de("search"),children:" Search"}),t.jsx("button",{className:`search-tab ${N==="ai"?"active":""}`,onClick:()=>de("ai"),children:" AI Assistant"})]}),t.jsxs("div",{className:"search-content",children:[t.jsxs("div",{className:"search-input-group",children:[t.jsxs("div",{className:"input-wrapper",children:[t.jsx("input",{className:"search-input",placeholder:"What service do you need? e.g., fix leaking pipe...",value:n,onChange:B=>i(B.target.value),onKeyPress:B=>B.key==="Enter"&&ht(n)}),t.jsx("button",{className:"search-btn",onClick:()=>ht(n),disabled:x||!n.trim(),children:x?"":""})]}),t.jsxs("div",{className:"ai-input-wrapper",children:[t.jsx("input",{className:"ai-input",placeholder:"Describe your issue for AI recommendations...",value:r,onChange:B=>a(B.target.value),onKeyPress:B=>B.key==="Enter"&&V()}),t.jsx("button",{className:"ai-btn",onClick:()=>V(),disabled:x||!r.trim()&&!n.trim(),children:x?"":""})]})]}),I.length>0&&t.jsxs("div",{className:"search-history",children:[t.jsx("span",{className:"history-label",children:"Recent searches:"}),I.map((B,z)=>t.jsx("button",{className:"history-item",onClick:()=>{i(B),C("search"),ht(B)},children:B},z))]}),k&&t.jsxs("div",{className:"error-message",children:[t.jsx("span",{className:"error-icon",children:""}),t.jsx("span",{children:k})]})]})]}),t.jsx("div",{className:"categories-advanced",children:t.jsx("div",{className:"categories-grid",children:we.map(B=>t.jsxs("button",{className:`category-pill ${v===B.name?"active":""}`,onClick:()=>ee(B.name),style:{"--category-color":B.color},children:[t.jsx("span",{className:"category-icon",children:B.icon}),t.jsx("span",{className:"category-name",children:B.name})]},B.name))})})]})]}),t.jsx("section",{className:"stats-section",children:t.jsxs("div",{className:"stats-container",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("div",{className:"stat-number",children:[$.totalServices,"+"]}),t.jsx("div",{className:"stat-label",children:"Services"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("div",{className:"stat-number",children:[$.totalProviders,"+"]}),t.jsx("div",{className:"stat-label",children:"Verified Pros"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("div",{className:"stat-number",children:[$.completedJobs.toLocaleString(),"+"]}),t.jsx("div",{className:"stat-label",children:"Jobs Completed"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:((jt=$.avgRating)==null?void 0:jt.toFixed(1))||"0.0"}),t.jsx("div",{className:"stat-label",children:"Average Rating"})]})]})]})}),o&&t.jsxs("section",{className:"ai-recommendations",children:[t.jsxs("div",{className:"ai-header",children:[t.jsxs("div",{className:"ai-badge",children:[t.jsx("span",{className:"ai-icon",children:""}),t.jsx("span",{children:"AI Recommendations"})]}),t.jsx("p",{className:"ai-description",children:"Smart suggestions based on your needs"})]}),t.jsxs("div",{className:"ai-content",children:[t.jsxs("div",{className:"ai-categories",children:[t.jsx("h4",{children:"Recommended Categories"}),t.jsx("div",{className:"category-tags",children:o.categories.map((B,z)=>t.jsx("span",{className:"category-tag",children:B},z))})]}),t.jsxs("div",{className:"ai-providers",children:[t.jsx("h4",{children:"Top Providers"}),t.jsx("div",{className:"provider-list",children:o.providers.map((B,z)=>t.jsxs("div",{className:"provider-item",children:[t.jsxs("div",{className:"provider-info",children:[t.jsx("div",{className:"provider-name",children:B.name}),t.jsxs("div",{className:"provider-rating",children:[" ",B.rating]})]}),t.jsx("div",{className:"provider-reason",children:B.reason})]},B.id))})]}),t.jsx("div",{className:"ai-footer",children:t.jsx("p",{className:"ai-note",children:o.reason})})]})]}),t.jsxs("section",{className:"featured-providers",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Featured Professionals"}),t.jsx(he,{to:"/providers",className:"view-all-link",children:"View All "})]}),t.jsx("div",{className:"providers-grid",children:p.map(B=>t.jsxs("div",{className:"provider-card",children:[t.jsxs("div",{className:"provider-header",children:[t.jsxs("div",{className:"provider-avatar",children:[t.jsx("span",{className:"avatar-icon",children:""}),B.verified&&t.jsx("span",{className:"verified-badge",children:""})]}),t.jsxs("div",{className:"provider-details",children:[t.jsx("h3",{className:"provider-name",children:B.name}),t.jsx("p",{className:"provider-specialty",children:B.specialty})]})]}),t.jsxs("div",{className:"provider-stats",children:[t.jsxs("div",{className:"stat",children:[t.jsxs("span",{className:"stat-value",children:[" ",B.rating]}),t.jsx("span",{className:"stat-label",children:"Rating"})]}),t.jsxs("div",{className:"stat",children:[t.jsx("span",{className:"stat-value",children:B.jobs}),t.jsx("span",{className:"stat-label",children:"Jobs"})]})]}),t.jsx("button",{className:"book-provider-btn",children:"Book Now"})]},B.id))})]}),c.length>0&&t.jsxs("section",{className:"search-results",children:[t.jsxs("div",{className:"results-header",children:[t.jsx("h2",{className:"results-title",children:"Search Results"}),t.jsxs("span",{className:"results-count",children:[c.length," services found"]})]}),t.jsx("div",{className:"services-grid",children:c.map(B=>t.jsx(nj,{service:B},B.id))})]})]})}function NE(s,e){return function(){return s.apply(e,arguments)}}const{toString:h6}=Object.prototype,{getPrototypeOf:ij}=Object,{iterator:gp,toStringTag:bE}=Symbol,vp=(s=>e=>{const n=h6.call(e);return s[n]||(s[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Jn=s=>(s=s.toLowerCase(),e=>vp(e)===s),xp=s=>e=>typeof e===s,{isArray:Nl}=Array,sl=xp("undefined");function qd(s){return s!==null&&!sl(s)&&s.constructor!==null&&!sl(s.constructor)&&ln(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const wE=Jn("ArrayBuffer");function m6(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&wE(s.buffer),e}const p6=xp("string"),ln=xp("function"),SE=xp("number"),zd=s=>s!==null&&typeof s=="object",f6=s=>s===!0||s===!1,gh=s=>{if(vp(s)!=="object")return!1;const e=ij(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(bE in s)&&!(gp in s)},g6=s=>{if(!zd(s)||qd(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},v6=Jn("Date"),x6=Jn("File"),y6=Jn("Blob"),j6=Jn("FileList"),N6=s=>zd(s)&&ln(s.pipe),b6=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||ln(s.append)&&((e=vp(s))==="formdata"||e==="object"&&ln(s.toString)&&s.toString()==="[object FormData]"))},w6=Jn("URLSearchParams"),[S6,k6,_6,C6]=["ReadableStream","Request","Response","Headers"].map(Jn),T6=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wd(s,e,{allOwnKeys:n=!1}={}){if(s===null||typeof s>"u")return;let i,r;if(typeof s!="object"&&(s=[s]),Nl(s))for(i=0,r=s.length;i<r;i++)e.call(null,s[i],i,s);else{if(qd(s))return;const a=n?Object.getOwnPropertyNames(s):Object.keys(s),o=a.length;let l;for(i=0;i<o;i++)l=a[i],e.call(null,s[l],l,s)}}function kE(s,e){if(qd(s))return null;e=e.toLowerCase();const n=Object.keys(s);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_E=s=>!sl(s)&&s!==ua;function jv(){const{caseless:s,skipUndefined:e}=_E(this)&&this||{},n={},i=(r,a)=>{const o=s&&kE(n,a)||a;gh(n[o])&&gh(r)?n[o]=jv(n[o],r):gh(r)?n[o]=jv({},r):Nl(r)?n[o]=r.slice():(!e||!sl(r))&&(n[o]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Wd(arguments[r],i);return n}const E6=(s,e,n,{allOwnKeys:i}={})=>(Wd(e,(r,a)=>{n&&ln(r)?s[a]=NE(r,n):s[a]=r},{allOwnKeys:i}),s),P6=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),A6=(s,e,n,i)=>{s.prototype=Object.create(e.prototype,i),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),n&&Object.assign(s.prototype,n)},R6=(s,e,n,i)=>{let r,a,o;const l={};if(e=e||{},s==null)return e;do{for(r=Object.getOwnPropertyNames(s),a=r.length;a-- >0;)o=r[a],(!i||i(o,s,e))&&!l[o]&&(e[o]=s[o],l[o]=!0);s=n!==!1&&ij(s)}while(s&&(!n||n(s,e))&&s!==Object.prototype);return e},I6=(s,e,n)=>{s=String(s),(n===void 0||n>s.length)&&(n=s.length),n-=e.length;const i=s.indexOf(e,n);return i!==-1&&i===n},D6=s=>{if(!s)return null;if(Nl(s))return s;let e=s.length;if(!SE(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=s[e];return n},M6=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&ij(Uint8Array)),L6=(s,e)=>{const i=(s&&s[gp]).call(s);let r;for(;(r=i.next())&&!r.done;){const a=r.value;e.call(s,a[0],a[1])}},O6=(s,e)=>{let n;const i=[];for(;(n=s.exec(e))!==null;)i.push(n);return i},V6=Jn("HTMLFormElement"),F6=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),vw=(({hasOwnProperty:s})=>(e,n)=>s.call(e,n))(Object.prototype),B6=Jn("RegExp"),CE=(s,e)=>{const n=Object.getOwnPropertyDescriptors(s),i={};Wd(n,(r,a)=>{let o;(o=e(r,a,s))!==!1&&(i[a]=o||r)}),Object.defineProperties(s,i)},U6=s=>{CE(s,(e,n)=>{if(ln(s)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=s[n];if(ln(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$6=(s,e)=>{const n={},i=r=>{r.forEach(a=>{n[a]=!0})};return Nl(s)?i(s):i(String(s).split(e)),n},q6=()=>{},z6=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function W6(s){return!!(s&&ln(s.append)&&s[bE]==="FormData"&&s[gp])}const H6=s=>{const e=new Array(10),n=(i,r)=>{if(zd(i)){if(e.indexOf(i)>=0)return;if(qd(i))return i;if(!("toJSON"in i)){e[r]=i;const a=Nl(i)?[]:{};return Wd(i,(o,l)=>{const c=n(o,r+1);!sl(c)&&(a[l]=c)}),e[r]=void 0,a}}return i};return n(s,0)},G6=Jn("AsyncFunction"),K6=s=>s&&(zd(s)||ln(s))&&ln(s.then)&&ln(s.catch),TE=((s,e)=>s?setImmediate:e?((n,i)=>(ua.addEventListener("message",({source:r,data:a})=>{r===ua&&a===n&&i.length&&i.shift()()},!1),r=>{i.push(r),ua.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ln(ua.postMessage)),Q6=typeof queueMicrotask<"u"?queueMicrotask.bind(ua):typeof process<"u"&&process.nextTick||TE,Y6=s=>s!=null&&ln(s[gp]),X={isArray:Nl,isArrayBuffer:wE,isBuffer:qd,isFormData:b6,isArrayBufferView:m6,isString:p6,isNumber:SE,isBoolean:f6,isObject:zd,isPlainObject:gh,isEmptyObject:g6,isReadableStream:S6,isRequest:k6,isResponse:_6,isHeaders:C6,isUndefined:sl,isDate:v6,isFile:x6,isBlob:y6,isRegExp:B6,isFunction:ln,isStream:N6,isURLSearchParams:w6,isTypedArray:M6,isFileList:j6,forEach:Wd,merge:jv,extend:E6,trim:T6,stripBOM:P6,inherits:A6,toFlatObject:R6,kindOf:vp,kindOfTest:Jn,endsWith:I6,toArray:D6,forEachEntry:L6,matchAll:O6,isHTMLForm:V6,hasOwnProperty:vw,hasOwnProp:vw,reduceDescriptors:CE,freezeMethods:U6,toObjectSet:$6,toCamelCase:F6,noop:q6,toFiniteNumber:z6,findKey:kE,global:ua,isContextDefined:_E,isSpecCompliantForm:W6,toJSONObject:H6,isAsyncFn:G6,isThenable:K6,setImmediate:TE,asap:Q6,isIterable:Y6};function et(s,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}X.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const EE=et.prototype,PE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{PE[s]={value:s}});Object.defineProperties(et,PE);Object.defineProperty(EE,"isAxiosError",{value:!0});et.from=(s,e,n,i,r,a)=>{const o=Object.create(EE);X.toFlatObject(s,o,function(h){return h!==Error.prototype},d=>d!=="isAxiosError");const l=s&&s.message?s.message:"Error",c=e==null&&s?s.code:e;return et.call(o,l,c,n,i,r),s&&o.cause==null&&Object.defineProperty(o,"cause",{value:s,configurable:!0}),o.name=s&&s.name||"Error",a&&Object.assign(o,a),o};const J6=null;function Nv(s){return X.isPlainObject(s)||X.isArray(s)}function AE(s){return X.endsWith(s,"[]")?s.slice(0,-2):s}function xw(s,e,n){return s?s.concat(e).map(function(r,a){return r=AE(r),!n&&a?"["+r+"]":r}).join(n?".":""):e}function X6(s){return X.isArray(s)&&!s.some(Nv)}const Z6=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function yp(s,e,n){if(!X.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,v){return!X.isUndefined(v[j])});const i=n.metaTokens,r=n.visitor||h,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(r))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(X.isDate(x))return x.toISOString();if(X.isBoolean(x))return x.toString();if(!c&&X.isBlob(x))throw new et("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(x)||X.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,j,v){let b=x;if(x&&!v&&typeof x=="object"){if(X.endsWith(j,"{}"))j=i?j:j.slice(0,-2),x=JSON.stringify(x);else if(X.isArray(x)&&X6(x)||(X.isFileList(x)||X.endsWith(j,"[]"))&&(b=X.toArray(x)))return j=AE(j),b.forEach(function(C,I){!(X.isUndefined(C)||C===null)&&e.append(o===!0?xw([j],I,a):o===null?j:j+"[]",d(C))}),!1}return Nv(x)?!0:(e.append(xw(v,j,a),d(x)),!1)}const m=[],p=Object.assign(Z6,{defaultVisitor:h,convertValue:d,isVisitable:Nv});function g(x,j){if(!X.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+j.join("."));m.push(x),X.forEach(x,function(b,N){(!(X.isUndefined(b)||b===null)&&r.call(e,b,X.isString(N)?N.trim():N,j,p))===!0&&g(b,j?j.concat(N):[N])}),m.pop()}}if(!X.isObject(s))throw new TypeError("data must be an object");return g(s),e}function yw(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function rj(s,e){this._pairs=[],s&&yp(s,this,e)}const RE=rj.prototype;RE.append=function(e,n){this._pairs.push([e,n])};RE.toString=function(e){const n=e?function(i){return e.call(this,i,yw)}:yw;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function e9(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function IE(s,e,n){if(!e)return s;const i=n&&n.encode||e9;X.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(e,n):a=X.isURLSearchParams(e)?e.toString():new rj(e,n).toString(i),a){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+a}return s}class jw{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(i){i!==null&&e(i)})}}const DE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t9=typeof URLSearchParams<"u"?URLSearchParams:rj,s9=typeof FormData<"u"?FormData:null,n9=typeof Blob<"u"?Blob:null,i9={isBrowser:!0,classes:{URLSearchParams:t9,FormData:s9,Blob:n9},protocols:["http","https","file","blob","url","data"]},aj=typeof window<"u"&&typeof document<"u",bv=typeof navigator=="object"&&navigator||void 0,r9=aj&&(!bv||["ReactNative","NativeScript","NS"].indexOf(bv.product)<0),a9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o9=aj&&window.location.href||"http://localhost",l9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:aj,hasStandardBrowserEnv:r9,hasStandardBrowserWebWorkerEnv:a9,navigator:bv,origin:o9},Symbol.toStringTag,{value:"Module"})),Bs={...l9,...i9};function c9(s,e){return yp(s,new Bs.classes.URLSearchParams,{visitor:function(n,i,r,a){return Bs.isNode&&X.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function d9(s){return X.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function u9(s){const e={},n=Object.keys(s);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],e[a]=s[a];return e}function ME(s){function e(n,i,r,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&X.isArray(r)?r.length:o,c?(X.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!l):((!r[o]||!X.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],a)&&X.isArray(r[o])&&(r[o]=u9(r[o])),!l)}if(X.isFormData(s)&&X.isFunction(s.entries)){const n={};return X.forEachEntry(s,(i,r)=>{e(d9(i),r,n,0)}),n}return null}function h9(s,e,n){if(X.isString(s))try{return(e||JSON.parse)(s),X.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(s)}const Hd={transitional:DE,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,a=X.isObject(e);if(a&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return r?JSON.stringify(ME(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return c9(e,this.formSerializer).toString();if((l=X.isFileList(e))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return yp(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),h9(e)):e}],transformResponse:[function(e){const n=this.transitional||Hd.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?et.from(l,et.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bs.classes.FormData,Blob:Bs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],s=>{Hd.headers[s]={}});const m9=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p9=s=>{const e={};let n,i,r;return s&&s.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&m9[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Nw=Symbol("internals");function Jl(s){return s&&String(s).trim().toLowerCase()}function vh(s){return s===!1||s==null?s:X.isArray(s)?s.map(vh):String(s)}function f9(s){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(s);)e[i[1]]=i[2];return e}const g9=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Sf(s,e,n,i,r){if(X.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!X.isString(e)){if(X.isString(i))return e.indexOf(i)!==-1;if(X.isRegExp(i))return i.test(e)}}function v9(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function x9(s,e){const n=X.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(s,i+n,{value:function(r,a,o){return this[i].call(this,e,r,a,o)},configurable:!0})})}let cn=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function a(l,c,d){const h=Jl(c);if(!h)throw new Error("header name must be a non-empty string");const m=X.findKey(r,h);(!m||r[m]===void 0||d===!0||d===void 0&&r[m]!==!1)&&(r[m||c]=vh(l))}const o=(l,c)=>X.forEach(l,(d,h)=>a(d,h,c));if(X.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(X.isString(e)&&(e=e.trim())&&!g9(e))o(p9(e),n);else if(X.isObject(e)&&X.isIterable(e)){let l={},c,d;for(const h of e){if(!X.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?X.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=Jl(e),e){const i=X.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return f9(r);if(X.isFunction(n))return n.call(this,r,i);if(X.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Jl(e),e){const i=X.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Sf(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function a(o){if(o=Jl(o),o){const l=X.findKey(i,o);l&&(!n||Sf(i,i[l],l,n))&&(delete i[l],r=!0)}}return X.isArray(e)?e.forEach(a):a(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const a=n[i];(!e||Sf(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){const n=this,i={};return X.forEach(this,(r,a)=>{const o=X.findKey(i,a);if(o){n[o]=vh(r),delete n[a];return}const l=e?v9(a):String(a).trim();l!==a&&delete n[a],n[l]=vh(r),i[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return X.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&X.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Nw]=this[Nw]={accessors:{}}).accessors,r=this.prototype;function a(o){const l=Jl(o);i[l]||(x9(r,o),i[l]=!0)}return X.isArray(e)?e.forEach(a):a(e),this}};cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(cn.prototype,({value:s},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(i){this[n]=i}}});X.freezeMethods(cn);function kf(s,e){const n=this||Hd,i=e||n,r=cn.from(i.headers);let a=i.data;return X.forEach(s,function(l){a=l.call(n,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function LE(s){return!!(s&&s.__CANCEL__)}function bl(s,e,n){et.call(this,s??"canceled",et.ERR_CANCELED,e,n),this.name="CanceledError"}X.inherits(bl,et,{__CANCEL__:!0});function OE(s,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?s(n):e(new et("Request failed with status code "+n.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function y9(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function j9(s,e){s=s||10;const n=new Array(s),i=new Array(s);let r=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=i[a];o||(o=d),n[r]=c,i[r]=d;let m=a,p=0;for(;m!==r;)p+=n[m++],m=m%s;if(r=(r+1)%s,r===a&&(a=(a+1)%s),d-o<e)return;const g=h&&d-h;return g?Math.round(p*1e3/g):void 0}}function N9(s,e){let n=0,i=1e3/e,r,a;const o=(d,h=Date.now())=>{n=h,r=null,a&&(clearTimeout(a),a=null),s(...d)};return[(...d)=>{const h=Date.now(),m=h-n;m>=i?o(d,h):(r=d,a||(a=setTimeout(()=>{a=null,o(r)},i-m)))},()=>r&&o(r)]}const pm=(s,e,n=3)=>{let i=0;const r=j9(50,250);return N9(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-i,d=r(c),h=o<=l;i=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};s(m)},n)},bw=(s,e)=>{const n=s!=null;return[i=>e[0]({lengthComputable:n,total:s,loaded:i}),e[1]]},ww=s=>(...e)=>X.asap(()=>s(...e)),b9=Bs.hasStandardBrowserEnv?((s,e)=>n=>(n=new URL(n,Bs.origin),s.protocol===n.protocol&&s.host===n.host&&(e||s.port===n.port)))(new URL(Bs.origin),Bs.navigator&&/(msie|trident)/i.test(Bs.navigator.userAgent)):()=>!0,w9=Bs.hasStandardBrowserEnv?{write(s,e,n,i,r,a,o){if(typeof document>"u")return;const l=[`${s}=${encodeURIComponent(e)}`];X.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),X.isString(i)&&l.push(`path=${i}`),X.isString(r)&&l.push(`domain=${r}`),a===!0&&l.push("secure"),X.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(s){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function S9(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function k9(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function VE(s,e,n){let i=!S9(e);return s&&(i||n==!1)?k9(s,e):e}const Sw=s=>s instanceof cn?{...s}:s;function Ma(s,e){e=e||{};const n={};function i(d,h,m,p){return X.isPlainObject(d)&&X.isPlainObject(h)?X.merge.call({caseless:p},d,h):X.isPlainObject(h)?X.merge({},h):X.isArray(h)?h.slice():h}function r(d,h,m,p){if(X.isUndefined(h)){if(!X.isUndefined(d))return i(void 0,d,m,p)}else return i(d,h,m,p)}function a(d,h){if(!X.isUndefined(h))return i(void 0,h)}function o(d,h){if(X.isUndefined(h)){if(!X.isUndefined(d))return i(void 0,d)}else return i(void 0,h)}function l(d,h,m){if(m in e)return i(d,h);if(m in s)return i(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,h,m)=>r(Sw(d),Sw(h),m,!0)};return X.forEach(Object.keys({...s,...e}),function(h){const m=c[h]||r,p=m(s[h],e[h],h);X.isUndefined(p)&&m!==l||(n[h]=p)}),n}const FE=s=>{const e=Ma({},s);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:o,auth:l}=e;if(e.headers=o=cn.from(o),e.url=IE(VE(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),X.isFormData(n)){if(Bs.hasStandardBrowserEnv||Bs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(X.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([h,m])=>{d.includes(h.toLowerCase())&&o.set(h,m)})}}if(Bs.hasStandardBrowserEnv&&(i&&X.isFunction(i)&&(i=i(e)),i||i!==!1&&b9(e.url))){const c=r&&a&&w9.read(a);c&&o.set(r,c)}return e},_9=typeof XMLHttpRequest<"u",C9=_9&&function(s){return new Promise(function(n,i){const r=FE(s);let a=r.data;const o=cn.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=r,h,m,p,g,x;function j(){g&&g(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(r.method.toUpperCase(),r.url,!0),v.timeout=r.timeout;function b(){if(!v)return;const C=cn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:C,config:s,request:v};OE(function(E){n(E),j()},function(E){i(E),j()},D),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(i(new et("Request aborted",et.ECONNABORTED,s,v)),v=null)},v.onerror=function(I){const D=I&&I.message?I.message:"Network Error",$=new et(D,et.ERR_NETWORK,s,v);$.event=I||null,i($),v=null},v.ontimeout=function(){let I=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const D=r.transitional||DE;r.timeoutErrorMessage&&(I=r.timeoutErrorMessage),i(new et(I,D.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,s,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&X.forEach(o.toJSON(),function(I,D){v.setRequestHeader(D,I)}),X.isUndefined(r.withCredentials)||(v.withCredentials=!!r.withCredentials),l&&l!=="json"&&(v.responseType=r.responseType),d&&([p,x]=pm(d,!0),v.addEventListener("progress",p)),c&&v.upload&&([m,g]=pm(c),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(h=C=>{v&&(i(!C||C.type?new bl(null,s,v):C),v.abort(),v=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const N=y9(r.url);if(N&&Bs.protocols.indexOf(N)===-1){i(new et("Unsupported protocol "+N+":",et.ERR_BAD_REQUEST,s));return}v.send(a||null)})},T9=(s,e)=>{const{length:n}=s=s?s.filter(Boolean):[];if(e||n){let i=new AbortController,r;const a=function(d){if(!r){r=!0,l();const h=d instanceof Error?d:this.reason;i.abort(h instanceof et?h:new bl(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,a(new et(`timeout ${e} of ms exceeded`,et.ETIMEDOUT))},e);const l=()=>{s&&(o&&clearTimeout(o),o=null,s.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),s=null)};s.forEach(d=>d.addEventListener("abort",a));const{signal:c}=i;return c.unsubscribe=()=>X.asap(l),c}},E9=function*(s,e){let n=s.byteLength;if(n<e){yield s;return}let i=0,r;for(;i<n;)r=i+e,yield s.slice(i,r),i=r},P9=async function*(s,e){for await(const n of A9(s))yield*E9(n,e)},A9=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},kw=(s,e,n,i)=>{const r=P9(s,e);let a=0,o,l=c=>{o||(o=!0,i&&i(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await r.next();if(d){l(),c.close();return}let m=h.byteLength;if(n){let p=a+=m;n(p)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},_w=64*1024,{isFunction:qu}=X,R9=(({Request:s,Response:e})=>({Request:s,Response:e}))(X.global),{ReadableStream:Cw,TextEncoder:Tw}=X.global,Ew=(s,...e)=>{try{return!!s(...e)}catch{return!1}},I9=s=>{s=X.merge.call({skipUndefined:!0},R9,s);const{fetch:e,Request:n,Response:i}=s,r=e?qu(e):typeof fetch=="function",a=qu(n),o=qu(i);if(!r)return!1;const l=r&&qu(Cw),c=r&&(typeof Tw=="function"?(x=>j=>x.encode(j))(new Tw):async x=>new Uint8Array(await new n(x).arrayBuffer())),d=a&&l&&Ew(()=>{let x=!1;const j=new n(Bs.origin,{body:new Cw,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!j}),h=o&&l&&Ew(()=>X.isReadableStream(new i("").body)),m={stream:h&&(x=>x.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!m[x]&&(m[x]=(j,v)=>{let b=j&&j[x];if(b)return b.call(j);throw new et(`Response type '${x}' is not supported`,et.ERR_NOT_SUPPORT,v)})});const p=async x=>{if(x==null)return 0;if(X.isBlob(x))return x.size;if(X.isSpecCompliantForm(x))return(await new n(Bs.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(X.isArrayBufferView(x)||X.isArrayBuffer(x))return x.byteLength;if(X.isURLSearchParams(x)&&(x=x+""),X.isString(x))return(await c(x)).byteLength},g=async(x,j)=>{const v=X.toFiniteNumber(x.getContentLength());return v??p(j)};return async x=>{let{url:j,method:v,data:b,signal:N,cancelToken:C,timeout:I,onDownloadProgress:D,onUploadProgress:$,responseType:E,headers:k,withCredentials:_="same-origin",fetchOptions:T}=FE(x),S=e||fetch;E=E?(E+"").toLowerCase():"text";let F=T9([N,C&&C.toAbortSignal()],I),L=null;const oe=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let A;try{if($&&d&&v!=="get"&&v!=="head"&&(A=await g(k,b))!==0){let U=new n(j,{method:"POST",body:b,duplex:"half"}),re;if(X.isFormData(b)&&(re=U.headers.get("content-type"))&&k.setContentType(re),U.body){const[W,xe]=bw(A,pm(ww($)));b=kw(U.body,_w,W,xe)}}X.isString(_)||(_=_?"include":"omit");const Z=a&&"credentials"in n.prototype,Q={...T,signal:F,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:b,duplex:"half",credentials:Z?_:void 0};L=a&&new n(j,Q);let q=await(a?S(L,T):S(j,Q));const P=h&&(E==="stream"||E==="response");if(h&&(D||P&&oe)){const U={};["status","statusText","headers"].forEach(Ce=>{U[Ce]=q[Ce]});const re=X.toFiniteNumber(q.headers.get("content-length")),[W,xe]=D&&bw(re,pm(ww(D),!0))||[];q=new i(kw(q.body,_w,W,()=>{xe&&xe(),oe&&oe()}),U)}E=E||"text";let G=await m[X.findKey(m,E)||"text"](q,x);return!P&&oe&&oe(),await new Promise((U,re)=>{OE(U,re,{data:G,headers:cn.from(q.headers),status:q.status,statusText:q.statusText,config:x,request:L})})}catch(Z){throw oe&&oe(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,x,L),{cause:Z.cause||Z}):et.from(Z,Z&&Z.code,x,L)}}},D9=new Map,BE=s=>{let e=s&&s.env||{};const{fetch:n,Request:i,Response:r}=e,a=[i,r,n];let o=a.length,l=o,c,d,h=D9;for(;l--;)c=a[l],d=h.get(c),d===void 0&&h.set(c,d=l?new Map:I9(e)),h=d;return d};BE();const oj={http:J6,xhr:C9,fetch:{get:BE}};X.forEach(oj,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const Pw=s=>`- ${s}`,M9=s=>X.isFunction(s)||s===null||s===!1;function L9(s,e){s=X.isArray(s)?s:[s];const{length:n}=s;let i,r;const a={};for(let o=0;o<n;o++){i=s[o];let l;if(r=i,!M9(i)&&(r=oj[(l=String(i)).toLowerCase()],r===void 0))throw new et(`Unknown adapter '${l}'`);if(r&&(X.isFunction(r)||(r=r.get(e))))break;a[l||"#"+o]=r}if(!r){const o=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(Pw).join(`
`):" "+Pw(o[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r}const UE={getAdapter:L9,adapters:oj};function _f(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new bl(null,s)}function Aw(s){return _f(s),s.headers=cn.from(s.headers),s.data=kf.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),UE.getAdapter(s.adapter||Hd.adapter,s)(s).then(function(i){return _f(s),i.data=kf.call(s,s.transformResponse,i),i.headers=cn.from(i.headers),i},function(i){return LE(i)||(_f(s),i&&i.response&&(i.response.data=kf.call(s,s.transformResponse,i.response),i.response.headers=cn.from(i.response.headers))),Promise.reject(i)})}const $E="1.13.2",jp={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{jp[s]=function(i){return typeof i===s||"a"+(e<1?"n ":" ")+s}});const Rw={};jp.transitional=function(e,n,i){function r(a,o){return"[Axios v"+$E+"] Transitional option '"+a+"'"+o+(i?". "+i:"")}return(a,o,l)=>{if(e===!1)throw new et(r(o," has been removed"+(n?" in "+n:"")),et.ERR_DEPRECATED);return n&&!Rw[o]&&(Rw[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,l):!0}};jp.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function O9(s,e,n){if(typeof s!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const i=Object.keys(s);let r=i.length;for(;r-- >0;){const a=i[r],o=e[a];if(o){const l=s[a],c=l===void 0||o(l,a,s);if(c!==!0)throw new et("option "+a+" must be "+c,et.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new et("Unknown option "+a,et.ERR_BAD_OPTION)}}const xh={assertOptions:O9,validators:jp},Zn=xh.validators;let ya=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jw,response:new jw}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ma(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:a}=n;i!==void 0&&xh.assertOptions(i,{silentJSONParsing:Zn.transitional(Zn.boolean),forcedJSONParsing:Zn.transitional(Zn.boolean),clarifyTimeoutError:Zn.transitional(Zn.boolean)},!1),r!=null&&(X.isFunction(r)?n.paramsSerializer={serialize:r}:xh.assertOptions(r,{encode:Zn.function,serialize:Zn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),xh.assertOptions(n,{baseUrl:Zn.spelling("baseURL"),withXsrfToken:Zn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&X.merge(a.common,a[n.method]);a&&X.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),n.headers=cn.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(c=c&&j.synchronous,l.unshift(j.fulfilled,j.rejected))});const d=[];this.interceptors.response.forEach(function(j){d.push(j.fulfilled,j.rejected)});let h,m=0,p;if(!c){const x=[Aw.bind(this),void 0];for(x.unshift(...l),x.push(...d),p=x.length,h=Promise.resolve(n);m<p;)h=h.then(x[m++],x[m++]);return h}p=l.length;let g=n;for(;m<p;){const x=l[m++],j=l[m++];try{g=x(g)}catch(v){j.call(this,v);break}}try{h=Aw.call(this,g)}catch(x){return Promise.reject(x)}for(m=0,p=d.length;m<p;)h=h.then(d[m++],d[m++]);return h}getUri(e){e=Ma(this.defaults,e);const n=VE(e.baseURL,e.url,e.allowAbsoluteUrls);return IE(n,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){ya.prototype[e]=function(n,i){return this.request(Ma(i||{},{method:e,url:n,data:(i||{}).data}))}});X.forEach(["post","put","patch"],function(e){function n(i){return function(a,o,l){return this.request(Ma(l||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}ya.prototype[e]=n(),ya.prototype[e+"Form"]=n(!0)});let V9=class qE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const o=new Promise(l=>{i.subscribe(l),a=l}).then(r);return o.cancel=function(){i.unsubscribe(a)},o},e(function(a,o,l){i.reason||(i.reason=new bl(a,o,l),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new qE(function(r){e=r}),cancel:e}}};function F9(s){return function(n){return s.apply(null,n)}}function B9(s){return X.isObject(s)&&s.isAxiosError===!0}const wv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(wv).forEach(([s,e])=>{wv[e]=s});function zE(s){const e=new ya(s),n=NE(ya.prototype.request,e);return X.extend(n,ya.prototype,e,{allOwnKeys:!0}),X.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return zE(Ma(s,r))},n}const es=zE(Hd);es.Axios=ya;es.CanceledError=bl;es.CancelToken=V9;es.isCancel=LE;es.VERSION=$E;es.toFormData=yp;es.AxiosError=et;es.Cancel=es.CanceledError;es.all=function(e){return Promise.all(e)};es.spread=F9;es.isAxiosError=B9;es.mergeConfig=Ma;es.AxiosHeaders=cn;es.formToJSON=s=>ME(X.isHTMLForm(s)?new FormData(s):s);es.getAdapter=UE.getAdapter;es.HttpStatusCode=wv;es.default=es;const{Axios:oQ,AxiosError:lQ,CanceledError:cQ,isCancel:dQ,CancelToken:uQ,VERSION:hQ,all:mQ,Cancel:pQ,isAxiosError:fQ,spread:gQ,toFormData:vQ,AxiosHeaders:xQ,HttpStatusCode:yQ,formToJSON:jQ,getAdapter:NQ,mergeConfig:bQ}=es,U9="http://localhost:5000",fd=es.create({baseURL:U9}),WE={list:(s={})=>fd.get("/api/services",{params:s}).then(e=>e.data)},HE={create:s=>fd.post("/api/bookings",s).then(e=>e.data),track:s=>fd.get(`/api/bookings/${s}/track`).then(e=>e.data)},$9={list:()=>fd.get("/api/providers").then(s=>s.data)};function q9(){const[s,e]=ay(),[n,i]=f.useState(s.get("q")||""),[r,a]=f.useState(s.get("category")||""),[o,l]=f.useState([]),[c,d]=f.useState(!1),[h,m]=f.useState("relevance"),[p,g]=f.useState({min:"",max:""}),[x,j]=f.useState(0),[v,b]=f.useState(!1),[N,C]=f.useState(null),I=[{value:"",label:"All Categories",icon:""},{value:"Plumber",label:"Plumbing",icon:""},{value:"Electrician",label:"Electrical",icon:""},{value:"Cleaning",label:"Cleaning",icon:""},{value:"Mechanic",label:"Auto Repair",icon:""},{value:"Tutor",label:"Tutoring",icon:""},{value:"Appliance Repair",label:"Appliance",icon:""},{value:"AC Repair",label:"AC & HVAC",icon:""},{value:"Beauty",label:"Beauty Services",icon:""},{value:"Painting",label:"Painting",icon:""},{value:"Pest Control",label:"Pest Control",icon:""}],D=[{value:"relevance",label:"Most Relevant"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"},{value:"rating",label:"Highest Rated"},{value:"popular",label:"Most Popular"}];async function $(){d(!0),C(null);try{const _=await WE.list({q:n,category:r});let T=_&&_.length>0?_:[{id:1,title:"Emergency Plumbing Service",category:"Plumber",price:1200,rating:4.8,featured:!0,bookings:234},{id:2,title:"Deep Home Cleaning",category:"Cleaning",price:800,rating:4.6,featured:!1,bookings:156},{id:3,title:"AC Installation & Repair",category:"AC Repair",price:2e3,rating:4.9,featured:!0,bookings:89},{id:4,title:"Electrical Wiring Services",category:"Electrician",price:1500,rating:4.7,featured:!1,bookings:123},{id:5,title:"Car Diagnostic & Repair",category:"Mechanic",price:1800,rating:4.5,featured:!0,bookings:67},{id:6,title:"Home Tutoring",category:"Tutor",price:800,rating:4.4,featured:!1,bookings:45},{id:7,title:"Appliance Repair",category:"Appliance Repair",price:1e3,rating:4.6,featured:!0,bookings:78},{id:8,title:"Beauty Services",category:"Beauty",price:600,rating:4.9,featured:!1,bookings:156},{id:9,title:"Home Painting",category:"Painting",price:2500,rating:4.7,featured:!0,bookings:234},{id:10,title:"Pest Control",category:"Pest Control",price:900,rating:4.5,featured:!1,bookings:89},{id:11,title:"Water Tank Cleaning",category:"Cleaning",price:700,rating:4.6,featured:!0,bookings:167},{id:12,title:"Geyser Repair",category:"Plumber",price:1100,rating:4.8,featured:!1,bookings:145}];p.min&&(T=T.filter(S=>S.price>=parseInt(p.min))),p.max&&(T=T.filter(S=>S.price<=parseInt(p.max))),x>0&&(T=T.filter(S=>(S.rating||0)>=x)),T.sort((S,F)=>{switch(h){case"price_low":return S.price-F.price;case"price_high":return F.price-S.price;case"rating":return(F.rating||0)-(S.rating||0);case"popular":return(F.bookings||0)-(S.bookings||0);default:return 0}}),l(T),T.length===0&&(n||r)?C("No services found matching your criteria. Try adjusting your filters."):T.length>0&&C(null)}catch(_){console.error("Failed to load services:",_),l([{id:"1",title:"Emergency Plumbing Service",category:"Plumber",price:1200,rating:4.8,featured:!0,bookings:234},{id:"2",title:"Deep Home Cleaning",category:"Cleaning",price:800,rating:4.6,featured:!1,bookings:156},{id:"3",title:"AC Installation & Repair",category:"AC Repair",price:2e3,rating:4.9,featured:!0,bookings:89},{id:"4",title:"Electrical Wiring Services",category:"Electrician",price:1500,rating:4.7,featured:!1,bookings:123},{id:"5",title:"Car Diagnostic & Repair",category:"Mechanic",price:1800,rating:4.5,featured:!0,bookings:67}]),C(null)}finally{d(!1)}}function E(){const _=new URLSearchParams;n&&_.set("q",n),r&&_.set("category",r),e(_),$()}function k(){i(""),a(""),g({min:"",max:""}),j(0),m("relevance"),e(""),$()}return f.useEffect(()=>{$()},[]),t.jsxs("div",{className:"search-results-advanced",children:[t.jsx("section",{className:"search-header",children:t.jsxs("div",{className:"search-header-content",children:[t.jsxs("div",{className:"search-title-section",children:[t.jsx("h1",{className:"search-title",children:n?`Results for "${n}"`:"All Services"}),t.jsxs("p",{className:"search-subtitle",children:[o.length," services found",r&&` in ${r}`]})]}),t.jsxs("button",{className:"filter-toggle-btn",onClick:()=>b(!v),children:[t.jsx("span",{className:"filter-icon",children:""}),t.jsx("span",{children:"Filters"}),v?"":""]})]})}),t.jsx("section",{className:`filters-panel ${v?"show":""}`,children:t.jsxs("div",{className:"filters-content",children:[t.jsxs("div",{className:"filters-grid",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{className:"filter-label",children:"Search"}),t.jsxs("div",{className:"search-input-wrapper",children:[t.jsx("input",{className:"search-input-advanced",placeholder:"What service are you looking for?",value:n,onChange:_=>i(_.target.value),onKeyPress:_=>_.key==="Enter"&&E()}),t.jsx("button",{className:"search-action-btn",onClick:E,disabled:c,children:c?"":""})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{className:"filter-label",children:"Category"}),t.jsx("div",{className:"category-select-wrapper",children:t.jsx("select",{value:r,onChange:_=>a(_.target.value),className:"category-select",children:I.map(_=>t.jsxs("option",{value:_.value,children:[_.icon," ",_.label]},_.value))})})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{className:"filter-label",children:"Price Range"}),t.jsxs("div",{className:"price-range-inputs",children:[t.jsx("input",{type:"number",placeholder:"Min",value:p.min,onChange:_=>g(T=>({...T,min:_.target.value})),className:"price-input"}),t.jsx("span",{className:"price-separator",children:"-"}),t.jsx("input",{type:"number",placeholder:"Max",value:p.max,onChange:_=>g(T=>({...T,max:_.target.value})),className:"price-input"})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{className:"filter-label",children:"Minimum Rating"}),t.jsxs("div",{className:"rating-filter",children:[[1,2,3,4,5].map(_=>t.jsx("button",{className:`rating-star ${_<=x?"active":""}`,onClick:()=>j(_),children:""},_)),t.jsx("span",{className:"rating-text",children:x>0?`${x}+ stars`:"Any"})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{className:"filter-label",children:"Sort By"}),t.jsx("select",{value:h,onChange:_=>m(_.target.value),className:"sort-select",children:D.map(_=>t.jsx("option",{value:_.value,children:_.label},_.value))})]})]}),t.jsxs("div",{className:"filter-actions",children:[t.jsx("button",{className:"apply-filters-btn",onClick:E,disabled:c,children:c?" Applying...":" Apply Filters"}),t.jsx("button",{className:"clear-filters-btn",onClick:k,children:" Clear All"})]})]})}),N&&t.jsxs("div",{className:"search-error-message",children:[t.jsx("span",{className:"error-icon",children:""}),t.jsx("span",{children:N})]}),t.jsx("section",{className:"search-results-section",children:c?t.jsxs("div",{className:"loading-state",children:[t.jsx("div",{className:"loading-spinner",children:""}),t.jsx("p",{children:"Finding the best services for you..."})]}):o.length>0?t.jsx("div",{className:"services-grid-advanced",children:o.map(_=>t.jsx(nj,{service:_},_.id))}):t.jsxs("div",{className:"no-results",children:[t.jsx("div",{className:"no-results-icon",children:""}),t.jsx("h3",{children:"No Services Found"}),t.jsx("p",{children:"Try adjusting your filters or search terms to find what you're looking for."}),t.jsx("button",{className:"clear-filters-btn",onClick:k,children:" Clear Filters"})]})})]})}function z9(){const{id:s}=Ad(),[e,n]=f.useState([]);return f.useEffect(()=>{(async()=>{const i=await WE.list();n(i.filter(r=>r.provider_id===s))})()},[s]),t.jsxs("div",{children:[t.jsxs("h2",{children:["Provider ",s]}),t.jsx("div",{style:{marginTop:12},children:e.map(i=>t.jsx(nj,{service:i},i.id))}),t.jsx("div",{style:{marginTop:12},children:t.jsx(he,{to:"/search",className:"btn",children:"Back to Search"})})]})}var Iw={};const Dw="@firebase/database",Mw="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GE="";function W9(s){GE=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ws(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:sd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return sr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new H9(e)}}catch{}return new G9},ha=KE("localStorage"),K9=KE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new tp("@firebase/database"),Q9=function(){let s=1;return function(){return s++}}(),QE=function(s){const e=wM(s),n=new yM;n.update(e);const i=n.digest();return oy.encodeByteArray(i)},Gd=function(...s){let e="";for(let n=0;n<s.length;n++){const i=s[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Gd.apply(null,i):typeof i=="object"?e+=ws(i):e+=i,e+=" "}return e};let Cc=null,Lw=!0;const Y9=function(s,e){Se(!0,"Can't turn on custom loggers persistently."),Lo.logLevel=at.VERBOSE,Cc=Lo.log.bind(Lo)},Vs=function(...s){if(Lw===!0&&(Lw=!1,Cc===null&&K9.get("logging_enabled")===!0&&Y9()),Cc){const e=Gd.apply(null,s);Cc(e)}},Kd=function(s){return function(...e){Vs(s,...e)}},Sv=function(...s){const e="FIREBASE INTERNAL ERROR: "+Gd(...s);Lo.error(e)},Ki=function(...s){const e=`FIREBASE FATAL ERROR: ${Gd(...s)}`;throw Lo.error(e),new Error(e)},dn=function(...s){const e="FIREBASE WARNING: "+Gd(...s);Lo.warn(e)},J9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},YE=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},X9=function(s){if(document.readyState==="complete")s();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},nl="[MIN_NAME]",La="[MAX_NAME]",wl=function(s,e){if(s===e)return 0;if(s===nl||e===La)return-1;if(e===nl||s===La)return 1;{const n=Ow(s),i=Ow(e);return n!==null?i!==null?n-i===0?s.length-e.length:n-i:-1:i!==null?1:s<e?-1:1}},Z9=function(s,e){return s===e?0:s<e?-1:1},Xl=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+ws(e))},lj=function(s){if(typeof s!="object"||s===null)return ws(s);const e=[];for(const i in s)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=ws(e[i]),n+=":",n+=lj(s[e[i]]);return n+="}",n},JE=function(s,e){const n=s.length;if(n<=e)return[s];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(s.substring(r,n)):i.push(s.substring(r,r+e));return i};function Mn(s,e){for(const n in s)s.hasOwnProperty(n)&&e(n,s[n])}const XE=function(s){Se(!YE(s),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,a,o,l,c;s===0?(a=0,o=0,r=1/s===-1/0?1:0):(r=s<0,s=Math.abs(s),s>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(s)/Math.LN2),i),a=l+i,o=Math.round(s*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,o=Math.round(s/Math.pow(2,1-i-n))));const d=[];for(c=n;c;c-=1)d.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);d.push(r?1:0),d.reverse();const h=d.join("");let m="";for(c=0;c<64;c+=8){let p=parseInt(h.substr(c,8),2).toString(16);p.length===1&&(p="0"+p),m=m+p}return m.toLowerCase()},eB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},sB=new RegExp("^-?(0*)\\d{1,10}$"),nB=-2147483648,iB=2147483647,Ow=function(s){if(sB.test(s)){const e=Number(s);if(e>=nB&&e<=iB)return e}return null},Sl=function(s){try{s()}catch(e){setTimeout(()=>{const n=e.stack||"";throw dn("Exception was thrown by user callback.",n),e},Math.floor(0))}},rB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Tc=function(s,e){const n=setTimeout(s,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){dn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Vs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dn(e)}}class yh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}yh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="5",ZE="v",e2="s",t2="r",s2="f",n2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,i2="ls",r2="p",kv="ac",a2="websocket",o2="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,i,r,a=!1,o="",l=!1,c=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ha.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ha.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function lB(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function c2(s,e,n){Se(typeof e=="string","typeof type must == string"),Se(typeof n=="object","typeof params must == object");let i;if(e===a2)i=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===o2)i=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);lB(s)&&(n.ns=s.namespace);const r=[];return Mn(n,(a,o)=>{r.push(a+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.counters_={}}incrementCounter(e,n=1){sr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return eM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf={},Tf={};function dj(s){const e=s.toString();return Cf[e]||(Cf[e]=new cB),Cf[e]}function dB(s,e){const n=s.toString();return Tf[n]||(Tf[n]=e()),Tf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Sl(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="start",hB="close",mB="pLPCommand",pB="pRTLPCB",d2="id",u2="pw",h2="ser",fB="cb",gB="seg",vB="ts",xB="d",yB="dframe",m2=1870,p2=30,jB=m2-p2,NB=25e3,bB=3e4;class jo{constructor(e,n,i,r,a,o,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kd(e),this.stats_=dj(n),this.urlFn=c=>(this.appCheckToken&&(c[kv]=this.appCheckToken),c2(n,o2,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new uB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bB)),X9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new uj((...a)=>{const[o,l,c,d,h]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Vw)this.id=l,this.password=c;else if(o===hB)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{const[o,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[Vw]="t",i[h2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[fB]=this.scriptTagHolder.uniqueCallbackIdentifier),i[ZE]=cj,this.transportSessionId&&(i[e2]=this.transportSessionId),this.lastSessionId&&(i[i2]=this.lastSessionId),this.applicationId&&(i[r2]=this.applicationId),this.appCheckToken&&(i[kv]=this.appCheckToken),typeof location<"u"&&location.hostname&&n2.test(location.hostname)&&(i[t2]=s2);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jo.forceAllow_=!0}static forceDisallow(){jo.forceDisallow_=!0}static isAvailable(){return jo.forceAllow_?!0:!jo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!eB()&&!tB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ws(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=lC(n),r=JE(i,jB);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[yB]="t",i[d2]=e,i[u2]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ws(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class uj{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Q9(),window[mB+this.uniqueCallbackIdentifier]=e,window[pB+this.uniqueCallbackIdentifier]=n,this.myIFrame=uj.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Vs("frame writing exception"),l.stack&&Vs(l.stack),Vs(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Vs("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[d2]=this.myID,e[u2]=this.myPW,e[h2]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+p2+i.length<=m2;){const o=this.pendingSegs.shift();i=i+"&"+gB+r+"="+o.seg+"&"+vB+r+"="+o.ts+"&"+xB+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(NB)),a=()=>{clearTimeout(r),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Vs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=16384,SB=45e3;let fm=null;typeof MozWebSocket<"u"?fm=MozWebSocket:typeof WebSocket<"u"&&(fm=WebSocket);class $n{constructor(e,n,i,r,a,o,l){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kd(this.connId),this.stats_=dj(n),this.connURL=$n.connectionURL_(n,o,l,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,a){const o={};return o[ZE]=cj,typeof location<"u"&&location.hostname&&n2.test(location.hostname)&&(o[t2]=s2),n&&(o[e2]=n),i&&(o[i2]=i),r&&(o[kv]=r),a&&(o[r2]=a),c2(e,a2,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ha.set("previous_websocket_failure",!0);try{let i;dM(),this.mySock=new fm(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){$n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&fm!==null&&!$n.forceDisallow_}static previouslyFailed(){return ha.isInMemoryStorage||ha.get("previous_websocket_failure")===!0}markConnectionHealthy(){ha.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=sd(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Se(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=ws(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=JE(n,wB);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(SB))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$n.responsesRequiredToBeHealthy=2;$n.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[jo,$n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=$n&&$n.isAvailable();let i=n&&!$n.previouslyFailed();if(e.webSocketOnly&&(n||dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[$n];else{const r=this.transports_=[];for(const a of gd.ALL_TRANSPORTS)a&&a.isAvailable()&&r.push(a);gd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=6e4,_B=5e3,CB=10*1024,TB=100*1024,Ef="t",Fw="d",EB="s",Bw="r",PB="e",Uw="o",$w="a",qw="n",zw="p",AB="h";class RB{constructor(e,n,i,r,a,o,l,c,d,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kd("c:"+this.id+":"),this.transportManager_=new gd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Tc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>TB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>CB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ef in e){const n=e[Ef];n===$w?this.upgradeIfSecondaryHealthy_():n===Bw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Uw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xl("t",e),i=Xl("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$w,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xl("t",e),i=Xl("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xl(Ef,e);if(Fw in e){const i=e[Fw];if(n===AB){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===qw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===EB?this.onConnectionShutdown_(i):n===Bw?this.onReset_(i):n===PB?Sv("Server Error: "+i):n===Uw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),cj!==i&&dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Tc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_B))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.allowedEvents_=e,this.listeners_={},Se(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let a=0;a<r.length;a++)if(r[a].callback===n&&(!i||i===r[a].context)){r.splice(a,1);return}}validateEventType_(e){Se(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm extends g2{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ly()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gm}getInitialEvent(e){return Se(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=32,Hw=768;class Vt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function _t(){return new Vt("")}function ot(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function qr(s){return s.pieces_.length-s.pieceNum_}function Lt(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Vt(s.pieces_,e)}function v2(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function IB(s){let e="";for(let n=s.pieceNum_;n<s.pieces_.length;n++)s.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[n])));return e||"/"}function x2(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function y2(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let n=s.pieceNum_;n<s.pieces_.length-1;n++)e.push(s.pieces_[n]);return new Vt(e,0)}function ls(s,e){const n=[];for(let i=s.pieceNum_;i<s.pieces_.length;i++)n.push(s.pieces_[i]);if(e instanceof Vt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Vt(n,0)}function ct(s){return s.pieceNum_>=s.pieces_.length}function _n(s,e){const n=ot(s),i=ot(e);if(n===null)return e;if(n===i)return _n(Lt(s),Lt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function j2(s,e){if(qr(s)!==qr(e))return!1;for(let n=s.pieceNum_,i=e.pieceNum_;n<=s.pieces_.length;n++,i++)if(s.pieces_[n]!==e.pieces_[i])return!1;return!0}function Wn(s,e){let n=s.pieceNum_,i=e.pieceNum_;if(qr(s)>qr(e))return!1;for(;n<s.pieces_.length;){if(s.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class DB{constructor(e,n){this.errorPrefix_=n,this.parts_=x2(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ep(this.parts_[i]);N2(this)}}function MB(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=ep(e),N2(s)}function LB(s){const e=s.parts_.pop();s.byteLength_-=ep(e),s.parts_.length>0&&(s.byteLength_-=1)}function N2(s){if(s.byteLength_>Hw)throw new Error(s.errorPrefix_+"has a key path longer than "+Hw+" bytes ("+s.byteLength_+").");if(s.parts_.length>Ww)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ww+") or object contains a cycle "+ia(s))}function ia(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj extends g2{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new hj}getInitialEvent(e){return Se(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=1e3,OB=60*5*1e3,Gw=30*1e3,VB=1.3,FB=3e4,BB="server_kill",Kw=3;class Fi extends f2{constructor(e,n,i,r,a,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Fi.nextPersistentConnectionId_++,this.log_=Kd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zl,this.maxReconnectDelay_=OB,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hj.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,a={r,a:e,b:n};this.log_(ws(a)),Se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Zm,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,r){this.initConnection_();const a=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),Se(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Se(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const l={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const a={p:i},o="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(o,a,l=>{const c=l.d,d=l.s;Fi.warnOnListenWarnings_(c,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(d,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&sr(e,"w")){const i=Go(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||xM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=vM(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const a=r.s,o=r.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Se(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const a={p:e},o="n";r&&(a.q=i,a.t=r),this.sendRequest(o,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,a){this.initConnection_();const o={p:n,d:i};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ws(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Sv("Unrecognized action received from server: "+ws(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>FB&&(this.reconnectDelay_=Zl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*VB)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Fi.nextConnectionId_++,a=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,i())},d=function(m){Se(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:c,sendRequest:d};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,p]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Vs("getToken() completed but was canceled"):(Vs("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=p&&p.token,l=new RB(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,g=>{dn(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(BB)},a))}catch(m){this.log_("Failed to get token: "+m),o||(this.repoInfo_.nodeAdmin&&dn(m),c())}}}interrupt(e){Vs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Yg(this.interruptReasons_)&&(this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>lj(a)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Vt(e).toString();let r;if(this.listens.has(i)){const a=this.listens.get(i);r=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){Vs("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kw&&(this.reconnectDelay_=Gw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Vs("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+GE.replace(/\./g,"-")]=1,ly()?e["framework.cordova"]=1:fC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gm.getInstance().currentlyOnline();return Yg(this.interruptReasons_)&&e}}Fi.nextPersistentConnectionId_=0;Fi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ut(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ut(nl,e),r=new ut(nl,n);return this.compare(i,r)!==0}minPost(){return ut.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu;class b2 extends Np{static get __EMPTY_NODE(){return zu}static set __EMPTY_NODE(e){zu=e}compare(e,n){return wl(e.name,n.name)}isDefinedOn(e){throw pl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ut.MIN}maxPost(){return new ut(La,zu)}makePost(e,n){return Se(typeof e=="string","KeyIndex indexValue must always be a string."),new ut(e,zu)}toString(){return".key"}}const Oo=new b2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,i,r,a=null){this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class gs{constructor(e,n,i,r,a){this.key=e,this.value=n,this.color=i??gs.RED,this.left=r??tn.EMPTY_NODE,this.right=a??tn.EMPTY_NODE}copy(e,n,i,r,a){return new gs(e??this.key,n??this.value,i??this.color,r??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const a=i(e,r.key);return a<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):a===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return tn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return tn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}gs.RED=!0;gs.BLACK=!1;class UB{copy(e,n,i,r,a){return this}insert(e,n,i){return new gs(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class tn{constructor(e,n=tn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new tn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,gs.BLACK,null,null))}remove(e){return new tn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gs.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Wu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Wu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Wu(this.root_,null,this.comparator_,!0,e)}}tn.EMPTY_NODE=new UB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(s,e){return wl(s.name,e.name)}function mj(s,e){return wl(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v;function qB(s){_v=s}const w2=function(s){return typeof s=="number"?"number:"+XE(s):"string:"+s},S2=function(s){if(s.isLeafNode()){const e=s.val();Se(typeof e=="string"||typeof e=="number"||typeof e=="object"&&sr(e,".sv"),"Priority must be a string or number.")}else Se(s===_v||s.isEmpty(),"priority of unexpected type.");Se(s===_v||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qw;class ms{constructor(e,n=ms.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Se(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),S2(this.priorityNode_)}static set __childrenNodeConstructor(e){Qw=e}static get __childrenNodeConstructor(){return Qw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ms(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ms.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ct(e)?this:ot(e)===".priority"?this.priorityNode_:ms.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ms.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ot(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Se(i!==".priority"||qr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,ms.__childrenNodeConstructor.EMPTY_NODE.updateChild(Lt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+w2(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=XE(this.value_):e+=this.value_,this.lazyHash_=QE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ms.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ms.__childrenNodeConstructor?-1:(Se(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=ms.VALUE_TYPE_ORDER.indexOf(n),a=ms.VALUE_TYPE_ORDER.indexOf(i);return Se(r>=0,"Unknown leaf type: "+n),Se(a>=0,"Unknown leaf type: "+i),r===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ms.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k2,_2;function zB(s){k2=s}function WB(s){_2=s}class HB extends Np{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),a=i.compareTo(r);return a===0?wl(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ut.MIN}maxPost(){return new ut(La,new ms("[PRIORITY-POST]",_2))}makePost(e,n){const i=k2(e);return new ut(n,new ms("[PRIORITY-POST]",i))}toString(){return".priority"}}const Us=new HB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=Math.log(2);class KB{constructor(e){const n=a=>parseInt(Math.log(a)/GB,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vm=function(s,e,n,i){s.sort(e);const r=function(c,d){const h=d-c;let m,p;if(h===0)return null;if(h===1)return m=s[c],p=n?n(m):m,new gs(p,m.node,gs.BLACK,null,null);{const g=parseInt(h/2,10)+c,x=r(c,g),j=r(g+1,d);return m=s[g],p=n?n(m):m,new gs(p,m.node,gs.BLACK,x,j)}},a=function(c){let d=null,h=null,m=s.length;const p=function(x,j){const v=m-x,b=m;m-=x;const N=r(v+1,b),C=s[v],I=n?n(C):C;g(new gs(I,C.node,j,null,N))},g=function(x){d?(d.left=x,d=x):(h=x,d=x)};for(let x=0;x<c.count;++x){const j=c.nextBitIsOne(),v=Math.pow(2,c.count-(x+1));j?p(v,gs.BLACK):(p(v,gs.BLACK),p(v,gs.RED))}return h},o=new KB(s.length),l=a(o);return new tn(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf;const eo={};class Di{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Se(eo&&Us,"ChildrenNode.ts has not been loaded"),Pf=Pf||new Di({".priority":eo},{".priority":Us}),Pf}get(e){const n=Go(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof tn?n:null}hasIndex(e){return sr(this.indexSet_,e.toString())}addIndex(e,n){Se(e!==Oo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const a=n.getIterator(ut.Wrap);let o=a.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=a.getNext();let l;r?l=vm(i,e.getCompare()):l=eo;const c=e.toString(),d=Object.assign({},this.indexSet_);d[c]=e;const h=Object.assign({},this.indexes_);return h[c]=l,new Di(h,d)}addToIndexes(e,n){const i=Xh(this.indexes_,(r,a)=>{const o=Go(this.indexSet_,a);if(Se(o,"Missing index implementation for "+a),r===eo)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(ut.Wrap);let d=c.getNext();for(;d;)d.name!==e.name&&l.push(d),d=c.getNext();return l.push(e),vm(l,o.getCompare())}else return eo;else{const l=n.get(e.name);let c=r;return l&&(c=c.remove(new ut(e.name,l))),c.insert(e,e.node)}});return new Di(i,this.indexSet_)}removeFromIndexes(e,n){const i=Xh(this.indexes_,r=>{if(r===eo)return r;{const a=n.get(e.name);return a?r.remove(new ut(e.name,a)):r}});return new Di(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;class Nt{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&S2(this.priorityNode_),this.children_.isEmpty()&&Se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ec||(ec=new Nt(new tn(mj),null,Di.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ec}updatePriority(e){return this.children_.isEmpty()?this:new Nt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ec:n}}getChild(e){const n=ot(e);return n===null?this:this.getImmediateChild(n).getChild(Lt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Se(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ut(e,n);let r,a;n.isEmpty()?(r=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?ec:this.priorityNode_;return new Nt(r,o,a)}}updateChild(e,n){const i=ot(e);if(i===null)return n;{Se(ot(e)!==".priority"||qr(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Lt(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,a=!0;if(this.forEachChild(Us,(o,l)=>{n[o]=l.val(e),i++,a&&Nt.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):a=!1}),!e&&a&&r<2*i){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+w2(this.getPriority().val())+":"),this.forEachChild(Us,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":QE(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const a=r.getPredecessorKey(new ut(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ut(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ut(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ut.Wrap);let a=r.peek();for(;a!=null&&n.compare(a,e)<0;)r.getNext(),a=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ut.Wrap);let a=r.peek();for(;a!=null&&n.compare(a,e)>0;)r.getNext(),a=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qd?-1:0}withIndex(e){if(e===Oo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Nt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Oo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Us),r=n.getIterator(Us);let a=i.getNext(),o=r.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=i.getNext(),o=r.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Oo?null:this.indexMap_.get(e.toString())}}Nt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class QB extends Nt{constructor(){super(new tn(mj),Nt.EMPTY_NODE,Di.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Nt.EMPTY_NODE}isEmpty(){return!1}}const Qd=new QB;Object.defineProperties(ut,{MIN:{value:new ut(nl,Nt.EMPTY_NODE)},MAX:{value:new ut(La,Qd)}});b2.__EMPTY_NODE=Nt.EMPTY_NODE;ms.__childrenNodeConstructor=Nt;qB(Qd);WB(Qd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=!0;function bs(s,e=null){if(s===null)return Nt.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),Se(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const n=s;return new ms(n,bs(e))}if(!(s instanceof Array)&&YB){const n=[];let i=!1;if(Mn(s,(o,l)=>{if(o.substring(0,1)!=="."){const c=bs(l);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),n.push(new ut(o,c)))}}),n.length===0)return Nt.EMPTY_NODE;const a=vm(n,$B,o=>o.name,mj);if(i){const o=vm(n,Us.getCompare());return new Nt(a,bs(e),new Di({".priority":o},{".priority":Us}))}else return new Nt(a,bs(e),Di.Default)}else{let n=Nt.EMPTY_NODE;return Mn(s,(i,r)=>{if(sr(s,i)&&i.substring(0,1)!=="."){const a=bs(r);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(bs(e))}}zB(bs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB extends Np{constructor(e){super(),this.indexPath_=e,Se(!ct(e)&&ot(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),a=i.compareTo(r);return a===0?wl(e.name,n.name):a}makePost(e,n){const i=bs(e),r=Nt.EMPTY_NODE.updateChild(this.indexPath_,i);return new ut(n,r)}maxPost(){const e=Nt.EMPTY_NODE.updateChild(this.indexPath_,Qd);return new ut(La,e)}toString(){return x2(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB extends Np{compare(e,n){const i=e.node.compareTo(n.node);return i===0?wl(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ut.MIN}maxPost(){return ut.MAX}makePost(e,n){const i=bs(e);return new ut(n,i)}toString(){return".value"}}const ZB=new XB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(s){return{type:"value",snapshotNode:s}}function tU(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function sU(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Yw(s,e,n){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:n}}function nU(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Us}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nl}hasEnd(){return this.endSet_}getIndexEndValue(){return Se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:La}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Us}copy(){const e=new pj;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Jw(s){const e={};if(s.isDefault())return e;let n;if(s.index_===Us?n="$priority":s.index_===ZB?n="$value":s.index_===Oo?n="$key":(Se(s.index_ instanceof JB,"Unrecognized index type!"),n=s.index_.toString()),e.orderBy=ws(n),s.startSet_){const i=s.startAfterSet_?"startAfter":"startAt";e[i]=ws(s.indexStartValue_),s.startNameSet_&&(e[i]+=","+ws(s.indexStartName_))}if(s.endSet_){const i=s.endBeforeSet_?"endBefore":"endAt";e[i]=ws(s.indexEndValue_),s.endNameSet_&&(e[i]+=","+ws(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function Xw(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let n=s.viewFrom_;n===""&&(s.isViewFromLeft()?n="l":n="r"),e.vf=n}return s.index_!==Us&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends f2{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Kd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Se(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const o=xm.getListenId_(e,i),l={};this.listens_[o]=l;const c=Jw(e._queryParams);this.restRequest_(a+".json",c,(d,h)=>{let m=h;if(d===404&&(m=null,d=null),d===null&&this.onDataUpdate_(a,m,!1,i),Go(this.listens_,o)===l){let p;d?d===401?p="permission_denied":p="rest_error:"+d:p="ok",r(p,null)}})}unlisten(e,n){const i=xm.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Jw(e._queryParams),i=e._path.toString(),r=new Zm;return this.restRequest_(i+".json",n,(a,o)=>{let l=o;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(i,l,!1,null),r.resolve(l)):r.reject(new Error(l))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,a])=>{r&&r.accessToken&&(n.auth=r.accessToken),a&&a.token&&(n.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fl(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=sd(l.responseText)}catch{dn("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,c)}else l.status!==401&&l.status!==404&&dn("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(){this.rootNode_=Nt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){return{value:null,children:new Map}}function C2(s,e,n){if(ct(e))s.value=n,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,n);else{const i=ot(e);s.children.has(i)||s.children.set(i,ym());const r=s.children.get(i);e=Lt(e),C2(r,e,n)}}function Cv(s,e,n){s.value!==null?n(e,s.value):rU(s,(i,r)=>{const a=new Vt(e.toString()+"/"+i);Cv(r,a,n)})}function rU(s,e){s.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Mn(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=10*1e3,oU=30*1e3,lU=5*60*1e3;class cU{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new aU(e);const i=Zw+(oU-Zw)*Math.random();Tc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Mn(e,(r,a)=>{a>0&&sr(this.statsToReport_,r)&&(n[r]=a,i=!0)}),i&&this.server_.reportStats(n),Tc(this.reportStats_.bind(this),Math.floor(Math.random()*2*lU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(si||(si={}));function T2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function E2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function P2(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=si.ACK_USER_WRITE,this.source=T2()}operationForChild(e){if(ct(this.path)){if(this.affectedTree.value!=null)return Se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Vt(e));return new jm(_t(),n,this.revert)}}else return Se(ot(this.path)===e,"operationForChild called for unrelated child."),new jm(Lt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=si.OVERWRITE}operationForChild(e){return ct(this.path)?new Oa(this.source,_t(),this.snap.getImmediateChild(e)):new Oa(this.source,Lt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=si.MERGE}operationForChild(e){if(ct(this.path)){const n=this.children.subtree(new Vt(e));return n.isEmpty()?null:n.value?new Oa(this.source,_t(),n.value):new vd(this.source,_t(),n)}else return Se(ot(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vd(this.source,Lt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ct(e))return this.isFullyInitialized()&&!this.filtered_;const n=ot(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function dU(s,e,n,i){const r=[],a=[];return e.forEach(o=>{o.type==="child_changed"&&s.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(nU(o.childName,o.snapshotNode))}),tc(s,r,"child_removed",e,i,n),tc(s,r,"child_added",e,i,n),tc(s,r,"child_moved",a,i,n),tc(s,r,"child_changed",e,i,n),tc(s,r,"value",e,i,n),r}function tc(s,e,n,i,r,a){const o=i.filter(l=>l.type===n);o.sort((l,c)=>hU(s,l,c)),o.forEach(l=>{const c=uU(s,l,a);r.forEach(d=>{d.respondsTo(l.type)&&e.push(d.createEvent(c,s.query_))})})}function uU(s,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function hU(s,e,n){if(e.childName==null||n.childName==null)throw pl("Should only compare child_ events.");const i=new ut(e.childName,e.snapshotNode),r=new ut(n.childName,n.snapshotNode);return s.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(s,e){return{eventCache:s,serverCache:e}}function Ec(s,e,n,i){return A2(new fj(e,n,i),s.serverCache)}function R2(s,e,n,i){return A2(s.eventCache,new fj(e,n,i))}function Tv(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Va(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af;const mU=()=>(Af||(Af=new tn(Z9)),Af);class Mt{constructor(e,n=mU()){this.value=e,this.children=n}static fromObject(e){let n=new Mt(null);return Mn(e,(i,r)=>{n=n.set(new Vt(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:_t(),value:this.value};if(ct(e))return null;{const i=ot(e),r=this.children.get(i);if(r!==null){const a=r.findRootMostMatchingPathAndValue(Lt(e),n);return a!=null?{path:ls(new Vt(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ct(e))return this;{const n=ot(e),i=this.children.get(n);return i!==null?i.subtree(Lt(e)):new Mt(null)}}set(e,n){if(ct(e))return new Mt(n,this.children);{const i=ot(e),a=(this.children.get(i)||new Mt(null)).set(Lt(e),n),o=this.children.insert(i,a);return new Mt(this.value,o)}}remove(e){if(ct(e))return this.children.isEmpty()?new Mt(null):new Mt(null,this.children);{const n=ot(e),i=this.children.get(n);if(i){const r=i.remove(Lt(e));let a;return r.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,r),this.value===null&&a.isEmpty()?new Mt(null):new Mt(this.value,a)}else return this}}get(e){if(ct(e))return this.value;{const n=ot(e),i=this.children.get(n);return i?i.get(Lt(e)):null}}setTree(e,n){if(ct(e))return n;{const i=ot(e),a=(this.children.get(i)||new Mt(null)).setTree(Lt(e),n);let o;return a.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,a),new Mt(this.value,o)}}fold(e){return this.fold_(_t(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,a)=>{i[r]=a.fold_(ls(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,_t(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(ct(e))return null;{const a=ot(e),o=this.children.get(a);return o?o.findOnPath_(Lt(e),ls(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,_t(),n)}foreachOnPath_(e,n,i){if(ct(e))return this;{this.value&&i(n,this.value);const r=ot(e),a=this.children.get(r);return a?a.foreachOnPath_(Lt(e),ls(n,r),i):new Mt(null)}}foreach(e){this.foreach_(_t(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(ls(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.writeTree_=e}static empty(){return new Qn(new Mt(null))}}function Pc(s,e,n){if(ct(e))return new Qn(new Mt(n));{const i=s.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let a=i.value;const o=_n(r,e);return a=a.updateChild(o,n),new Qn(s.writeTree_.set(r,a))}else{const r=new Mt(n),a=s.writeTree_.setTree(e,r);return new Qn(a)}}}function eS(s,e,n){let i=s;return Mn(n,(r,a)=>{i=Pc(i,ls(e,r),a)}),i}function tS(s,e){if(ct(e))return Qn.empty();{const n=s.writeTree_.setTree(e,new Mt(null));return new Qn(n)}}function Ev(s,e){return za(s,e)!=null}function za(s,e){const n=s.writeTree_.findRootMostValueAndPath(e);return n!=null?s.writeTree_.get(n.path).getChild(_n(n.path,e)):null}function sS(s){const e=[],n=s.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Us,(i,r)=>{e.push(new ut(i,r))}):s.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new ut(i,r.value))}),e}function Mr(s,e){if(ct(e))return s;{const n=za(s,e);return n!=null?new Qn(new Mt(n)):new Qn(s.writeTree_.subtree(e))}}function Pv(s){return s.writeTree_.isEmpty()}function il(s,e){return I2(_t(),s.writeTree_,e)}function I2(s,e,n){if(e.value!=null)return n.updateChild(s,e.value);{let i=null;return e.children.inorderTraversal((r,a)=>{r===".priority"?(Se(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=I2(ls(s,r),a,n)}),!n.getChild(s).isEmpty()&&i!==null&&(n=n.updateChild(ls(s,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(s,e){return F2(e,s)}function pU(s,e,n,i,r){Se(i>s.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),s.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(s.visibleWrites=Pc(s.visibleWrites,e,n)),s.lastWriteId=i}function fU(s,e){for(let n=0;n<s.allWrites.length;n++){const i=s.allWrites[n];if(i.writeId===e)return i}return null}function gU(s,e){const n=s.allWrites.findIndex(l=>l.writeId===e);Se(n>=0,"removeWrite called with nonexistent writeId.");const i=s.allWrites[n];s.allWrites.splice(n,1);let r=i.visible,a=!1,o=s.allWrites.length-1;for(;r&&o>=0;){const l=s.allWrites[o];l.visible&&(o>=n&&vU(l,i.path)?r=!1:Wn(i.path,l.path)&&(a=!0)),o--}if(r){if(a)return xU(s),!0;if(i.snap)s.visibleWrites=tS(s.visibleWrites,i.path);else{const l=i.children;Mn(l,c=>{s.visibleWrites=tS(s.visibleWrites,ls(i.path,c))})}return!0}else return!1}function vU(s,e){if(s.snap)return Wn(s.path,e);for(const n in s.children)if(s.children.hasOwnProperty(n)&&Wn(ls(s.path,n),e))return!0;return!1}function xU(s){s.visibleWrites=M2(s.allWrites,yU,_t()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function yU(s){return s.visible}function M2(s,e,n){let i=Qn.empty();for(let r=0;r<s.length;++r){const a=s[r];if(e(a)){const o=a.path;let l;if(a.snap)Wn(n,o)?(l=_n(n,o),i=Pc(i,l,a.snap)):Wn(o,n)&&(l=_n(o,n),i=Pc(i,_t(),a.snap.getChild(l)));else if(a.children){if(Wn(n,o))l=_n(n,o),i=eS(i,l,a.children);else if(Wn(o,n))if(l=_n(o,n),ct(l))i=eS(i,_t(),a.children);else{const c=Go(a.children,ot(l));if(c){const d=c.getChild(Lt(l));i=Pc(i,_t(),d)}}}else throw pl("WriteRecord should have .snap or .children")}}return i}function L2(s,e,n,i,r){if(!i&&!r){const a=za(s.visibleWrites,e);if(a!=null)return a;{const o=Mr(s.visibleWrites,e);if(Pv(o))return n;if(n==null&&!Ev(o,_t()))return null;{const l=n||Nt.EMPTY_NODE;return il(o,l)}}}else{const a=Mr(s.visibleWrites,e);if(!r&&Pv(a))return n;if(!r&&n==null&&!Ev(a,_t()))return null;{const o=function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(Wn(d.path,e)||Wn(e,d.path))},l=M2(s.allWrites,o,e),c=n||Nt.EMPTY_NODE;return il(l,c)}}}function jU(s,e,n){let i=Nt.EMPTY_NODE;const r=za(s.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Us,(a,o)=>{i=i.updateImmediateChild(a,o)}),i;if(n){const a=Mr(s.visibleWrites,e);return n.forEachChild(Us,(o,l)=>{const c=il(Mr(a,new Vt(o)),l);i=i.updateImmediateChild(o,c)}),sS(a).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const a=Mr(s.visibleWrites,e);return sS(a).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function NU(s,e,n,i,r){Se(i||r,"Either existingEventSnap or existingServerSnap must exist");const a=ls(e,n);if(Ev(s.visibleWrites,a))return null;{const o=Mr(s.visibleWrites,a);return Pv(o)?r.getChild(n):il(o,r.getChild(n))}}function bU(s,e,n,i){const r=ls(e,n),a=za(s.visibleWrites,r);if(a!=null)return a;if(i.isCompleteForChild(n)){const o=Mr(s.visibleWrites,r);return il(o,i.getNode().getImmediateChild(n))}else return null}function wU(s,e){return za(s.visibleWrites,e)}function SU(s,e,n,i,r,a,o){let l;const c=Mr(s.visibleWrites,e),d=za(c,_t());if(d!=null)l=d;else if(n!=null)l=il(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],m=o.getCompare(),p=a?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let g=p.getNext();for(;g&&h.length<r;)m(g,i)!==0&&h.push(g),g=p.getNext();return h}else return[]}function kU(){return{visibleWrites:Qn.empty(),allWrites:[],lastWriteId:-1}}function Av(s,e,n,i){return L2(s.writeTree,s.treePath,e,n,i)}function O2(s,e){return jU(s.writeTree,s.treePath,e)}function nS(s,e,n,i){return NU(s.writeTree,s.treePath,e,n,i)}function Nm(s,e){return wU(s.writeTree,ls(s.treePath,e))}function _U(s,e,n,i,r,a){return SU(s.writeTree,s.treePath,e,n,i,r,a)}function gj(s,e,n){return bU(s.writeTree,s.treePath,e,n)}function V2(s,e){return F2(ls(s.treePath,e),s.writeTree)}function F2(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Se(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Se(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const a=r.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,Yw(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,sU(i,r.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,tU(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,Yw(i,e.snapshotNode,r.oldSnap));else throw pl("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const B2=new TU;class vj{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new fj(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gj(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Va(this.viewCache_),a=_U(this.writes_,r,n,1,i,e);return a.length===0?null:a[0]}}function EU(s,e){Se(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Se(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function PU(s,e,n,i,r){const a=new CU;let o,l;if(n.type===si.OVERWRITE){const d=n;d.source.fromUser?o=Rv(s,e,d.path,d.snap,i,r,a):(Se(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered()&&!ct(d.path),o=bm(s,e,d.path,d.snap,i,r,l,a))}else if(n.type===si.MERGE){const d=n;d.source.fromUser?o=RU(s,e,d.path,d.children,i,r,a):(Se(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered(),o=Iv(s,e,d.path,d.children,i,r,l,a))}else if(n.type===si.ACK_USER_WRITE){const d=n;d.revert?o=MU(s,e,d.path,i,r,a):o=IU(s,e,d.path,d.affectedTree,i,r,a)}else if(n.type===si.LISTEN_COMPLETE)o=DU(s,e,n.path,i,a);else throw pl("Unknown operation type: "+n.type);const c=a.getChanges();return AU(e,o,c),{viewCache:o,changes:c}}function AU(s,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Tv(s);(n.length>0||!s.eventCache.isFullyInitialized()||r&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(eU(Tv(e)))}}function U2(s,e,n,i,r,a){const o=e.eventCache;if(Nm(i,n)!=null)return e;{let l,c;if(ct(n))if(Se(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=Va(e),h=d instanceof Nt?d:Nt.EMPTY_NODE,m=O2(i,h);l=s.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const d=Av(i,Va(e));l=s.filter.updateFullNode(e.eventCache.getNode(),d,a)}else{const d=ot(n);if(d===".priority"){Se(qr(n)===1,"Can't have a priority with additional path components");const h=o.getNode();c=e.serverCache.getNode();const m=nS(i,n,h,c);m!=null?l=s.filter.updatePriority(h,m):l=o.getNode()}else{const h=Lt(n);let m;if(o.isCompleteForChild(d)){c=e.serverCache.getNode();const p=nS(i,n,o.getNode(),c);p!=null?m=o.getNode().getImmediateChild(d).updateChild(h,p):m=o.getNode().getImmediateChild(d)}else m=gj(i,d,e.serverCache);m!=null?l=s.filter.updateChild(o.getNode(),d,m,h,r,a):l=o.getNode()}}return Ec(e,l,o.isFullyInitialized()||ct(n),s.filter.filtersNodes())}}function bm(s,e,n,i,r,a,o,l){const c=e.serverCache;let d;const h=o?s.filter:s.filter.getIndexedFilter();if(ct(n))d=h.updateFullNode(c.getNode(),i,null);else if(h.filtersNodes()&&!c.isFiltered()){const g=c.getNode().updateChild(n,i);d=h.updateFullNode(c.getNode(),g,null)}else{const g=ot(n);if(!c.isCompleteForPath(n)&&qr(n)>1)return e;const x=Lt(n),v=c.getNode().getImmediateChild(g).updateChild(x,i);g===".priority"?d=h.updatePriority(c.getNode(),v):d=h.updateChild(c.getNode(),g,v,x,B2,null)}const m=R2(e,d,c.isFullyInitialized()||ct(n),h.filtersNodes()),p=new vj(r,m,a);return U2(s,m,n,r,p,l)}function Rv(s,e,n,i,r,a,o){const l=e.eventCache;let c,d;const h=new vj(r,e,a);if(ct(n))d=s.filter.updateFullNode(e.eventCache.getNode(),i,o),c=Ec(e,d,!0,s.filter.filtersNodes());else{const m=ot(n);if(m===".priority")d=s.filter.updatePriority(e.eventCache.getNode(),i),c=Ec(e,d,l.isFullyInitialized(),l.isFiltered());else{const p=Lt(n),g=l.getNode().getImmediateChild(m);let x;if(ct(p))x=i;else{const j=h.getCompleteChild(m);j!=null?v2(p)===".priority"&&j.getChild(y2(p)).isEmpty()?x=j:x=j.updateChild(p,i):x=Nt.EMPTY_NODE}if(g.equals(x))c=e;else{const j=s.filter.updateChild(l.getNode(),m,x,p,h,o);c=Ec(e,j,l.isFullyInitialized(),s.filter.filtersNodes())}}}return c}function iS(s,e){return s.eventCache.isCompleteForChild(e)}function RU(s,e,n,i,r,a,o){let l=e;return i.foreach((c,d)=>{const h=ls(n,c);iS(e,ot(h))&&(l=Rv(s,l,h,d,r,a,o))}),i.foreach((c,d)=>{const h=ls(n,c);iS(e,ot(h))||(l=Rv(s,l,h,d,r,a,o))}),l}function rS(s,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Iv(s,e,n,i,r,a,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,d;ct(n)?d=i:d=new Mt(null).setTree(n,i);const h=e.serverCache.getNode();return d.children.inorderTraversal((m,p)=>{if(h.hasChild(m)){const g=e.serverCache.getNode().getImmediateChild(m),x=rS(s,g,p);c=bm(s,c,new Vt(m),x,r,a,o,l)}}),d.children.inorderTraversal((m,p)=>{const g=!e.serverCache.isCompleteForChild(m)&&p.value===null;if(!h.hasChild(m)&&!g){const x=e.serverCache.getNode().getImmediateChild(m),j=rS(s,x,p);c=bm(s,c,new Vt(m),j,r,a,o,l)}}),c}function IU(s,e,n,i,r,a,o){if(Nm(r,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(i.value!=null){if(ct(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return bm(s,e,n,c.getNode().getChild(n),r,a,l,o);if(ct(n)){let d=new Mt(null);return c.getNode().forEachChild(Oo,(h,m)=>{d=d.set(new Vt(h),m)}),Iv(s,e,n,d,r,a,l,o)}else return e}else{let d=new Mt(null);return i.foreach((h,m)=>{const p=ls(n,h);c.isCompleteForPath(p)&&(d=d.set(h,c.getNode().getChild(p)))}),Iv(s,e,n,d,r,a,l,o)}}function DU(s,e,n,i,r){const a=e.serverCache,o=R2(e,a.getNode(),a.isFullyInitialized()||ct(n),a.isFiltered());return U2(s,o,n,i,B2,r)}function MU(s,e,n,i,r,a){let o;if(Nm(i,n)!=null)return e;{const l=new vj(i,e,r),c=e.eventCache.getNode();let d;if(ct(n)||ot(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Av(i,Va(e));else{const m=e.serverCache.getNode();Se(m instanceof Nt,"serverChildren would be complete if leaf node"),h=O2(i,m)}h=h,d=s.filter.updateFullNode(c,h,a)}else{const h=ot(n);let m=gj(i,h,e.serverCache);m==null&&e.serverCache.isCompleteForChild(h)&&(m=c.getImmediateChild(h)),m!=null?d=s.filter.updateChild(c,h,m,Lt(n),l,a):e.eventCache.getNode().hasChild(h)?d=s.filter.updateChild(c,h,Nt.EMPTY_NODE,Lt(n),l,a):d=c,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Av(i,Va(e)),o.isLeafNode()&&(d=s.filter.updateFullNode(d,o,a)))}return o=e.serverCache.isFullyInitialized()||Nm(i,_t())!=null,Ec(e,d,o,s.filter.filtersNodes())}}function LU(s,e){const n=Va(s.viewCache_);return n&&(s.query._queryParams.loadsAllData()||!ct(e)&&!n.getImmediateChild(ot(e)).isEmpty())?n.getChild(e):null}function aS(s,e,n,i){e.type===si.MERGE&&e.source.queryId!==null&&(Se(Va(s.viewCache_),"We should always have a full cache before handling merges"),Se(Tv(s.viewCache_),"Missing event cache, even though we have a server cache"));const r=s.viewCache_,a=PU(s.processor_,r,e,n,i);return EU(s.processor_,a.viewCache),Se(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=a.viewCache,OU(s,a.changes,a.viewCache.eventCache.getNode())}function OU(s,e,n,i){const r=s.eventRegistrations_;return dU(s.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oS;function VU(s){Se(!oS,"__referenceConstructor has already been defined"),oS=s}function xj(s,e,n,i){const r=e.source.queryId;if(r!==null){const a=s.views.get(r);return Se(a!=null,"SyncTree gave us an op for an invalid query."),aS(a,e,n,i)}else{let a=[];for(const o of s.views.values())a=a.concat(aS(o,e,n,i));return a}}function yj(s,e){let n=null;for(const i of s.views.values())n=n||LU(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lS;function FU(s){Se(!lS,"__referenceConstructor has already been defined"),lS=s}class cS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mt(null),this.pendingWriteTree_=kU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $2(s,e,n,i,r){return pU(s.pendingWriteTree_,e,n,i,r),r?wp(s,new Oa(T2(),e,n)):[]}function ma(s,e,n=!1){const i=fU(s.pendingWriteTree_,e);if(gU(s.pendingWriteTree_,e)){let a=new Mt(null);return i.snap!=null?a=a.set(_t(),!0):Mn(i.children,o=>{a=a.set(new Vt(o),!0)}),wp(s,new jm(i.path,a,n))}else return[]}function bp(s,e,n){return wp(s,new Oa(E2(),e,n))}function BU(s,e,n){const i=Mt.fromObject(n);return wp(s,new vd(E2(),e,i))}function UU(s,e,n,i){const r=W2(s,i);if(r!=null){const a=H2(r),o=a.path,l=a.queryId,c=_n(o,e),d=new Oa(P2(l),c,n);return G2(s,o,d)}else return[]}function $U(s,e,n,i){const r=W2(s,i);if(r){const a=H2(r),o=a.path,l=a.queryId,c=_n(o,e),d=Mt.fromObject(n),h=new vd(P2(l),c,d);return G2(s,o,h)}else return[]}function jj(s,e,n){const r=s.pendingWriteTree_,a=s.syncPointTree_.findOnPath(e,(o,l)=>{const c=_n(o,e),d=yj(l,c);if(d)return d});return L2(r,e,a,n,!0)}function wp(s,e){return q2(e,s.syncPointTree_,null,D2(s.pendingWriteTree_,_t()))}function q2(s,e,n,i){if(ct(s.path))return z2(s,e,n,i);{const r=e.get(_t());n==null&&r!=null&&(n=yj(r,_t()));let a=[];const o=ot(s.path),l=s.operationForChild(o),c=e.children.get(o);if(c&&l){const d=n?n.getImmediateChild(o):null,h=V2(i,o);a=a.concat(q2(l,c,d,h))}return r&&(a=a.concat(xj(r,s,i,n))),a}}function z2(s,e,n,i){const r=e.get(_t());n==null&&r!=null&&(n=yj(r,_t()));let a=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,d=V2(i,o),h=s.operationForChild(o);h&&(a=a.concat(z2(h,l,c,d)))}),r&&(a=a.concat(xj(r,s,i,n))),a}function W2(s,e){return s.tagToQueryMap.get(e)}function H2(s){const e=s.indexOf("$");return Se(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Vt(s.substr(0,e))}}function G2(s,e,n){const i=s.syncPointTree_.get(e);Se(i,"Missing sync point for query tag that we're tracking");const r=D2(s.pendingWriteTree_,e);return xj(i,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Nj(n)}node(){return this.node_}}class bj{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ls(this.path_,e);return new bj(this.syncTree_,n)}node(){return jj(this.syncTree_,this.path_)}}const qU=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},dS=function(s,e,n){if(!s||typeof s!="object")return s;if(Se(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return zU(s[".sv"],e,n);if(typeof s[".sv"]=="object")return WU(s[".sv"],e);Se(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},zU=function(s,e,n){switch(s){case"timestamp":return n.timestamp;default:Se(!1,"Unexpected server value: "+s)}},WU=function(s,e,n){s.hasOwnProperty("increment")||Se(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const i=s.increment;typeof i!="number"&&Se(!1,"Unexpected increment value: "+i);const r=e.node();if(Se(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},HU=function(s,e,n,i){return wj(e,new bj(n,s),i)},K2=function(s,e,n){return wj(s,new Nj(e),n)};function wj(s,e,n){const i=s.getPriority().val(),r=dS(i,e.getImmediateChild(".priority"),n);let a;if(s.isLeafNode()){const o=s,l=dS(o.getValue(),e,n);return l!==o.getValue()||r!==o.getPriority().val()?new ms(l,bs(r)):s}else{const o=s;return a=o,r!==o.getPriority().val()&&(a=a.updatePriority(new ms(r))),o.forEachChild(Us,(l,c)=>{const d=wj(c,e.getImmediateChild(l),n);d!==c&&(a=a.updateImmediateChild(l,d))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function kj(s,e){let n=e instanceof Vt?e:new Vt(e),i=s,r=ot(n);for(;r!==null;){const a=Go(i.node.children,r)||{children:{},childCount:0};i=new Sj(r,i,a),n=Lt(n),r=ot(n)}return i}function kl(s){return s.node.value}function Q2(s,e){s.node.value=e,Dv(s)}function Y2(s){return s.node.childCount>0}function GU(s){return kl(s)===void 0&&!Y2(s)}function Sp(s,e){Mn(s.node.children,(n,i)=>{e(new Sj(n,s,i))})}function J2(s,e,n,i){n&&e(s),Sp(s,r=>{J2(r,e,!0)})}function KU(s,e,n){let i=s.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Yd(s){return new Vt(s.parent===null?s.name:Yd(s.parent)+"/"+s.name)}function Dv(s){s.parent!==null&&QU(s.parent,s.name,s)}function QU(s,e,n){const i=GU(n),r=sr(s.node.children,e);i&&r?(delete s.node.children[e],s.node.childCount--,Dv(s)):!i&&!r&&(s.node.children[e]=n.node,s.node.childCount++,Dv(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=/[\[\].#$\/\u0000-\u001F\u007F]/,JU=/[\[\].#$\u0000-\u001F\u007F]/,Rf=10*1024*1024,X2=function(s){return typeof s=="string"&&s.length!==0&&!YU.test(s)},Z2=function(s){return typeof s=="string"&&s.length!==0&&!JU.test(s)},XU=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Z2(s)},eP=function(s,e,n,i){i&&e===void 0||_j(cy(s,"value"),e,n)},_j=function(s,e,n){const i=n instanceof Vt?new DB(n,s):n;if(e===void 0)throw new Error(s+"contains undefined "+ia(i));if(typeof e=="function")throw new Error(s+"contains a function "+ia(i)+" with contents = "+e.toString());if(YE(e))throw new Error(s+"contains "+e.toString()+" "+ia(i));if(typeof e=="string"&&e.length>Rf/3&&ep(e)>Rf)throw new Error(s+"contains a string greater than "+Rf+" utf8 bytes "+ia(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,a=!1;if(Mn(e,(o,l)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!X2(o)))throw new Error(s+" contains an invalid key ("+o+") "+ia(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);MB(i,o),_j(s,l,i),LB(i)}),r&&a)throw new Error(s+' contains ".value" child '+ia(i)+" in addition to actual children.")}},tP=function(s,e,n,i){if(!Z2(n))throw new Error(cy(s,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ZU=function(s,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),tP(s,e,n)},sP=function(s,e){if(ot(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},e8=function(s,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!X2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!XU(n))throw new Error(cy(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nP(s,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],a=r.getPath();n!==null&&!j2(a,n.path)&&(s.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(r)}n&&s.eventLists_.push(n)}function Qi(s,e,n){nP(s,n),s8(s,i=>Wn(i,e)||Wn(e,i))}function s8(s,e){s.recursionDepth_++;let n=!0;for(let i=0;i<s.eventLists_.length;i++){const r=s.eventLists_[i];if(r){const a=r.path;e(a)?(n8(s.eventLists_[i]),s.eventLists_[i]=null):n=!1}}n&&(s.eventLists_=[]),s.recursionDepth_--}function n8(s){for(let e=0;e<s.events.length;e++){const n=s.events[e];if(n!==null){s.events[e]=null;const i=n.getEventRunner();Cc&&Vs("event: "+n.toString()),Sl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="repo_interrupt",r8=25;class a8{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new t8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ym(),this.transactionQueueTree_=new Sj,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function o8(s,e,n){if(s.stats_=dj(s.repoInfo_),s.forceRestClient_||rB())s.server_=new xm(s.repoInfo_,(i,r,a,o)=>{uS(s,i,r,a,o)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>hS(s,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ws(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}s.persistentConnection_=new Fi(s.repoInfo_,e,(i,r,a,o)=>{uS(s,i,r,a,o)},i=>{hS(s,i)},i=>{l8(s,i)},s.authTokenProvider_,s.appCheckProvider_,n),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(i=>{s.server_.refreshAuthToken(i)}),s.appCheckProvider_.addTokenChangeListener(i=>{s.server_.refreshAppCheckToken(i.token)}),s.statsReporter_=dB(s.repoInfo_,()=>new cU(s.stats_,s.server_)),s.infoData_=new iU,s.infoSyncTree_=new cS({startListening:(i,r,a,o)=>{let l=[];const c=s.infoData_.getNode(i._path);return c.isEmpty()||(l=bp(s.infoSyncTree_,i._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Tj(s,"connected",!1),s.serverSyncTree_=new cS({startListening:(i,r,a,o)=>(s.server_.listen(i,a,r,(l,c)=>{const d=o(l,c);Qi(s.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{s.server_.unlisten(i,r)}})}function iP(s){const n=s.infoData_.getNode(new Vt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Cj(s){return qU({timestamp:iP(s)})}function uS(s,e,n,i,r){s.dataUpdateCount++;const a=new Vt(e);n=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const c=Xh(n,d=>bs(d));o=$U(s.serverSyncTree_,a,c,r)}else{const c=bs(n);o=UU(s.serverSyncTree_,a,c,r)}else if(i){const c=Xh(n,d=>bs(d));o=BU(s.serverSyncTree_,a,c)}else{const c=bs(n);o=bp(s.serverSyncTree_,a,c)}let l=a;o.length>0&&(l=kp(s,a)),Qi(s.eventQueue_,l,o)}function hS(s,e){Tj(s,"connected",e),e===!1&&d8(s)}function l8(s,e){Mn(e,(n,i)=>{Tj(s,n,i)})}function Tj(s,e,n){const i=new Vt("/.info/"+e),r=bs(n);s.infoData_.updateSnapshot(i,r);const a=bp(s.infoSyncTree_,i,r);Qi(s.eventQueue_,i,a)}function rP(s){return s.nextWriteId_++}function c8(s,e,n,i,r){Ej(s,"set",{path:e.toString(),value:n,priority:i});const a=Cj(s),o=bs(n,i),l=jj(s.serverSyncTree_,e),c=K2(o,l,a),d=rP(s),h=$2(s.serverSyncTree_,e,c,d,!0);nP(s.eventQueue_,h),s.server_.put(e.toString(),o.val(!0),(p,g)=>{const x=p==="ok";x||dn("set at "+e+" failed: "+p);const j=ma(s.serverSyncTree_,d,!x);Qi(s.eventQueue_,e,j),h8(s,r,p,g)});const m=dP(s,e);kp(s,m),Qi(s.eventQueue_,m,[])}function d8(s){Ej(s,"onDisconnectEvents");const e=Cj(s),n=ym();Cv(s.onDisconnect_,_t(),(r,a)=>{const o=HU(r,a,s.serverSyncTree_,e);C2(n,r,o)});let i=[];Cv(n,_t(),(r,a)=>{i=i.concat(bp(s.serverSyncTree_,r,a));const o=dP(s,r);kp(s,o)}),s.onDisconnect_=ym(),Qi(s.eventQueue_,_t(),i)}function u8(s){s.persistentConnection_&&s.persistentConnection_.interrupt(i8)}function Ej(s,...e){let n="";s.persistentConnection_&&(n=s.persistentConnection_.id+":"),Vs(n,...e)}function h8(s,e,n,i){e&&Sl(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let a=r;i&&(a+=": "+i);const o=new Error(a);o.code=r,e(o)}})}function aP(s,e,n){return jj(s.serverSyncTree_,e,n)||Nt.EMPTY_NODE}function Pj(s,e=s.transactionQueueTree_){if(e||_p(s,e),kl(e)){const n=lP(s,e);Se(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&m8(s,Yd(e),n)}else Y2(e)&&Sp(e,n=>{Pj(s,n)})}function m8(s,e,n){const i=n.map(d=>d.currentWriteId),r=aP(s,e,i);let a=r;const o=r.hash();for(let d=0;d<n.length;d++){const h=n[d];Se(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const m=_n(e,h.path);a=a.updateChild(m,h.currentOutputSnapshotRaw)}const l=a.val(!0),c=e;s.server_.put(c.toString(),l,d=>{Ej(s,"transaction put response",{path:c.toString(),status:d});let h=[];if(d==="ok"){const m=[];for(let p=0;p<n.length;p++)n[p].status=2,h=h.concat(ma(s.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&m.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();_p(s,kj(s.transactionQueueTree_,e)),Pj(s,s.transactionQueueTree_),Qi(s.eventQueue_,e,h);for(let p=0;p<m.length;p++)Sl(m[p])}else{if(d==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{dn("transaction at "+c.toString()+" failed: "+d);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=d}kp(s,e)}},o)}function kp(s,e){const n=oP(s,e),i=Yd(n),r=lP(s,n);return p8(s,r,i),i}function p8(s,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],d=_n(n,c.path);let h=!1,m;if(Se(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,m=c.abortReason,r=r.concat(ma(s.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=r8)h=!0,m="maxretry",r=r.concat(ma(s.serverSyncTree_,c.currentWriteId,!0));else{const p=aP(s,c.path,o);c.currentInputSnapshot=p;const g=e[l].update(p.val());if(g!==void 0){_j("transaction failed: Data returned ",g,c.path);let x=bs(g);typeof g=="object"&&g!=null&&sr(g,".priority")||(x=x.updatePriority(p.getPriority()));const v=c.currentWriteId,b=Cj(s),N=K2(x,p,b);c.currentOutputSnapshotRaw=x,c.currentOutputSnapshotResolved=N,c.currentWriteId=rP(s),o.splice(o.indexOf(v),1),r=r.concat($2(s.serverSyncTree_,c.path,N,c.currentWriteId,c.applyLocally)),r=r.concat(ma(s.serverSyncTree_,v,!0))}else h=!0,m="nodata",r=r.concat(ma(s.serverSyncTree_,c.currentWriteId,!0))}Qi(s.eventQueue_,n,r),r=[],h&&(e[l].status=2,function(p){setTimeout(p,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(m==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(m),!1,null))))}_p(s,s.transactionQueueTree_);for(let l=0;l<i.length;l++)Sl(i[l]);Pj(s,s.transactionQueueTree_)}function oP(s,e){let n,i=s.transactionQueueTree_;for(n=ot(e);n!==null&&kl(i)===void 0;)i=kj(i,n),e=Lt(e),n=ot(e);return i}function lP(s,e){const n=[];return cP(s,e,n),n.sort((i,r)=>i.order-r.order),n}function cP(s,e,n){const i=kl(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Sp(e,r=>{cP(s,r,n)})}function _p(s,e){const n=kl(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,Q2(e,n.length>0?n:void 0)}Sp(e,i=>{_p(s,i)})}function dP(s,e){const n=Yd(oP(s,e)),i=kj(s.transactionQueueTree_,e);return KU(i,r=>{If(s,r)}),If(s,i),J2(i,r=>{If(s,r)}),n}function If(s,e){const n=kl(e);if(n){const i=[];let r=[],a=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Se(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Se(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(ma(s.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?Q2(e,void 0):n.length=a+1,Qi(s.eventQueue_,Yd(e),r);for(let o=0;o<i.length;o++)Sl(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(s){let e="";const n=s.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function g8(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const n of s.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):dn(`Invalid query segment '${n}' in query '${s}'`)}return e}const mS=function(s,e){const n=v8(s),i=n.namespace;n.domain==="firebase.com"&&Ki(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Ki("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||J9();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new l2(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Vt(n.pathString)}},v8=function(s){let e="",n="",i="",r="",a="",o=!0,l="https",c=443;if(typeof s=="string"){let d=s.indexOf("//");d>=0&&(l=s.substring(0,d-1),s=s.substring(d+2));let h=s.indexOf("/");h===-1&&(h=s.length);let m=s.indexOf("?");m===-1&&(m=s.length),e=s.substring(0,Math.min(h,m)),h<m&&(r=f8(s.substring(h,m)));const p=g8(s.substring(Math.min(s.length,m)));d=e.indexOf(":"),d>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(d+1),10)):d=e.length;const g=e.slice(0,d);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),n=e.substring(x+1),a=i}"ns"in p&&(a=p.ns)}return{host:e,port:c,domain:n,subdomain:i,secure:o,scheme:l,pathString:r,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",x8=function(){let s=0;const e=[];return function(n){const i=n===s;s=n;let r;const a=new Array(8);for(r=7;r>=0;r--)a[r]=pS.charAt(n%64),n=Math.floor(n/64);Se(n===0,"Cannot push at time == 0");let o=a.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=pS.charAt(e[r]);return Se(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return ct(this._path)?null:v2(this._path)}get ref(){return new Wa(this._repo,this._path)}get _queryIdentifier(){const e=Xw(this._queryParams),n=lj(e);return n==="{}"?"default":n}get _queryObject(){return Xw(this._queryParams)}isEqual(e){if(e=us(e),!(e instanceof Aj))return!1;const n=this._repo===e._repo,i=j2(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+IB(this._path)}}class Wa extends Aj{constructor(e,n){super(e,n,new pj,!1)}get parent(){const e=y2(this._path);return e===null?null:new Wa(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function y8(s,e){return s=us(s),s._checkNotDeleted("ref"),e!==void 0?Mv(s._root,e):s._root}function Mv(s,e){return s=us(s),ot(s._path)===null?ZU("child","path",e):tP("child","path",e),new Wa(s._repo,ls(s._path,e))}function j8(s,e){s=us(s),sP("push",s._path),eP("push",e,s._path,!0);const n=iP(s._repo),i=x8(n),r=Mv(s,i),a=Mv(s,i);let o;return o=Promise.resolve(a),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function N8(s,e){s=us(s),sP("set",s._path),eP("set",e,s._path,!1);const n=new Zm;return c8(s._repo,s._path,e,null,n.wrapCallback(()=>{})),n.promise}VU(Wa);FU(Wa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="FIREBASE_DATABASE_EMULATOR_HOST",Lv={};let w8=!1;function S8(s,e,n,i){s.repoInfo_=new l2(`${e}:${n}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0),i&&(s.authTokenProvider_=i)}function k8(s,e,n,i,r){let a=i||s.options.databaseURL;a===void 0&&(s.options.projectId||Ki("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vs("Using default host for project ",s.options.projectId),a=`${s.options.projectId}-default-rtdb.firebaseio.com`);let o=mS(a,r),l=o.repoInfo,c;typeof process<"u"&&Iw&&(c=Iw[b8]),c?(a=`http://${c}?ns=${l.namespace}`,o=mS(a,r),l=o.repoInfo):o.repoInfo.secure;const d=new oB(s.name,s.options,e);e8("Invalid Firebase Database URL",o),ct(o.path)||Ki("Database URL must point to the root of a Firebase Database (not including a child path).");const h=C8(l,s,d,new aB(s.name,n));return new T8(h,s)}function _8(s,e){const n=Lv[e];(!n||n[s.key]!==s)&&Ki(`Database ${e}(${s.repoInfo_}) has already been deleted.`),u8(s),delete n[s.key]}function C8(s,e,n,i){let r=Lv[e.name];r||(r={},Lv[e.name]=r);let a=r[s.toURLString()];return a&&Ki("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new a8(s,w8,n,i),r[s.toURLString()]=a,a}class T8{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(o8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wa(this._repo,_t())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ki("Cannot call "+e+" on a deleted database.")}}function E8(s=hy(),e){const n=sp(s,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=uC("database");i&&P8(n,...i)}return n}function P8(s,e,n,i={}){s=us(s),s._checkNotDeleted("useEmulator"),s._instanceStarted&&Ki("Cannot call useEmulator() after instance has already been initialized.");const r=s._repoInternal;let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ki('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new yh(yh.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:pC(i.mockUserToken,s.app.options.projectId);a=new yh(o)}S8(r,e,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(s){W9(Ua),Ea(new Fr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return k8(i,r,a,n)},"PUBLIC").setMultipleInstances(!0)),ri(Dw,Mw,s),ri(Dw,Mw,"esm2017")}Fi.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Fi.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};A8();const R8=ub().length?ub()[0]:uy(vE),I8=E8(R8);function D8(){const{serviceId:s}=Ad(),e=Ct(),[n,i]=f.useState(""),[r,a]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(!1),[h,m]=f.useState(null),[p,g]=f.useState(!1);async function x(){if(!n||!r){m("Please fill in all required fields");return}d(!0),m(null);try{const j={user_id:"u1",provider_id:"p1",service_id:s,datetime:n,address:r,note:o},v=await HE.create(j);try{const b=j8(y8(I8,"bookings"));await N8(b,{id:v.id,status:"pending",amount:999,...j,createdAt:new Date().toISOString()})}catch(b){console.warn("Firebase write failed",b)}g(!0),setTimeout(()=>{e(`/pay/${v.id}`)},2e3)}catch(j){console.error("Booking failed:",j),m("Failed to create booking. Please try again.")}finally{d(!1)}}return t.jsx("div",{className:"booking-flow-advanced",children:t.jsxs("div",{className:"booking-container",children:[t.jsxs("div",{className:"booking-header",children:[t.jsx("h1",{className:"booking-title",children:"Book Service"}),t.jsxs("p",{className:"booking-subtitle",children:["Service ID: ",s]})]}),p&&t.jsxs("div",{className:"success-message",children:[t.jsx("span",{className:"success-icon",children:""}),t.jsx("span",{children:"Booking created successfully! Redirecting to payment..."})]}),h&&t.jsxs("div",{className:"error-message",children:[t.jsx("span",{className:"error-icon",children:""}),t.jsx("span",{children:h})]}),t.jsxs("div",{className:"booking-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Date & Time *"}),t.jsx("input",{className:"form-input",type:"datetime-local",value:n,onChange:j=>i(j.target.value),min:new Date().toISOString().slice(0,16)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Service Address *"}),t.jsx("input",{className:"form-input",placeholder:"Enter your complete address",value:r,onChange:j=>a(j.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Additional Notes (Optional)"}),t.jsx("textarea",{className:"form-textarea",placeholder:"Any specific requirements or instructions...",value:o,onChange:j=>l(j.target.value),rows:4})]}),t.jsxs("div",{className:"booking-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:()=>e("/search"),disabled:c,children:"Back to Search"}),t.jsx("button",{className:"btn-primary",onClick:x,disabled:c,children:c?"Creating Booking...":"Confirm & Continue"})]})]})]})})}function M8(){const{serviceId:s}=Ad(),e=Ct(),[n,i]=f.useState(1),[r,a]=f.useState({name:"",email:"",phone:"",address:"",date:"",time:"",notes:"",paymentMethod:"cod"}),[o,l]=f.useState(!1),c=[{id:"plumbing",name:"Plumbing Services",description:"Professional plumbing solutions for all your needs",price:"800-2000",duration:"2-4 hours",features:["24/7 Emergency","Expert Technicians","Warranty Included"]},{id:"electrical",name:"Electrical Services",description:"Safe and reliable electrical work",price:"1000-3000",duration:"1-3 hours",features:["Licensed Electricians","Safety First","Quality Materials"]},{id:"cleaning",name:"Home Cleaning",description:"Professional cleaning services",price:"500-1500",duration:"2-4 hours",features:["Trained Staff","Eco-Friendly Products","Satisfaction Guaranteed"]}],d=c.find(j=>j.id===s)||c[0],h=j=>{a({...r,[j.target.name]:j.target.value})},m=async j=>{j.preventDefault(),l(!0);try{await new Promise(b=>setTimeout(b,1e3));const v={...r,service:d,serviceId:d.id,serviceName:d.name,price:d.price,timestamp:new Date().toISOString()};r.paymentMethod==="online"?e("/payment/select",{state:v}):e("/payment/cod-confirmation",{state:v})}catch{alert("Something went wrong. Please try again.")}finally{l(!1)}},p=()=>{n<5&&i(n+1)},g=()=>{n>1&&i(n-1)},x=()=>{switch(n){case 1:return!0;case 2:return r.name&&r.email&&r.phone;case 3:return r.address&&r.date&&r.time;case 4:return r.paymentMethod;case 5:return!0;default:return!1}};return t.jsx("div",{className:"booking-flow-advanced",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"booking-header",children:[t.jsx("h1",{children:"Book Your Service"}),t.jsx("p",{children:"Complete your booking in 5 simple steps"})]}),t.jsx("div",{className:"progress-bar",children:t.jsxs("div",{className:"progress-steps",children:[t.jsxs("div",{className:`step ${n>=1?"active":""}`,children:[t.jsx("div",{className:"step-number",children:"1"}),t.jsx("div",{className:"step-label",children:"Service"})]}),t.jsxs("div",{className:`step ${n>=2?"active":""}`,children:[t.jsx("div",{className:"step-number",children:"2"}),t.jsx("div",{className:"step-label",children:"Personal Info"})]}),t.jsxs("div",{className:`step ${n>=3?"active":""}`,children:[t.jsx("div",{className:"step-number",children:"3"}),t.jsx("div",{className:"step-label",children:"Schedule"})]}),t.jsxs("div",{className:`step ${n>=4?"active":""}`,children:[t.jsx("div",{className:"step-number",children:"4"}),t.jsx("div",{className:"step-label",children:"Payment"})]}),t.jsxs("div",{className:`step ${n>=5?"active":""}`,children:[t.jsx("div",{className:"step-number",children:"5"}),t.jsx("div",{className:"step-label",children:"Review"})]})]})}),n===1&&t.jsxs("div",{className:"booking-step",children:[t.jsx("h2",{children:"Select Your Service"}),t.jsx("div",{className:"service-selection",children:t.jsxs("div",{className:"selected-service",children:[t.jsx("h3",{children:d.name}),t.jsx("p",{children:d.description}),t.jsxs("div",{className:"service-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{children:d.price})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{children:d.duration})]})]}),t.jsx("ul",{className:"service-features",children:d.features.map((j,v)=>t.jsx("li",{children:j},v))})]})}),t.jsx("div",{className:"step-actions",children:t.jsx("button",{className:"btn-primary",onClick:p,children:"Continue"})})]}),n===2&&t.jsxs("div",{className:"booking-step",children:[t.jsx("h2",{children:"Personal Information"}),t.jsxs("form",{className:"booking-form",children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Full Name *"}),t.jsx("input",{type:"text",name:"name",value:r.name,onChange:h,placeholder:"Enter your full name",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address *"}),t.jsx("input",{type:"email",name:"email",value:r.email,onChange:h,placeholder:"Enter your email",required:!0})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:h,placeholder:"Enter your phone number",required:!0})]}),t.jsxs("div",{className:"step-actions",children:[t.jsx("button",{type:"button",className:"btn-outline",onClick:g,children:"Back"}),t.jsx("button",{type:"button",className:"btn-primary",onClick:p,disabled:!x(),children:"Continue"})]})]})]}),n===3&&t.jsxs("div",{className:"booking-step",children:[t.jsx("h2",{children:"Schedule Your Service"}),t.jsxs("form",{className:"booking-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Address *"}),t.jsx("textarea",{name:"address",value:r.address,onChange:h,placeholder:"Enter your complete service address",rows:3,required:!0})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Preferred Date *"}),t.jsx("input",{type:"date",name:"date",value:r.date,onChange:h,min:new Date().toISOString().split("T")[0],required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Preferred Time *"}),t.jsxs("select",{name:"time",value:r.time,onChange:h,required:!0,children:[t.jsx("option",{value:"",children:"Select a time"}),t.jsx("option",{value:"09:00",children:"9:00 AM"}),t.jsx("option",{value:"10:00",children:"10:00 AM"}),t.jsx("option",{value:"11:00",children:"11:00 AM"}),t.jsx("option",{value:"14:00",children:"2:00 PM"}),t.jsx("option",{value:"15:00",children:"3:00 PM"}),t.jsx("option",{value:"16:00",children:"4:00 PM"}),t.jsx("option",{value:"17:00",children:"5:00 PM"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Additional Notes"}),t.jsx("textarea",{name:"notes",value:r.notes,onChange:h,placeholder:"Any special requirements or notes...",rows:3})]}),t.jsxs("div",{className:"step-actions",children:[t.jsx("button",{type:"button",className:"btn-outline",onClick:g,children:"Back"}),t.jsx("button",{type:"button",className:"btn-primary",onClick:p,disabled:!x(),children:"Continue"})]})]})]}),n===4&&t.jsxs("div",{className:"booking-step",children:[t.jsx("h2",{children:"Select Payment Method"}),t.jsxs("div",{className:"payment-method-selection",children:[t.jsxs("div",{className:"payment-options",children:[t.jsxs("label",{className:"payment-option",children:[t.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:r.paymentMethod==="cod",onChange:h}),t.jsx("span",{className:"payment-icon",children:""}),t.jsx("span",{children:"Cash on Service"})]}),t.jsxs("label",{className:"payment-option",children:[t.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:r.paymentMethod==="online",onChange:h}),t.jsx("span",{className:"payment-icon",children:""}),t.jsx("span",{children:"Pay Online"})]})]}),r.paymentMethod==="online"&&t.jsx("div",{className:"online-payment-info",children:t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:"Available Payment Methods"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Google Pay (GPay)"}),t.jsx("li",{children:"PhonePe"}),t.jsx("li",{children:"Paytm"}),t.jsx("li",{children:"Amazon Pay"}),t.jsx("li",{children:"Credit/Debit Cards"}),t.jsx("li",{children:"Net Banking"})]}),t.jsx("p",{children:"You will be redirected to a secure payment gateway to complete your payment."})]})}),r.paymentMethod==="cod"&&t.jsx("div",{className:"cod-info",children:t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:"Cash on Service Details"}),t.jsx("p",{children:"Payment will be collected when the service is completed at your location."}),t.jsxs("ul",{children:[t.jsx("li",{children:"Pay the service provider directly"}),t.jsx("li",{children:"Receive official receipt"}),t.jsx("li",{children:"No advance payment required"})]})]})})]}),t.jsxs("div",{className:"step-actions",children:[t.jsx("button",{type:"button",className:"btn-outline",onClick:g,children:"Back"}),t.jsx("button",{type:"button",className:"btn-primary",onClick:p,disabled:!x(),children:"Continue"})]})]}),n===5&&t.jsxs("div",{className:"booking-step",children:[t.jsx("h2",{children:"Review Your Booking"}),t.jsxs("div",{className:"booking-review",children:[t.jsxs("div",{className:"review-section",children:[t.jsx("h3",{children:"Service Details"}),t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Service:"}),t.jsx("span",{className:"value",children:d.name})]}),t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Price Range:"}),t.jsx("span",{className:"value",children:d.price})]}),t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Duration:"}),t.jsx("span",{className:"value",children:d.duration})]})]}),t.jsxs("div",{className:"review-section",children:[t.jsx("h3",{children:"Personal Information"}),t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Name:"}),t.jsx("span",{className:"value",children:r.name})]}),t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Email:"}),t.jsx("span",{className:"value",children:r.email})]}),t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Phone:"}),t.jsx("span",{className:"value",children:r.phone})]})]}),t.jsxs("div",{className:"review-section",children:[t.jsx("h3",{children:"Schedule"}),t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Address:"}),t.jsx("span",{className:"value",children:r.address})]}),t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Date:"}),t.jsx("span",{className:"value",children:r.date})]}),t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Time:"}),t.jsx("span",{className:"value",children:r.time})]}),r.notes&&t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Notes:"}),t.jsx("span",{className:"value",children:r.notes})]})]}),t.jsxs("div",{className:"review-section",children:[t.jsx("h3",{children:"Payment Method"}),t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Payment Type:"}),t.jsx("span",{className:"value",children:r.paymentMethod==="online"?"Pay Online":"Cash on Service"})]}),t.jsxs("div",{className:"review-item",children:[t.jsx("span",{className:"label",children:"Amount:"}),t.jsx("span",{className:"value",children:d.price})]})]})]}),t.jsxs("div",{className:"step-actions",children:[t.jsx("button",{type:"button",className:"btn-outline",onClick:g,children:"Back"}),t.jsx("form",{onSubmit:m,children:t.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Booking...":"Confirm Booking"})})]})]})]})})}function L8(){const{bookingId:s}=Ad(),[e,n]=f.useState(null);return f.useEffect(()=>{let i=!0;async function r(){const o=await HE.track(s);i&&n(o.provider_location)}r();const a=setInterval(r,4e3);return()=>{i=!1,clearInterval(a)}},[s]),t.jsxs("div",{children:[t.jsx("h2",{children:"Live Tracking"}),e?t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-title",children:"Provider location"}),t.jsxs("div",{children:["Lat: ",e.lat.toFixed(4)," Lng: ",e.lng.toFixed(4)]}),t.jsx("div",{style:{color:"#64748b"},children:"Map placeholder (integrate Google Maps later)"})]}):t.jsx("div",{children:"Loading location"})]})}function O8(){const[s,e]=f.useState([]),[n,i]=f.useState(!0),[r,a]=f.useState("all"),[o,l]=f.useState(""),[c,d]=f.useState("date"),[h,m]=f.useState(null),p=[{value:"all",label:"All Bookings",color:"#94a3b8"},{value:"pending",label:"Pending",color:"#f59e0b"},{value:"confirmed",label:"Confirmed",color:"#3b82f6"},{value:"in_progress",label:"In Progress",color:"#8b5cf6"},{value:"completed",label:"Completed",color:"#10b981"},{value:"cancelled",label:"Cancelled",color:"#ef4444"}];async function g(){i(!0),m(null);try{e([{id:"BK001",serviceId:"1",serviceName:"Home Deep Cleaning",providerName:"Sparkle Clean Services",status:"confirmed",amount:1200,datetime:"2024-01-15T10:00:00",address:"123 Main St, Apt 4B, Delhi",description:"Complete home cleaning including kitchen and bathrooms",paymentStatus:"paid",rating:5},{id:"BK002",serviceId:"2",serviceName:"AC Repair & Maintenance",providerName:"CoolAir Experts",status:"in_progress",amount:800,datetime:"2024-01-14T14:30:00",address:"456 Park Avenue, Mumbai",description:"AC not cooling properly, needs inspection and repair",paymentStatus:"pending",trackingId:"TRK123456"},{id:"BK003",serviceId:"3",serviceName:"Emergency Plumbing",providerName:"QuickFix Pro",status:"completed",amount:1500,datetime:"2024-01-12T09:00:00",address:"789 Oak Street, Bangalore",description:"Burst pipe in bathroom, urgent repair needed",paymentStatus:"paid",rating:4,review:"Fast response and professional service"},{id:"BK004",serviceId:"4",serviceName:"Electrical Wiring Check",providerName:"ElectroSafe",status:"pending",amount:600,datetime:"2024-01-16T16:00:00",address:"321 Elm Road, Chennai",description:"Annual electrical inspection and safety check",paymentStatus:"pending"},{id:"BK005",serviceId:"5",serviceName:"Car Service & Repair",providerName:"AutoCare Garage",status:"cancelled",amount:2e3,datetime:"2024-01-10T11:00:00",address:"654 Highway Road, Pune",description:"Regular car service and oil change",paymentStatus:"refunded"}])}catch(D){console.error("Failed to load bookings:",D),m("Failed to load bookings. Please try again.")}finally{i(!1)}}function x(D){const $=p.find(E=>E.value===D);return($==null?void 0:$.color)||"#94a3b8"}function j(D){return{pending:"",confirmed:"",in_progress:"",completed:"",cancelled:""}[D]||""}function v(D){return new Date(D).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function b(D){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(D)}function N(){let D=s;return r!=="all"&&(D=D.filter($=>$.status===r)),o&&(D=D.filter($=>$.serviceName.toLowerCase().includes(o.toLowerCase())||$.providerName.toLowerCase().includes(o.toLowerCase())||$.id.toLowerCase().includes(o.toLowerCase()))),D.sort(($,E)=>{switch(c){case"date":return new Date(E.datetime).getTime()-new Date($.datetime).getTime();case"status":return $.status.localeCompare(E.status);case"amount":return E.amount-$.amount;default:return 0}}),D}f.useEffect(()=>{g()},[]);const C=N(),I={total:s.length,pending:s.filter(D=>D.status==="pending").length,confirmed:s.filter(D=>D.status==="confirmed").length,inProgress:s.filter(D=>D.status==="in_progress").length,completed:s.filter(D=>D.status==="completed").length,cancelled:s.filter(D=>D.status==="cancelled").length};return t.jsxs("div",{className:"my-bookings-advanced",children:[t.jsx("section",{className:"bookings-header",children:t.jsxs("div",{className:"bookings-header-content",children:[t.jsxs("div",{className:"bookings-title-section",children:[t.jsx("h1",{className:"bookings-title",children:"My Bookings"}),t.jsx("p",{className:"bookings-subtitle",children:"Manage and track all your service bookings"})]}),t.jsxs(he,{to:"/search",className:"book-new-service-btn",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Book New Service"})]})]})}),t.jsx("section",{className:"bookings-stats",children:t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card total",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:I.total}),t.jsx("div",{className:"stat-label",children:"Total Bookings"})]})]}),t.jsxs("div",{className:"stat-card pending",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:I.pending}),t.jsx("div",{className:"stat-label",children:"Pending"})]})]}),t.jsxs("div",{className:"stat-card active",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:I.confirmed+I.inProgress}),t.jsx("div",{className:"stat-label",children:"Active"})]})]}),t.jsxs("div",{className:"stat-card completed",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:I.completed}),t.jsx("div",{className:"stat-label",children:"Completed"})]})]})]})}),t.jsx("section",{className:"bookings-filters",children:t.jsx("div",{className:"filters-content",children:t.jsxs("div",{className:"filters-row",children:[t.jsx("div",{className:"search-group",children:t.jsxs("div",{className:"search-input-wrapper",children:[t.jsx("input",{type:"text",placeholder:"Search bookings...",value:o,onChange:D=>l(D.target.value),className:"search-input"}),t.jsx("span",{className:"search-icon",children:""})]})}),t.jsx("div",{className:"status-filters",children:p.map(D=>t.jsx("button",{className:`status-filter-btn ${r===D.value?"active":""}`,onClick:()=>a(D.value),style:{"--status-color":D.color},children:D.label},D.value))}),t.jsx("div",{className:"sort-group",children:t.jsxs("select",{value:c,onChange:D=>d(D.target.value),className:"sort-select",children:[t.jsx("option",{value:"date",children:"Sort by Date"}),t.jsx("option",{value:"status",children:"Sort by Status"}),t.jsx("option",{value:"amount",children:"Sort by Amount"})]})})]})})}),h&&t.jsxs("div",{className:"bookings-error",children:[t.jsx("span",{className:"error-icon",children:""}),t.jsx("span",{children:h})]}),t.jsx("section",{className:"bookings-list",children:n?t.jsxs("div",{className:"loading-state",children:[t.jsx("div",{className:"loading-spinner",children:""}),t.jsx("p",{children:"Loading your bookings..."})]}):C.length>0?t.jsx("div",{className:"bookings-grid",children:C.map(D=>{var $;return t.jsxs("div",{className:"booking-card",children:[t.jsxs("div",{className:"booking-header",children:[t.jsxs("div",{className:"booking-info",children:[t.jsx("h3",{className:"booking-service",children:D.serviceName}),t.jsx("p",{className:"booking-provider",children:D.providerName}),t.jsxs("p",{className:"booking-id",children:["Booking ID: ",D.id]})]}),t.jsx("div",{className:"booking-status",children:t.jsxs("span",{className:"status-badge",style:{"--status-color":x(D.status)},children:[t.jsx("span",{className:"status-icon",children:j(D.status)}),t.jsx("span",{className:"status-text",children:($=p.find(E=>E.value===D.status))==null?void 0:$.label})]})})]}),t.jsxs("div",{className:"booking-details",children:[t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{className:"detail-label",children:" Date & Time:"}),t.jsx("span",{className:"detail-value",children:v(D.datetime)})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{className:"detail-label",children:" Address:"}),t.jsx("span",{className:"detail-value",children:D.address})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{className:"detail-label",children:" Amount:"}),t.jsx("span",{className:"detail-value amount",children:b(D.amount)})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{className:"detail-label",children:" Payment:"}),t.jsx("span",{className:`detail-value payment-${D.paymentStatus}`,children:D.paymentStatus==="paid"?" Paid":D.paymentStatus==="pending"?" Pending":" Refunded"})]})]}),t.jsx("div",{className:"booking-description",children:t.jsx("p",{children:D.description})}),D.trackingId&&t.jsx("div",{className:"booking-tracking",children:t.jsxs(he,{to:`/track/${D.trackingId}`,className:"tracking-link",children:[t.jsx("span",{className:"tracking-icon",children:""}),t.jsx("span",{children:"Track Service"})]})}),D.rating&&t.jsx("div",{className:"booking-review",children:t.jsxs("div",{className:"rating-display",children:[t.jsx("span",{className:"rating-stars",children:"".repeat(D.rating)}),D.review&&t.jsxs("p",{className:"review-text",children:['"',D.review,'"']})]})}),t.jsxs("div",{className:"booking-actions",children:[D.status==="pending"&&t.jsx("button",{className:"action-btn cancel",children:"Cancel Booking"}),D.status==="completed"&&!D.rating&&t.jsx("button",{className:"action-btn review",children:"Leave Review"}),D.status==="confirmed"&&t.jsx(he,{to:`/pay/${D.id}`,className:"action-btn pay",children:"Pay Now"}),t.jsx("button",{className:"action-btn details",children:"View Details"})]})]},D.id)})}):t.jsxs("div",{className:"no-bookings",children:[t.jsx("div",{className:"no-bookings-icon",children:""}),t.jsx("h3",{children:"No Bookings Found"}),t.jsx("p",{children:o||r!=="all"?"Try adjusting your filters or search terms.":"You haven't made any bookings yet. Start by booking a service!"}),t.jsxs(he,{to:"/search",className:"book-now-btn",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Browse Services"})]})]})})]})}function V8(){const[s,e]=f.useState([]),[n,i]=f.useState(!0),[r,a]=f.useState("all");f.useEffect(()=>{const h=[{id:"BK001",service:"Plumbing Services",provider:"Expert Plumbers Inc.",date:"2024-11-25",time:"10:00 AM",status:"confirmed",price:"1,500",address:"123 Main St, Mumbai",paymentStatus:"paid"},{id:"BK002",service:"Electrical Work",provider:"Power Solutions",date:"2024-11-26",time:"2:00 PM",status:"pending",price:"2,000",address:"456 Park Ave, Delhi",paymentStatus:"pending"},{id:"BK003",service:"Home Cleaning",provider:"Clean Team Pro",date:"2024-11-20",time:"9:00 AM",status:"completed",price:"800",address:"789 Garden Rd, Bangalore",paymentStatus:"paid"}];setTimeout(()=>{e(h),i(!1)},1e3)},[]);const o=s.filter(h=>r==="all"||h.status===r),l=h=>{switch(h){case"pending":return"#ffc107";case"confirmed":return"#28a745";case"in-progress":return"#17a2b8";case"completed":return"#6c757d";case"cancelled":return"#dc3545";default:return"#6c757d"}},c=h=>{switch(h){case"pending":return"Pending";case"confirmed":return"Confirmed";case"in-progress":return"In Progress";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return h}},d=h=>{switch(h){case"pending":return"Pending";case"paid":return"Paid";case"refunded":return"Refunded";default:return h}};return n?t.jsx("div",{className:"page-loading",children:t.jsxs("div",{className:"loading-spinner",children:[t.jsx("div",{className:"spinner"}),t.jsx("p",{children:"Loading your bookings..."})]})}):t.jsx("div",{className:"my-bookings-advanced",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{children:"My Bookings"}),t.jsx("p",{children:"Manage and track all your service bookings"})]}),t.jsxs("div",{className:"filter-tabs",children:[t.jsx("button",{className:`filter-tab ${r==="all"?"active":""}`,onClick:()=>a("all"),children:"All Bookings"}),t.jsx("button",{className:`filter-tab ${r==="pending"?"active":""}`,onClick:()=>a("pending"),children:"Pending"}),t.jsx("button",{className:`filter-tab ${r==="confirmed"?"active":""}`,onClick:()=>a("confirmed"),children:"Confirmed"}),t.jsx("button",{className:`filter-tab ${r==="completed"?"active":""}`,onClick:()=>a("completed"),children:"Completed"}),t.jsx("button",{className:`filter-tab ${r==="cancelled"?"active":""}`,onClick:()=>a("cancelled"),children:"Cancelled"})]}),t.jsx("div",{className:"bookings-list",children:o.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:"No bookings found"}),t.jsxs("p",{children:["You don't have any ",r!=="all"?r:""," bookings yet."]}),t.jsx(he,{to:"/services",className:"btn-primary",children:"Book a Service"})]}):o.map(h=>t.jsxs("div",{className:"booking-card",children:[t.jsxs("div",{className:"booking-header",children:[t.jsxs("div",{className:"booking-info",children:[t.jsx("h3",{children:h.service}),t.jsxs("p",{className:"booking-id",children:["Booking ID: ",h.id]})]}),t.jsx("div",{className:"booking-status",children:t.jsx("span",{className:"status-badge",style:{backgroundColor:l(h.status)},children:c(h.status)})})]}),t.jsxs("div",{className:"booking-details",children:[t.jsxs("div",{className:"detail-row",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("div",{children:[t.jsx("p",{className:"detail-label",children:"Provider"}),t.jsx("p",{className:"detail-value",children:h.provider})]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("div",{children:[t.jsx("p",{className:"detail-label",children:"Date & Time"}),t.jsxs("p",{className:"detail-value",children:[h.date," at ",h.time]})]})]})]}),t.jsxs("div",{className:"detail-row",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("div",{children:[t.jsx("p",{className:"detail-label",children:"Address"}),t.jsx("p",{className:"detail-value",children:h.address})]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("div",{children:[t.jsx("p",{className:"detail-label",children:"Price"}),t.jsx("p",{className:"detail-value",children:h.price})]})]})]})]}),t.jsxs("div",{className:"booking-footer",children:[t.jsx("div",{className:"payment-status",children:t.jsxs("span",{className:`payment-badge ${h.paymentStatus}`,children:["Payment: ",d(h.paymentStatus)]})}),t.jsxs("div",{className:"booking-actions",children:[h.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-outline",children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",children:"Confirm"})]}),h.status==="confirmed"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-outline",children:"Reschedule"}),t.jsx("button",{className:"btn btn-primary",children:"Track"})]}),h.status==="in-progress"&&t.jsx("button",{className:"btn btn-primary",children:"Track Progress"}),h.status==="completed"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-outline",children:"Book Again"}),t.jsx("button",{className:"btn btn-primary",children:"Leave Review"})]}),t.jsx(he,{to:`/track/${h.id}`,className:"btn btn-secondary",children:"View Details"})]})]})]},h.id))}),t.jsxs("div",{className:"quick-actions",children:[t.jsx("h3",{children:"Quick Actions"}),t.jsxs("div",{className:"actions-grid",children:[t.jsxs(he,{to:"/services",className:"action-card",children:[t.jsx("span",{className:"action-icon",children:""}),t.jsx("h4",{children:"Book New Service"}),t.jsx("p",{children:"Schedule a new service booking"})]}),t.jsxs(he,{to:"/profile",className:"action-card",children:[t.jsx("span",{className:"action-icon",children:""}),t.jsx("h4",{children:"Update Profile"}),t.jsx("p",{children:"Manage your personal information"})]}),t.jsxs(he,{to:"/support/help-center",className:"action-card",children:[t.jsx("span",{className:"action-icon",children:""}),t.jsx("h4",{children:"Get Help"}),t.jsx("p",{children:"Contact support for assistance"})]})]})]})]})})}function F8({value:s=0}){const e=Array.from({length:5},(n,i)=>i<Math.round(s));return t.jsx("div",{className:"stars",children:e.map((n,i)=>t.jsx("span",{children:n?"":""},i))})}function B8({provider:s}){const e=s.id||"p?",n=s.name||`Pro ${String(e).toUpperCase()}`,i=s.categories||[],r=s.profile_pic,a="http://localhost:5000";let o="/images/placeholder-provider.svg";r&&(r.includes("unsplash.com")?o=r:r.startsWith("http")?o=`${a}/api/proxy?url=${encodeURIComponent(r)}`:o=r);const l="/images/placeholder-provider.svg",c=m=>{const p=m.currentTarget;p.classList.add("error"),p.src=l},d=m=>{const p=m.currentTarget;p.classList.remove("loading"),p.classList.remove("error")},h=m=>{m.currentTarget.classList.add("loading")};return t.jsxs("div",{className:"card provider",children:[t.jsx("img",{className:"avatar circle",src:o,alt:n,onError:c,onLoad:d,onLoadStart:h,referrerPolicy:"no-referrer"}),t.jsxs("div",{className:"provider-info",children:[t.jsx("div",{className:"card-title",children:n}),t.jsxs("div",{className:"card-sub",children:[t.jsx(F8,{value:s.rating||0}),t.jsxs("span",{style:{marginLeft:6},children:[s.rating?parseFloat(s.rating.toFixed(2)):""," "]})]}),s.experience_years&&t.jsxs("div",{className:"provider-experience",children:[" ",s.experience_years," years experience"]}),s.jobs_completed&&t.jsxs("div",{className:"provider-jobs",children:[" ",s.jobs_completed," jobs completed"]}),s.response_time_minutes&&t.jsxs("div",{className:"provider-response",children:[" ",s.response_time_minutes," mins response"]}),s.hourly_rate&&t.jsxs("div",{className:"provider-rate",children:[" ",s.hourly_rate.toFixed(0),"/hour"]}),s.address&&t.jsxs("div",{className:"provider-address",children:[" ",s.address]}),s.languages&&s.languages.length>0&&t.jsxs("div",{className:"provider-languages",children:[" ",s.languages.join(", ")]}),t.jsxs("div",{className:"chips",children:[i.map(m=>t.jsx("span",{className:"chip chip-sm",children:m},m)),s.verified&&t.jsx("span",{className:"chip chip-sm verified",children:" Verified"}),s.eco_friendly&&t.jsx("span",{className:"chip chip-sm eco",children:" Eco-friendly"}),s.online_teaching&&t.jsx("span",{className:"chip chip-sm online",children:" Online"}),s.mobile_service&&t.jsx("span",{className:"chip chip-sm mobile",children:" Mobile"}),s.success_rate&&t.jsxs("span",{className:"chip chip-sm success",children:[" ",s.success_rate,"%"]})]}),s.about&&t.jsx("div",{className:"provider-about",children:s.about})]})]})}function U8(){const[s,e]=f.useState([]),[n,i]=f.useState(!0),[r,a]=f.useState();return f.useEffect(()=>{$9.list().then(e).catch(o=>a((o==null?void 0:o.message)||"Failed to load providers")).finally(()=>i(!1))},[]),t.jsxs("div",{children:[t.jsx("h2",{children:"Provider Dashboard"}),n&&t.jsx("div",{className:"card",children:"Loading providers"}),r&&t.jsxs("div",{className:"card",style:{color:"#fca5a5"},children:["Error: ",r]}),t.jsx("div",{className:"grid",children:s.map(o=>t.jsx(B8,{provider:o},o.id))})]})}function $8(){const[s,e]=f.useState([]),[n,i]=f.useState(!0),[r,a]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[h,m]=f.useState(!1),[p,g]=f.useState(""),[x,j]=f.useState("grid"),[v,b]=f.useState({status:"all",category:"all",rating:0,availability:!1,emergencyService:!1,city:"all",sortBy:"name",sortOrder:"asc"}),N=[{value:"all",label:"All Categories",icon:""},{value:"plumbing",label:"Plumbing",icon:""},{value:"electrical",label:"Electrical",icon:""},{value:"cleaning",label:"Cleaning",icon:""},{value:"ac",label:"AC Repair",icon:""},{value:"mechanic",label:"Mechanic",icon:""},{value:"tutor",label:"Tutor",icon:""},{value:"appliance",label:"Appliance",icon:""},{value:"painting",label:"Painting",icon:""},{value:"carpentry",label:"Carpentry",icon:""},{value:"gardening",label:"Gardening",icon:""},{value:"pest",label:"Pest Control",icon:""}],C=[{value:"all",label:"All Providers",color:"#64748b"},{value:"verified",label:"Verified",color:"#10b981"},{value:"unverified",label:"Unverified",color:"#f59e0b"},{value:"active",label:"Active",color:"#3b82f6"},{value:"inactive",label:"Inactive",color:"#ef4444"}];async function I(){i(!0),a(null);try{await new Promise(G=>setTimeout(G,1e3));const P=[{id:"p1",name:"Rajesh Kumar",email:"rajesh.kumar@email.com",phone:"+91-9876543210",category:"plumbing",rating:4.8,verified:!0,services:12,description:"Professional plumber with 10+ years of experience in residential and commercial plumbing services. Specialized in emergency repairs and installations.",address:"123, Main Street, Sector 15, Gurgaon",city:"Gurgaon",experience:10,totalBookings:342,completedBookings:318,cancelledBookings:24,totalEarnings:245e4,averageResponseTime:15,availability:{monday:{open:"08:00",close:"20:00"},tuesday:{open:"08:00",close:"20:00"},wednesday:{open:"08:00",close:"20:00"},thursday:{open:"08:00",close:"20:00"},friday:{open:"08:00",close:"20:00"},saturday:{open:"09:00",close:"18:00"},sunday:{open:"10:00",close:"16:00"}},specialties:["Emergency Plumbing","Pipe Installation","Drain Cleaning","Water Heater Repair"],certifications:["Licensed Plumber","OSHA Certified","Green Plumbing Certified"],languages:["English","Hindi","Punjabi"],profilePhoto:"https://picsum.photos/200/200?random=50",coverPhoto:"https://picsum.photos/800/400?random=150",businessName:"Rajesh Plumbing Services",businessLicense:"DL-PL-2021-1234",insuranceVerified:!0,backgroundChecked:!0,emergencyService:!0,serviceRadius:25,lastActive:new Date().toISOString(),joinedDate:"2021-03-15",responseRate:98,acceptanceRate:92,onTimeRate:96,pricing:{hourlyRate:500,serviceFee:200,emergencyFee:1e3},reviews:[{rating:5,comment:"Excellent service! Fixed the leak quickly.",customerName:"Amit Sharma",date:"2024-01-18",serviceType:"Emergency Plumbing"},{rating:4,comment:"Professional and punctual.",customerName:"Priya Singh",date:"2024-01-15",serviceType:"Pipe Installation"}],upcomingBookings:[{id:"BK001",serviceName:"Bathroom Repair",customerName:"Vikram Malhotra",datetime:"2024-01-20T10:00:00",address:"Sector 45, Gurgaon",amount:1200,status:"confirmed"},{id:"BK002",serviceName:"Kitchen Sink Installation",customerName:"Neha Sharma",datetime:"2024-01-21T14:00:00",address:"Sector 57, Gurgaon",amount:1800,status:"confirmed"}],recentActivity:[{type:"booking",message:"New booking confirmed - Bathroom Repair",timestamp:new Date().toISOString(),amount:1200},{type:"review",message:"Received 5-star review from Amit Sharma",timestamp:"2024-01-18T16:45:00"},{type:"payment",message:"Payment received for booking BK001",timestamp:"2024-01-18T12:00:00",amount:1500}],performance:{monthlyRevenue:[18e4,195e3,21e4,198e3,225e3,24e4],bookingTrends:[28,32,35,31,38,42],ratingTrends:[4.6,4.7,4.8,4.7,4.8,4.8],responseTimeTrends:[18,16,15,17,15,14]}},{id:"p2",name:"Amit Sharma",email:"amit.sharma@email.com",phone:"+91-9876543211",category:"electrical",rating:4.6,verified:!0,services:8,description:"Expert electrician specializing in residential and commercial electrical installations, repairs, and maintenance.",address:"456, Park Avenue, Sector 22, Gurgaon",city:"Gurgaon",experience:8,totalBookings:256,completedBookings:238,cancelledBookings:18,totalEarnings:189e4,averageResponseTime:20,availability:{monday:{open:"09:00",close:"19:00"},tuesday:{open:"09:00",close:"19:00"},wednesday:{open:"09:00",close:"19:00"},thursday:{open:"09:00",close:"19:00"},friday:{open:"09:00",close:"19:00"},saturday:{open:"10:00",close:"17:00"},sunday:{open:"closed",close:"closed"}},specialties:["Electrical Installation","Circuit Repair","Panel Upgrades","Lighting"],certifications:["Licensed Electrician","Electrical Safety Certified"],languages:["English","Hindi"],profilePhoto:"https://picsum.photos/200/200?random=51",coverPhoto:"https://picsum.photos/800/400?random=151",businessName:"Amit Electrical Solutions",businessLicense:"DL-EL-2020-5678",insuranceVerified:!0,backgroundChecked:!0,emergencyService:!0,serviceRadius:20,lastActive:new Date(Date.now()-2*60*60*1e3).toISOString(),joinedDate:"2020-06-20",responseRate:95,acceptanceRate:88,onTimeRate:94,pricing:{hourlyRate:600,serviceFee:250,emergencyFee:1200},reviews:[{rating:5,comment:"Quick and efficient service!",customerName:"Rohit Gupta",date:"2024-01-17",serviceType:"Circuit Repair"},{rating:4,comment:"Good work, reasonable pricing.",customerName:"Kavita Reddy",date:"2024-01-14",serviceType:"Lighting Installation"}],upcomingBookings:[{id:"BK003",serviceName:"Panel Upgrade",customerName:"Sanjay Kumar",datetime:"2024-01-20T09:00:00",address:"Sector 31, Gurgaon",amount:3500,status:"confirmed"}],recentActivity:[{type:"booking",message:"New booking - Panel Upgrade",timestamp:"2024-01-19T11:20:00",amount:3500},{type:"review",message:"Received 4-star review from Kavita Reddy",timestamp:"2024-01-17T18:30:00"}],performance:{monthlyRevenue:[15e4,165e3,175e3,168e3,182e3,195e3],bookingTrends:[22,25,27,24,28,30],ratingTrends:[4.5,4.6,4.6,4.5,4.6,4.6],responseTimeTrends:[22,21,20,23,20,19]}},{id:"p3",name:"Priya Singh",email:"priya.singh@email.com",phone:"+91-9876543212",category:"cleaning",rating:4.9,verified:!0,services:15,description:"Professional cleaning services for homes and offices. Eco-friendly products and guaranteed satisfaction.",address:"789, Green Park, New Delhi",city:"New Delhi",experience:6,totalBookings:412,completedBookings:398,cancelledBookings:14,totalEarnings:168e4,averageResponseTime:12,availability:{monday:{open:"07:00",close:"21:00"},tuesday:{open:"07:00",close:"21:00"},wednesday:{open:"07:00",close:"21:00"},thursday:{open:"07:00",close:"21:00"},friday:{open:"07:00",close:"21:00"},saturday:{open:"08:00",close:"20:00"},sunday:{open:"09:00",close:"18:00"}},specialties:["Deep Cleaning","Office Cleaning","Carpet Cleaning","Post-Construction Cleaning"],certifications:["Green Cleaning Certified","Sanitation Certified"],languages:["English","Hindi"],profilePhoto:"https://picsum.photos/200/200?random=52",coverPhoto:"https://picsum.photos/800/400?random=152",businessName:"Priya Cleaning Services",businessLicense:"DL-CL-2022-9012",insuranceVerified:!0,backgroundChecked:!0,emergencyService:!1,serviceRadius:15,lastActive:new Date(Date.now()-30*60*1e3).toISOString(),joinedDate:"2022-01-10",responseRate:99,acceptanceRate:95,onTimeRate:98,pricing:{hourlyRate:400,serviceFee:150,emergencyFee:0},reviews:[{rating:5,comment:"Amazing cleaning service! Very thorough.",customerName:"Anita Verma",date:"2024-01-19",serviceType:"Deep Cleaning"},{rating:5,comment:"Professional and eco-friendly.",customerName:"Rohit Gupta",date:"2024-01-16",serviceType:"Office Cleaning"}],upcomingBookings:[{id:"BK004",serviceName:"Office Deep Cleaning",customerName:"Tech Solutions Pvt Ltd",datetime:"2024-01-20T08:00:00",address:"Cyber City, Gurgaon",amount:5e3,status:"confirmed"},{id:"BK005",serviceName:"Carpet Cleaning",customerName:"Vikram Malhotra",datetime:"2024-01-21T15:00:00",address:"Sector 45, Gurgaon",amount:1200,status:"confirmed"}],recentActivity:[{type:"booking",message:"Corporate booking - Office Deep Cleaning",timestamp:new Date().toISOString(),amount:5e3},{type:"review",message:"Received 5-star review from Anita Verma",timestamp:"2024-01-19T12:15:00"}],performance:{monthlyRevenue:[12e4,135e3,145e3,138e3,152e3,165e3],bookingTrends:[35,38,42,40,45,48],ratingTrends:[4.8,4.9,4.9,4.8,4.9,4.9],responseTimeTrends:[15,14,13,15,12,11]}},{id:"p4",name:"Sanjay Kumar",email:"sanjay.kumar@email.com",phone:"+91-9876543213",category:"ac",rating:4.5,verified:!1,services:6,description:"AC repair and maintenance specialist. All brands serviced with genuine parts.",address:"321, Sushant Lok Phase 1, Gurgaon",city:"Gurgaon",experience:5,totalBookings:156,completedBookings:142,cancelledBookings:14,totalEarnings:98e4,averageResponseTime:25,availability:{monday:{open:"10:00",close:"20:00"},tuesday:{open:"10:00",close:"20:00"},wednesday:{open:"10:00",close:"20:00"},thursday:{open:"10:00",close:"20:00"},friday:{open:"10:00",close:"20:00"},saturday:{open:"11:00",close:"18:00"},sunday:{open:"closed",close:"closed"}},specialties:["AC Repair","Installation","Gas Refilling","Annual Maintenance"],certifications:["AC Technician Certified"],languages:["English","Hindi"],profilePhoto:"https://picsum.photos/200/200?random=53",coverPhoto:"https://picsum.photos/800/400?random=153",businessName:"Sanjay AC Services",businessLicense:"DL-AC-2021-3456",insuranceVerified:!1,backgroundChecked:!1,emergencyService:!0,serviceRadius:18,lastActive:new Date(Date.now()-24*60*60*1e3).toISOString(),joinedDate:"2021-09-15",responseRate:88,acceptanceRate:82,onTimeRate:85,pricing:{hourlyRate:450,serviceFee:200,emergencyFee:800},reviews:[{rating:4,comment:"Good service, arrived on time.",customerName:"Arun Singh",date:"2024-01-16",serviceType:"AC Repair"},{rating:4,comment:"Reasonable pricing.",customerName:"Kavita Reddy",date:"2024-01-13",serviceType:"Gas Refilling"}],upcomingBookings:[{id:"BK006",serviceName:"AC Annual Maintenance",customerName:"Neha Sharma",datetime:"2024-01-22T11:00:00",address:"Sector 57, Gurgaon",amount:1500,status:"pending"}],recentActivity:[{type:"booking",message:"New booking request - AC Maintenance",timestamp:"2024-01-18T16:20:00"},{type:"review",message:"Received 4-star review from Arun Singh",timestamp:"2024-01-16T19:45:00"}],performance:{monthlyRevenue:[75e3,82e3,88e3,85e3,92e3,98e3],bookingTrends:[18,20,22,21,24,26],ratingTrends:[4.4,4.5,4.5,4.4,4.5,4.5],responseTimeTrends:[28,26,25,27,25,24]}}];e(P)}catch(P){console.error("Failed to load providers:",P),a("Failed to load providers. Please try again.")}finally{i(!1)}}const D=f.useMemo(()=>{const P=s.length,G=s.filter(we=>we.verified).length,U=s.reduce((we,Le)=>we+(Le.totalBookings||0),0),re=s.reduce((we,Le)=>we+(Le.totalEarnings||0),0),W=s.length>0?s.reduce((we,Le)=>we+(Le.rating||0),0)/s.length:0,xe=s.length>0?s.reduce((we,Le)=>we+(Le.averageResponseTime||0),0)/s.length:0,Ce=s.filter(we=>{const Le=new Date(we.lastActive||"");return(new Date().getTime()-Le.getTime())/(1e3*60*60*24)<=7}).length,Fe=s.filter(we=>{const Le=new Date(we.joinedDate||""),bt=new Date;return Le.getMonth()===bt.getMonth()&&Le.getFullYear()===bt.getFullYear()}).length,Me={};s.forEach(we=>{Me[we.category]=(Me[we.category]||0)+1});const Ie=Object.entries(Me).map(([we,Le])=>({category:we,count:Le})).sort((we,Le)=>Le.count-we.count).slice(0,5);return{totalProviders:P,verifiedProviders:G,totalBookings:U,totalRevenue:re,averageRating:W,averageResponseTime:xe,activeProviders:Ce,newProvidersThisMonth:Fe,topCategories:Ie,growthRate:15.5}},[s]),$=f.useMemo(()=>{let P=s;if(v.status!=="all"&&(v.status==="verified"?P=P.filter(G=>G.verified):v.status==="unverified"?P=P.filter(G=>!G.verified):v.status==="active"?P=P.filter(G=>{const U=new Date(G.lastActive||"");return(new Date().getTime()-U.getTime())/(1e3*60*60*24)<=7}):v.status==="inactive"&&(P=P.filter(G=>{const U=new Date(G.lastActive||"");return(new Date().getTime()-U.getTime())/(1e3*60*60*24)>7}))),v.category!=="all"&&(P=P.filter(G=>G.category===v.category)),v.rating>0&&(P=P.filter(G=>(G.rating||0)>=v.rating)),v.availability&&(P=P.filter(G=>G.availability)),v.emergencyService&&(P=P.filter(G=>G.emergencyService)),v.city!=="all"&&(P=P.filter(G=>G.city===v.city)),p){const G=p.toLowerCase();P=P.filter(U=>{var re,W;return U.name.toLowerCase().includes(G)||U.email.toLowerCase().includes(G)||U.phone.includes(G)||((re=U.businessName)==null?void 0:re.toLowerCase().includes(G))||((W=U.address)==null?void 0:W.toLowerCase().includes(G))})}return P.sort((G,U)=>{let re=0;switch(v.sortBy){case"name":re=G.name.localeCompare(U.name);break;case"rating":re=(G.rating||0)-(U.rating||0);break;case"bookings":re=(G.totalBookings||0)-(U.totalBookings||0);break;case"earnings":re=(G.totalEarnings||0)-(U.totalEarnings||0);break;case"responseTime":re=(G.averageResponseTime||0)-(U.averageResponseTime||0);break}return v.sortOrder==="asc"?re:-re}),P},[s,v,p]);function E(P){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(P)}function k(P){return new Date(P).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}function _(P){const G=new Date(P),re=new Date().getTime()-G.getTime(),W=Math.floor(re/(1e3*60)),xe=Math.floor(re/(1e3*60*60)),Ce=Math.floor(re/(1e3*60*60*24));return W<60?`${W} minutes ago`:xe<24?`${xe} hours ago`:Ce<7?`${Ce} days ago`:k(P)}function T(P){l(P),d(!0)}function S(P){l(P),m(!0)}function F(P){e(G=>G.map(U=>U.id===P.id?{...U,verified:!0,backgroundChecked:!0,insuranceVerified:!0}:U)),alert(`Provider ${P.name} has been verified successfully!`)}function L(P){window.confirm(`Are you sure you want to suspend ${P.name}? This action can be reversed later.`)&&(e(U=>U.map(re=>re.id===P.id?{...re,verified:!1,lastActive:new Date(2020,0,1).toISOString()}:re)),alert(`Provider ${P.name} has been suspended.`))}function oe(P){const G=prompt(`Send message to ${P.name}:`);G&&G.trim()&&(console.log("Sending message to provider:",P.id,G),alert(`Message sent to ${P.name}: "${G}"`))}function A(){const P=s.length,G=s.filter(ge=>ge.verified).length,U=s.reduce((ge,J)=>ge+(J.totalBookings||0),0),re=s.reduce((ge,J)=>ge+(J.totalEarnings||0),0),W=s.length>0?s.reduce((ge,J)=>ge+(J.rating||0),0)/s.length:0,xe=s.length>0?s.reduce((ge,J)=>ge+(J.averageResponseTime||0),0)/s.length:0,Ce=s.filter(ge=>{const J=new Date(ge.lastActive||"");return(new Date().getTime()-J.getTime())/(1e3*60*60*24)<=7}).length,Fe=s.filter(ge=>{const J=new Date(ge.joinedDate||""),Ee=new Date;return J.getMonth()===Ee.getMonth()&&J.getFullYear()===Ee.getFullYear()}).length,Me={};s.forEach(ge=>{Me[ge.category]=(Me[ge.category]||0)+1});const Ie=Object.entries(Me).map(([ge,J])=>({category:ge,count:J})).sort((ge,J)=>J.count-ge.count).slice(0,5),we={totalProviders:P,verifiedProviders:G,totalBookings:U,totalRevenue:re,averageRating:W,averageResponseTime:xe,activeProviders:Ce,newProvidersThisMonth:Fe,topCategories:Ie,growthRate:15.5},Le={generatedAt:new Date().toISOString(),stats:we,providers:$.map(ge=>({id:ge.id,name:ge.name,email:ge.email,phone:ge.phone,category:ge.category,rating:ge.rating,verified:ge.verified,totalBookings:ge.totalBookings,totalEarnings:ge.totalEarnings,responseRate:ge.responseRate,city:ge.city}))},bt=JSON.stringify(Le,null,2),wt="data:application/json;charset=utf-8,"+encodeURIComponent(bt),Et=`provider-report-${new Date().toISOString().split("T")[0]}.json`,gt=document.createElement("a");gt.setAttribute("href",wt),gt.setAttribute("download",Et),gt.click(),alert("Provider report exported successfully!")}function Z(){const P={id:`p${Date.now()}`,name:prompt("Provider Name:")||"New Provider",email:prompt("Provider Email:")||"provider@example.com",phone:prompt("Provider Phone:")||"+91-0000000000",category:prompt("Provider Category (plumbing/electrical/cleaning/etc):")||"plumbing",rating:0,verified:!1,services:0,description:prompt("Provider Description:")||"New service provider",address:prompt("Provider Address:")||"Address not provided",city:prompt("Provider City:")||"Unknown",experience:parseInt(prompt("Years of Experience:")||"0"),totalBookings:0,completedBookings:0,cancelledBookings:0,totalEarnings:0,averageResponseTime:30,businessName:prompt("Business Name:")||"Business Name",emergencyService:confirm("Provides Emergency Service?"),serviceRadius:parseInt(prompt("Service Radius (km):")||"10"),lastActive:new Date().toISOString(),joinedDate:new Date().toISOString(),responseRate:0,acceptanceRate:0,onTimeRate:0,profilePhoto:`https://picsum.photos/200/200?random=${Date.now()}`,specialties:[],certifications:[],languages:["English","Hindi"],reviews:[],upcomingBookings:[],recentActivity:[{type:"profile_update",message:"Provider profile created",timestamp:new Date().toISOString()}]};e(G=>[...G,P]),alert(`Provider ${P.name} added successfully!`)}function Q(){b({status:"all",category:"all",rating:0,availability:!1,emergencyService:!1,city:"all",sortBy:"name",sortOrder:"asc"}),g("")}function q(){I()}return f.useEffect(()=>{I()},[]),t.jsxs("div",{className:"provider-dashboard-advanced",children:[t.jsx("section",{className:"dashboard-header",children:t.jsxs("div",{className:"header-content",children:[t.jsxs("div",{className:"header-title-section",children:[t.jsx("h1",{className:"dashboard-title",children:"Provider Dashboard"}),t.jsx("p",{className:"dashboard-subtitle",children:"Manage and monitor all service providers in one place"})]}),t.jsxs("div",{className:"header-actions",children:[t.jsxs("button",{className:"export-btn",onClick:A,children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Export Report"})]}),t.jsxs("button",{className:"add-provider-btn",onClick:Z,children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Add Provider"})]})]})]})}),t.jsx("section",{className:"dashboard-stats",children:t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card total",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:D.totalProviders}),t.jsx("div",{className:"stat-label",children:"Total Providers"}),t.jsxs("div",{className:"stat-change",children:["+",D.newProvidersThisMonth," this month"]})]})]}),t.jsxs("div",{className:"stat-card verified",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:D.verifiedProviders}),t.jsx("div",{className:"stat-label",children:"Verified Providers"}),t.jsxs("div",{className:"stat-change",children:[Math.round(D.verifiedProviders/D.totalProviders*100),"% verification rate"]})]})]}),t.jsxs("div",{className:"stat-card bookings",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:D.totalBookings.toLocaleString()}),t.jsx("div",{className:"stat-label",children:"Total Bookings"}),t.jsx("div",{className:"stat-change",children:"All time"})]})]}),t.jsxs("div",{className:"stat-card revenue",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:E(D.totalRevenue)}),t.jsx("div",{className:"stat-label",children:"Total Revenue"}),t.jsxs("div",{className:"stat-change",children:["+",D.growthRate,"% growth"]})]})]}),t.jsxs("div",{className:"stat-card rating",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:parseFloat(D.averageRating.toFixed(2))}),t.jsx("div",{className:"stat-label",children:"Average Rating"}),t.jsx("div",{className:"stat-change",children:"Platform average"})]})]}),t.jsxs("div",{className:"stat-card response",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("div",{className:"stat-number",children:[D.averageResponseTime," min"]}),t.jsx("div",{className:"stat-label",children:"Avg Response Time"}),t.jsx("div",{className:"stat-change",children:"Quick response"})]})]})]})}),t.jsx("section",{className:"top-categories",children:t.jsxs("div",{className:"categories-content",children:[t.jsx("h3",{className:"section-title",children:"Top Categories"}),t.jsx("div",{className:"categories-grid",children:D.topCategories.map((P,G)=>t.jsxs("div",{className:"category-card",children:[t.jsxs("div",{className:"category-info",children:[t.jsxs("span",{className:"category-rank",children:["#",G+1]}),t.jsxs("div",{className:"category-details",children:[t.jsx("div",{className:"category-name",children:P.category}),t.jsxs("div",{className:"category-count",children:[P.count," providers"]})]})]}),t.jsx("div",{className:"category-progress",children:t.jsx("div",{className:"progress-bar",style:{width:`${P.count/D.totalProviders*100}%`}})})]},P.category))})]})}),t.jsx("section",{className:"dashboard-controls",children:t.jsxs("div",{className:"controls-content",children:[t.jsxs("div",{className:"controls-row",children:[t.jsx("div",{className:"search-group",children:t.jsxs("div",{className:"search-input-wrapper",children:[t.jsx("input",{type:"text",placeholder:"Search providers by name, email, phone...",value:p,onChange:P=>g(P.target.value),className:"search-input"}),t.jsx("span",{className:"search-icon",children:""})]})}),t.jsxs("div",{className:"view-mode-toggle",children:[t.jsx("button",{className:`view-btn ${x==="grid"?"active":""}`,onClick:()=>j("grid"),children:t.jsx("span",{children:""})}),t.jsx("button",{className:`view-btn ${x==="list"?"active":""}`,onClick:()=>j("list"),children:t.jsx("span",{children:""})}),t.jsx("button",{className:`view-btn ${x==="analytics"?"active":""}`,onClick:()=>j("analytics"),children:t.jsx("span",{children:""})})]}),t.jsxs("div",{className:"sort-group",children:[t.jsxs("select",{value:v.sortBy,onChange:P=>b({...v,sortBy:P.target.value}),className:"sort-select",children:[t.jsx("option",{value:"name",children:"Sort by Name"}),t.jsx("option",{value:"rating",children:"Sort by Rating"}),t.jsx("option",{value:"bookings",children:"Sort by Bookings"}),t.jsx("option",{value:"earnings",children:"Sort by Earnings"}),t.jsx("option",{value:"responseTime",children:"Sort by Response Time"})]}),t.jsx("button",{className:`sort-order ${v.sortOrder}`,onClick:()=>b({...v,sortOrder:v.sortOrder==="asc"?"desc":"asc"}),children:v.sortOrder==="asc"?"":""})]})]}),t.jsxs("div",{className:"advanced-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{className:"filter-label",children:"Status"}),t.jsx("div",{className:"status-filters",children:C.map(P=>t.jsx("button",{className:`status-filter-btn ${v.status===P.value?"active":""}`,onClick:()=>b({...v,status:P.value}),style:{"--status-color":P.color},children:P.label},P.value))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{className:"filter-label",children:"Category"}),t.jsx("select",{value:v.category,onChange:P=>b({...v,category:P.target.value}),className:"category-select",children:N.map(P=>t.jsxs("option",{value:P.value,children:[P.icon," ",P.label]},P.value))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{className:"filter-label",children:"Minimum Rating"}),t.jsxs("select",{value:v.rating,onChange:P=>b({...v,rating:Number(P.target.value)}),className:"rating-select",children:[t.jsx("option",{value:"0",children:"All Ratings"}),t.jsx("option",{value:"3",children:"3+ Stars"}),t.jsx("option",{value:"4",children:"4+ Stars"}),t.jsx("option",{value:"4.5",children:"4.5+ Stars"})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{className:"filter-label",children:"Additional Filters"}),t.jsxs("div",{className:"checkbox-filters",children:[t.jsxs("label",{className:"checkbox-filter",children:[t.jsx("input",{type:"checkbox",checked:v.availability,onChange:P=>b({...v,availability:P.target.checked})}),t.jsx("span",{children:"Available Now"})]}),t.jsxs("label",{className:"checkbox-filter",children:[t.jsx("input",{type:"checkbox",checked:v.emergencyService,onChange:P=>b({...v,emergencyService:P.target.checked})}),t.jsx("span",{children:"Emergency Service"})]})]})]})]})]})}),r&&t.jsxs("div",{className:"dashboard-error",children:[t.jsx("span",{className:"error-icon",children:""}),t.jsx("span",{children:r}),t.jsx("button",{onClick:q,className:"retry-btn",children:"Retry"})]}),t.jsx("section",{className:"providers-list",children:n?t.jsxs("div",{className:"loading-state",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading providers..."})]}):$.length>0?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"results-summary",children:[t.jsxs("span",{className:"results-count",children:["Showing ",$.length," of ",s.length," providers"]}),t.jsx("div",{className:"results-actions",children:t.jsx("button",{className:"clear-filters-btn",onClick:Q,children:"Clear Filters"})})]}),t.jsx("div",{className:`providers-container ${x}`,children:$.map(P=>t.jsxs("div",{className:"provider-card",children:[t.jsxs("div",{className:"provider-header",children:[t.jsxs("div",{className:"provider-info",children:[t.jsxs("div",{className:"provider-photo-section",children:[t.jsx("img",{src:P.profilePhoto||"https://picsum.photos/100/100?random=1",alt:P.name,className:"provider-photo"}),t.jsx("div",{className:`verification-badge ${P.verified?"verified":"unverified"}`,children:P.verified?"":""})]}),t.jsxs("div",{className:"provider-details",children:[t.jsx("h3",{className:"provider-name",children:P.name}),t.jsx("p",{className:"provider-business",children:P.businessName}),t.jsxs("div",{className:"provider-meta",children:[t.jsx("span",{className:"provider-category",children:P.category}),t.jsxs("span",{className:"provider-experience",children:[P.experience," years exp."]})]}),t.jsxs("div",{className:"provider-rating",children:[t.jsx("span",{className:"rating-stars",children:"".repeat(Math.floor(P.rating||0))}),t.jsx("span",{className:"rating-value",children:P.rating?parseFloat(P.rating.toFixed(2)):"N/A"}),t.jsxs("span",{className:"rating-count",children:["(",P.totalBookings," bookings)"]})]})]})]}),t.jsxs("div",{className:"provider-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Revenue"}),t.jsx("span",{className:"stat-value",children:E(P.totalEarnings||0)})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Response"}),t.jsxs("span",{className:"stat-value",children:[P.averageResponseTime," min"]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Success"}),t.jsxs("span",{className:"stat-value",children:[P.totalBookings?Math.round((P.completedBookings||0)/P.totalBookings*100):0,"%"]})]})]})]}),t.jsxs("div",{className:"provider-quick-info",children:[t.jsxs("div",{className:"quick-info-item",children:[t.jsx("span",{className:"info-icon",children:""}),t.jsx("span",{className:"info-value",children:P.email})]}),t.jsxs("div",{className:"quick-info-item",children:[t.jsx("span",{className:"info-icon",children:""}),t.jsx("span",{className:"info-value",children:P.phone})]}),t.jsxs("div",{className:"quick-info-item",children:[t.jsx("span",{className:"info-icon",children:""}),t.jsx("span",{className:"info-value",children:P.city})]}),P.emergencyService&&t.jsxs("div",{className:"quick-info-item emergency",children:[t.jsx("span",{className:"info-icon",children:""}),t.jsx("span",{className:"info-value",children:"Emergency Service"})]})]}),P.specialties&&P.specialties.length>0&&t.jsxs("div",{className:"provider-specialties",children:[t.jsx("h4",{className:"specialties-title",children:"Specialties"}),t.jsxs("div",{className:"specialties-list",children:[P.specialties.slice(0,3).map((G,U)=>t.jsx("span",{className:"specialty-tag",children:G},U)),P.specialties.length>3&&t.jsxs("span",{className:"specialty-more",children:["+",P.specialties.length-3," more"]})]})]}),P.recentActivity&&P.recentActivity.length>0&&t.jsxs("div",{className:"provider-activity",children:[t.jsx("h4",{className:"activity-title",children:"Recent Activity"}),t.jsx("div",{className:"activity-list",children:P.recentActivity.slice(0,2).map((G,U)=>t.jsxs("div",{className:"activity-item",children:[t.jsx("span",{className:`activity-icon ${G.type}`,children:G.type==="booking"?"":G.type==="review"?"":G.type==="payment"?"":""}),t.jsxs("div",{className:"activity-content",children:[t.jsx("p",{className:"activity-message",children:G.message}),t.jsx("span",{className:"activity-time",children:_(G.timestamp)})]}),G.amount&&t.jsx("span",{className:"activity-amount",children:E(G.amount)})]},U))})]}),t.jsxs("div",{className:"provider-actions",children:[t.jsx("button",{className:"action-btn details",onClick:()=>T(P),children:"View Details"}),t.jsx("button",{className:"action-btn analytics",onClick:()=>S(P),children:"Analytics"}),t.jsx("button",{className:"action-btn message",onClick:()=>oe(P),children:"Message"}),!P.verified&&t.jsx("button",{className:"action-btn verify",onClick:()=>F(P),children:"Verify"}),t.jsx("button",{className:"action-btn suspend",onClick:()=>L(P),children:"Suspend"})]})]},P.id))})]}):t.jsxs("div",{className:"no-providers",children:[t.jsx("div",{className:"no-providers-icon",children:""}),t.jsx("h3",{children:"No Providers Found"}),t.jsx("p",{children:p||v.status!=="all"||v.category!=="all"?"Try adjusting your filters or search terms.":"No providers registered yet. Start by adding a new provider!"}),t.jsxs("button",{className:"add-provider-btn",onClick:Z,children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Add First Provider"})]})]})}),c&&o&&t.jsx(q8,{provider:o,onClose:()=>d(!1)}),h&&o&&t.jsx(z8,{provider:o,onClose:()=>m(!1)})]})}function q8({provider:s,onClose:e}){return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content provider-details-modal",onClick:n=>n.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Provider Details"}),t.jsx("button",{onClick:e,className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"provider-detail-section",children:[t.jsx("h3",{children:"Business Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Business Name"}),t.jsx("span",{children:s.businessName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"License Number"}),t.jsx("span",{children:s.businessLicense})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Service Radius"}),t.jsxs("span",{children:[s.serviceRadius," km"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Joined Date"}),t.jsx("span",{children:s.joinedDate?new Date(s.joinedDate).toLocaleDateString():"N/A"})]})]})]}),t.jsxs("div",{className:"provider-detail-section",children:[t.jsx("h3",{children:"Performance Metrics"}),t.jsxs("div",{className:"performance-grid",children:[t.jsxs("div",{className:"performance-item",children:[t.jsxs("div",{className:"performance-value",children:[s.responseRate,"%"]}),t.jsx("div",{className:"performance-label",children:"Response Rate"})]}),t.jsxs("div",{className:"performance-item",children:[t.jsxs("div",{className:"performance-value",children:[s.acceptanceRate,"%"]}),t.jsx("div",{className:"performance-label",children:"Acceptance Rate"})]}),t.jsxs("div",{className:"performance-item",children:[t.jsxs("div",{className:"performance-value",children:[s.onTimeRate,"%"]}),t.jsx("div",{className:"performance-label",children:"On-Time Rate"})]})]})]})]})]})})}function z8({provider:s,onClose:e}){return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content analytics-modal",onClick:n=>n.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{children:["Provider Analytics - ",s.name]}),t.jsx("button",{onClick:e,className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"analytics-section",children:[t.jsx("h3",{children:"Revenue Trends"}),t.jsx("div",{className:"chart-placeholder",children:t.jsx("p",{children:"Revenue chart would be displayed here"})})]}),t.jsxs("div",{className:"analytics-section",children:[t.jsx("h3",{children:"Booking Trends"}),t.jsx("div",{className:"chart-placeholder",children:t.jsx("p",{children:"Booking chart would be displayed here"})})]})]})]})})}function W8(){const s=[{id:"p1",name:"Provider p1",verified:!0},{id:"p8",name:"Provider p8",verified:!1}],e=[{id:"b1",amount:999,status:"paid"},{id:"b2",amount:1499,status:"unpaid"}];return t.jsxs("div",{children:[t.jsx("h2",{children:"Admin Panel"}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-title",children:"Providers"}),s.map(n=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("div",{children:n.name}),t.jsx("div",{children:n.verified?"Verified":"Pending"})]},n.id))]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-title",children:"Bookings"}),e.map(n=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsxs("div",{children:["Booking ",n.id]}),t.jsxs("div",{children:[" ",n.amount,"  ",n.status]})]},n.id))]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-title",children:"Export CSV"}),t.jsx("button",{className:"btn",children:"Export (stub)"})]})]})}function H8(){const[s,e]=f.useState([]),[n,i]=f.useState([]),[r,a]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState(!0),[h,m]=f.useState(null),[p,g]=f.useState("overview"),[x,j]=f.useState({status:"all",role:"all",category:"all",priority:"all",dateRange:"all",searchQuery:""}),[v,b]=f.useState(null),[N,C]=f.useState(!1);async function I(){d(!0),m(null);try{await new Promise(P=>setTimeout(P,1500));const A=[{id:"u1",name:"Rahul Sharma",email:"rahul.sharma@email.com",phone:"+91-9876543210",role:"customer",status:"active",joinedDate:"2023-06-15",lastActive:new Date().toISOString(),totalBookings:12,totalSpent:45e3,location:"Gurgaon, Haryana",device:"Mobile App",ip:"192.168.1.100"},{id:"u2",name:"Priya Singh",email:"priya.singh@email.com",phone:"+91-9876543211",role:"provider",status:"active",joinedDate:"2023-04-20",lastActive:new Date(Date.now()-2*60*60*1e3).toISOString(),totalBookings:156,verificationStatus:"verified",rating:4.8,location:"New Delhi, Delhi",device:"Web",ip:"192.168.1.101"},{id:"u3",name:"Amit Kumar",email:"amit.kumar@email.com",phone:"+91-9876543212",role:"customer",status:"suspended",joinedDate:"2023-08-10",lastActive:new Date(Date.now()-7*24*60*60*1e3).toISOString(),totalBookings:3,totalSpent:8500,location:"Mumbai, Maharashtra",device:"Mobile App",ip:"192.168.1.102"},{id:"u4",name:"Neha Verma",email:"neha.verma@email.com",phone:"+91-9876543213",role:"provider",status:"active",joinedDate:"2023-02-28",lastActive:new Date(Date.now()-30*60*1e3).toISOString(),totalBookings:89,verificationStatus:"pending",rating:4.5,location:"Bangalore, Karnataka",device:"Web",ip:"192.168.1.103"}],Z=[{id:"b1",customerId:"u1",providerId:"u2",customerName:"Rahul Sharma",providerName:"Priya Singh",service:"Home Cleaning",category:"cleaning",amount:1200,status:"completed",date:"2024-01-18",time:"14:00",duration:120,location:"Sector 15, Gurgaon",paymentStatus:"paid",paymentMethod:"Credit Card",priority:"medium",rating:5},{id:"b2",customerId:"u3",providerId:"u2",customerName:"Amit Kumar",providerName:"Priya Singh",service:"AC Repair",category:"ac",amount:2500,status:"in_progress",date:"2024-01-19",time:"10:00",duration:90,location:"Andheri, Mumbai",paymentStatus:"pending",paymentMethod:"UPI",priority:"high",issues:["Customer not responding to calls"]},{id:"b3",customerId:"u1",providerId:"u4",customerName:"Rahul Sharma",providerName:"Neha Verma",service:"Plumbing Repair",category:"plumbing",amount:1800,status:"cancelled",date:"2024-01-17",time:"16:00",duration:60,location:"Sector 45, Gurgaon",paymentStatus:"refunded",paymentMethod:"Net Banking",priority:"low",issues:["Provider cancelled due to emergency"]}],Q=[{id:"t1",userId:"u1",userName:"Rahul Sharma",userEmail:"rahul.sharma@email.com",subject:"Payment not processed",category:"billing",priority:"high",status:"in_progress",description:"My payment was deducted but booking shows as unpaid",createdAt:"2024-01-19T10:30:00",updatedAt:"2024-01-19T14:20:00",assignedTo:"admin@service.com",responses:3},{id:"t2",userId:"u3",userName:"Amit Kumar",userEmail:"amit.kumar@email.com",subject:"Account suspended",category:"account",priority:"urgent",status:"open",description:"My account was suspended without any reason",createdAt:"2024-01-19T16:45:00",updatedAt:"2024-01-19T16:45:00",responses:0},{id:"t3",userId:"u4",userName:"Neha Verma",userEmail:"neha.verma@email.com",subject:"App not loading",category:"technical",priority:"medium",status:"resolved",description:"Mobile app crashes on startup",createdAt:"2024-01-18T09:15:00",updatedAt:"2024-01-18T17:30:00",assignedTo:"tech@service.com",responses:5,satisfaction:4}],q=[{id:"l1",timestamp:new Date().toISOString(),level:"error",service:"payment-gateway",message:"Payment processing failed for booking b2",details:"Transaction ID: txn_123456789",userId:"u3",ip:"192.168.1.102",resolved:!1},{id:"l2",timestamp:new Date(Date.now()-30*60*1e3).toISOString(),level:"warning",service:"auth-service",message:"Multiple failed login attempts",details:"5 failed attempts from IP 192.168.1.50",ip:"192.168.1.50",resolved:!0},{id:"l3",timestamp:new Date(Date.now()-60*60*1e3).toISOString(),level:"info",service:"booking-service",message:"New booking created",details:"Booking b4 created successfully",userId:"u1",resolved:!0}];e(A),i(Z),a(Q),l(q)}catch(A){console.error("Failed to load dashboard data:",A),m("Failed to load dashboard data. Please try again.")}finally{d(!1)}}const D=f.useMemo(()=>{const A=s.length,Z=s.filter(Ie=>Ie.role==="provider").length,Q=n.length,q=n.filter(Ie=>Ie.paymentStatus==="paid").reduce((Ie,Ze)=>Ie+Ze.amount,0),P=s.filter(Ie=>{const Ze=new Date(Ie.lastActive);return(new Date().getTime()-Ze.getTime())/(1e3*60*60*24)<=7}).length,G=s.filter(Ie=>Ie.verificationStatus==="pending").length,U=r.filter(Ie=>Ie.status!=="resolved"&&Ie.status!=="closed").length;return{totalUsers:A,totalProviders:Z,totalBookings:Q,totalRevenue:q,activeUsers:P,pendingVerifications:G,supportTickets:U,systemHealth:95.2,monthlyGrowth:12.5,userSatisfaction:4.6,avgResponseTime:2.8,serverUptime:99.9,errorRate:.3}},[s,n,r]);function $(A){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(A)}function E(A){return new Date(A).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}function k(A){return new Date(A).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}function _(A){const Z=new Date(A),q=new Date().getTime()-Z.getTime(),P=Math.floor(q/6e4),G=Math.floor(q/36e5),U=Math.floor(q/864e5);return P<60?`${P} minutes ago`:G<24?`${G} hours ago`:U<7?`${U} days ago`:E(A)}function T(A,Z){switch(b(A),Z){case"suspend":window.confirm(`Suspend user ${A.name}?`)&&(e(q=>q.map(P=>P.id===A.id?{...P,status:"suspended"}:P)),alert(`User ${A.name} has been suspended`));break;case"activate":e(q=>q.map(P=>P.id===A.id?{...P,status:"active"}:P)),alert(`User ${A.name} has been activated`);break;case"verify":e(q=>q.map(P=>P.id===A.id?{...P,verificationStatus:"verified"}:P)),alert(`Provider ${A.name} has been verified`);break;case"details":C(!0);break}}function S(A,Z){switch(b(A),Z){case"cancel":window.confirm(`Cancel booking ${A.id}?`)&&(i(q=>q.map(P=>P.id===A.id?{...P,status:"cancelled"}:P)),alert(`Booking ${A.id} has been cancelled`));break;case"refund":i(q=>q.map(P=>P.id===A.id?{...P,paymentStatus:"refunded"}:P)),alert(`Refund processed for booking ${A.id}`);break;case"details":C(!0);break}}function F(A,Z){switch(b(A),Z){case"assign":const Q=prompt("Assign to (email):");Q&&(a(q=>q.map(P=>P.id===A.id?{...P,assignedTo:Q,status:"in_progress"}:P)),alert(`Ticket assigned to ${Q}`));break;case"resolve":a(q=>q.map(P=>P.id===A.id?{...P,status:"resolved"}:P)),alert(`Ticket ${A.id} marked as resolved`);break;case"close":a(q=>q.map(P=>P.id===A.id?{...P,status:"closed"}:P)),alert(`Ticket ${A.id} closed`);break;case"details":C(!0);break}}function L(A){let Z={},Q="";switch(A){case"users":Z=s,Q=`users-export-${new Date().toISOString().split("T")[0]}.json`;break;case"bookings":Z=n,Q=`bookings-export-${new Date().toISOString().split("T")[0]}.json`;break;case"tickets":Z=r,Q=`support-tickets-export-${new Date().toISOString().split("T")[0]}.json`;break;case"all":Z={users:s,bookings:n,supportTickets:r,stats:D,exportedAt:new Date().toISOString()},Q=`admin-dashboard-export-${new Date().toISOString().split("T")[0]}.json`;break}const q=JSON.stringify(Z,null,2),P="data:application/json;charset=utf-8,"+encodeURIComponent(q),G=document.createElement("a");G.setAttribute("href",P),G.setAttribute("download",Q),G.click(),alert(`${A.charAt(0).toUpperCase()+A.slice(1)} data exported successfully!`)}function oe(A){switch(A){case"backup":alert("System backup initiated. You will receive an email when completed.");break;case"maintenance":window.confirm("Start maintenance mode? Users will be unable to access the system.")&&alert("Maintenance mode activated. System will be back online in 2 hours.");break;case"restart":window.confirm("Restart system? This will temporarily interrupt service.")&&alert("System restart initiated. Service will resume in 5 minutes.");break;case"cache-clear":alert("System cache cleared successfully.");break}}return f.useEffect(()=>{I()},[]),c?t.jsx("div",{className:"admin-panel-advanced",children:t.jsxs("div",{className:"loading-state",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading admin dashboard..."})]})}):t.jsxs("div",{className:"admin-panel-advanced",children:[t.jsx("section",{className:"admin-header",children:t.jsxs("div",{className:"header-content",children:[t.jsxs("div",{className:"header-title-section",children:[t.jsx("h1",{className:"admin-title",children:"Admin Dashboard"}),t.jsx("p",{className:"admin-subtitle",children:"Complete system administration and monitoring"})]}),t.jsxs("div",{className:"header-actions",children:[t.jsxs("button",{className:"system-action-btn",onClick:()=>oe("backup"),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Backup"})]}),t.jsxs("button",{className:"system-action-btn",onClick:()=>oe("maintenance"),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Maintenance"})]}),t.jsxs("button",{className:"system-action-btn critical",onClick:()=>oe("restart"),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Restart"})]})]})]})}),t.jsx("section",{className:"admin-navigation",children:t.jsx("div",{className:"nav-tabs",children:[{id:"overview",label:"Overview",icon:""},{id:"users",label:"Users",icon:""},{id:"bookings",label:"Bookings",icon:""},{id:"support",label:"Support",icon:""},{id:"analytics",label:"Analytics",icon:""},{id:"settings",label:"Settings",icon:""},{id:"logs",label:"System Logs",icon:""}].map(A=>t.jsxs("button",{className:`nav-tab ${p===A.id?"active":""}`,onClick:()=>g(A.id),children:[t.jsx("span",{className:"tab-icon",children:A.icon}),t.jsx("span",{className:"tab-label",children:A.label})]},A.id))})}),h&&t.jsxs("div",{className:"admin-error",children:[t.jsx("span",{className:"error-icon",children:""}),t.jsx("span",{children:h}),t.jsx("button",{onClick:I,className:"retry-btn",children:"Retry"})]}),p==="overview"&&t.jsxs("section",{className:"admin-overview",children:[t.jsxs("div",{className:"metrics-grid",children:[t.jsxs("div",{className:"metric-card primary",children:[t.jsx("div",{className:"metric-icon",children:""}),t.jsxs("div",{className:"metric-content",children:[t.jsx("div",{className:"metric-number",children:D.totalUsers}),t.jsx("div",{className:"metric-label",children:"Total Users"}),t.jsxs("div",{className:"metric-change",children:["+",D.monthlyGrowth,"% this month"]})]})]}),t.jsxs("div",{className:"metric-card success",children:[t.jsx("div",{className:"metric-icon",children:""}),t.jsxs("div",{className:"metric-content",children:[t.jsx("div",{className:"metric-number",children:D.totalBookings}),t.jsx("div",{className:"metric-label",children:"Total Bookings"}),t.jsx("div",{className:"metric-change",children:"All time"})]})]}),t.jsxs("div",{className:"metric-card warning",children:[t.jsx("div",{className:"metric-icon",children:""}),t.jsxs("div",{className:"metric-content",children:[t.jsx("div",{className:"metric-number",children:$(D.totalRevenue)}),t.jsx("div",{className:"metric-label",children:"Total Revenue"}),t.jsxs("div",{className:"metric-change",children:["+",D.monthlyGrowth,"% growth"]})]})]}),t.jsxs("div",{className:"metric-card info",children:[t.jsx("div",{className:"metric-icon",children:""}),t.jsxs("div",{className:"metric-content",children:[t.jsx("div",{className:"metric-number",children:D.supportTickets}),t.jsx("div",{className:"metric-label",children:"Open Tickets"}),t.jsx("div",{className:"metric-change",children:"Need attention"})]})]})]}),t.jsxs("div",{className:"system-health-section",children:[t.jsx("h2",{className:"section-title",children:"System Health"}),t.jsxs("div",{className:"health-grid",children:[t.jsxs("div",{className:"health-item",children:[t.jsx("div",{className:"health-label",children:"System Health"}),t.jsx("div",{className:"health-bar",children:t.jsx("div",{className:"health-fill",style:{width:`${D.systemHealth}%`}})}),t.jsxs("div",{className:"health-value",children:[D.systemHealth,"%"]})]}),t.jsxs("div",{className:"health-item",children:[t.jsx("div",{className:"health-label",children:"Server Uptime"}),t.jsx("div",{className:"health-bar",children:t.jsx("div",{className:"health-fill excellent",style:{width:`${D.serverUptime}%`}})}),t.jsxs("div",{className:"health-value",children:[D.serverUptime,"%"]})]}),t.jsxs("div",{className:"health-item",children:[t.jsx("div",{className:"health-label",children:"Error Rate"}),t.jsx("div",{className:"health-bar",children:t.jsx("div",{className:"health-fill warning",style:{width:`${D.errorRate*10}%`}})}),t.jsxs("div",{className:"health-value",children:[D.errorRate,"%"]})]}),t.jsxs("div",{className:"health-item",children:[t.jsx("div",{className:"health-label",children:"User Satisfaction"}),t.jsx("div",{className:"health-bar",children:t.jsx("div",{className:"health-fill good",style:{width:`${D.userSatisfaction/5*100}%`}})}),t.jsxs("div",{className:"health-value",children:[D.userSatisfaction,"/5"]})]})]})]}),t.jsxs("div",{className:"recent-activity-section",children:[t.jsx("h2",{className:"section-title",children:"Recent Activity"}),t.jsx("div",{className:"activity-list",children:o.slice(0,5).map(A=>t.jsxs("div",{className:`activity-item ${A.level}`,children:[t.jsxs("div",{className:"activity-icon",children:[A.level==="error"&&"",A.level==="warning"&&"",A.level==="info"&&"",A.level==="critical"&&""]}),t.jsxs("div",{className:"activity-content",children:[t.jsx("div",{className:"activity-message",children:A.message}),t.jsxs("div",{className:"activity-details",children:[A.service,"  ",_(A.timestamp)]})]}),t.jsx("div",{className:"activity-status",children:A.resolved?t.jsx("span",{className:"status-resolved",children:"Resolved"}):t.jsx("span",{className:"status-pending",children:"Pending"})})]},A.id))})]})]}),p==="users"&&t.jsxs("section",{className:"admin-users",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"User Management"}),t.jsx("div",{className:"section-actions",children:t.jsxs("button",{className:"export-btn",onClick:()=>L("users"),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Export Users"})]})})]}),t.jsx("div",{className:"users-grid",children:s.map(A=>t.jsxs("div",{className:`user-card ${A.status}`,children:[t.jsxs("div",{className:"user-header",children:[t.jsx("div",{className:"user-avatar",children:A.name.charAt(0).toUpperCase()}),t.jsxs("div",{className:"user-info",children:[t.jsx("h3",{className:"user-name",children:A.name}),t.jsx("p",{className:"user-email",children:A.email}),t.jsxs("div",{className:"user-meta",children:[t.jsx("span",{className:`user-role ${A.role}`,children:A.role}),t.jsx("span",{className:`user-status ${A.status}`,children:A.status})]})]})]}),t.jsxs("div",{className:"user-stats",children:[A.role==="customer"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Bookings"}),t.jsx("span",{className:"stat-value",children:A.totalBookings||0})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Spent"}),t.jsx("span",{className:"stat-value",children:$(A.totalSpent||0)})]})]}),A.role==="provider"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Bookings"}),t.jsx("span",{className:"stat-value",children:A.totalBookings||0})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Rating"}),t.jsx("span",{className:"stat-value",children:A.rating?parseFloat(A.rating.toFixed(2)):"N/A"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Verification"}),t.jsx("span",{className:"stat-value",children:A.verificationStatus||"N/A"})]})]})]}),t.jsxs("div",{className:"user-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Location"}),t.jsx("span",{className:"detail-value",children:A.location})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Last Active"}),t.jsx("span",{className:"detail-value",children:_(A.lastActive)})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Device"}),t.jsx("span",{className:"detail-value",children:A.device})]})]}),t.jsxs("div",{className:"user-actions",children:[t.jsx("button",{className:"action-btn details",onClick:()=>T(A,"details"),children:"Details"}),A.status==="suspended"?t.jsx("button",{className:"action-btn activate",onClick:()=>T(A,"activate"),children:"Activate"}):t.jsx("button",{className:"action-btn suspend",onClick:()=>T(A,"suspend"),children:"Suspend"}),A.role==="provider"&&A.verificationStatus==="pending"&&t.jsx("button",{className:"action-btn verify",onClick:()=>T(A,"verify"),children:"Verify"})]})]},A.id))})]}),p==="bookings"&&t.jsxs("section",{className:"admin-bookings",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Booking Management"}),t.jsx("div",{className:"section-actions",children:t.jsxs("button",{className:"export-btn",onClick:()=>L("bookings"),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Export Bookings"})]})})]}),t.jsxs("div",{className:"bookings-table",children:[t.jsxs("div",{className:"table-header",children:[t.jsx("div",{className:"header-cell",children:"Booking ID"}),t.jsx("div",{className:"header-cell",children:"Customer"}),t.jsx("div",{className:"header-cell",children:"Provider"}),t.jsx("div",{className:"header-cell",children:"Service"}),t.jsx("div",{className:"header-cell",children:"Amount"}),t.jsx("div",{className:"header-cell",children:"Status"}),t.jsx("div",{className:"header-cell",children:"Payment"}),t.jsx("div",{className:"header-cell",children:"Priority"}),t.jsx("div",{className:"header-cell",children:"Actions"})]}),n.map(A=>t.jsxs("div",{className:"table-row",children:[t.jsx("div",{className:"table-cell",children:t.jsxs("span",{className:"booking-id",children:["#",A.id]})}),t.jsx("div",{className:"table-cell",children:t.jsx("div",{className:"user-info",children:t.jsx("span",{className:"user-name",children:A.customerName})})}),t.jsx("div",{className:"table-cell",children:t.jsx("div",{className:"user-info",children:t.jsx("span",{className:"user-name",children:A.providerName})})}),t.jsx("div",{className:"table-cell",children:t.jsxs("div",{className:"service-info",children:[t.jsx("span",{className:"service-name",children:A.service}),t.jsx("span",{className:"service-category",children:A.category})]})}),t.jsx("div",{className:"table-cell",children:t.jsx("span",{className:"amount",children:$(A.amount)})}),t.jsx("div",{className:"table-cell",children:t.jsx("span",{className:`status-badge ${A.status}`,children:A.status})}),t.jsx("div",{className:"table-cell",children:t.jsx("span",{className:`payment-status ${A.paymentStatus}`,children:A.paymentStatus})}),t.jsx("div",{className:"table-cell",children:t.jsx("span",{className:`priority-badge ${A.priority}`,children:A.priority})}),t.jsx("div",{className:"table-cell",children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn details",onClick:()=>S(A,"details"),children:"View"}),A.status!=="cancelled"&&t.jsx("button",{className:"action-btn cancel",onClick:()=>S(A,"cancel"),children:"Cancel"}),A.paymentStatus==="paid"&&t.jsx("button",{className:"action-btn refund",onClick:()=>S(A,"refund"),children:"Refund"})]})})]},A.id))]})]}),p==="support"&&t.jsxs("section",{className:"admin-support",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Support Tickets"}),t.jsx("div",{className:"section-actions",children:t.jsxs("button",{className:"export-btn",onClick:()=>L("tickets"),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Export Tickets"})]})})]}),t.jsx("div",{className:"tickets-grid",children:r.map(A=>t.jsxs("div",{className:`ticket-card ${A.priority} ${A.status}`,children:[t.jsxs("div",{className:"ticket-header",children:[t.jsxs("div",{className:"ticket-info",children:[t.jsx("h3",{className:"ticket-subject",children:A.subject}),t.jsxs("p",{className:"ticket-meta",children:[A.userName,"  ",A.userEmail,"  ",_(A.createdAt)]})]}),t.jsxs("div",{className:"ticket-badges",children:[t.jsx("span",{className:`priority-badge ${A.priority}`,children:A.priority}),t.jsx("span",{className:`status-badge ${A.status}`,children:A.status})]})]}),t.jsxs("div",{className:"ticket-content",children:[t.jsx("p",{className:"ticket-description",children:A.description}),t.jsxs("div",{className:"ticket-details",children:[t.jsx("span",{className:"ticket-category",children:A.category}),t.jsxs("span",{className:"ticket-responses",children:[A.responses," responses"]}),A.assignedTo&&t.jsxs("span",{className:"ticket-assigned",children:["Assigned to ",A.assignedTo]})]})]}),t.jsxs("div",{className:"ticket-actions",children:[t.jsx("button",{className:"action-btn details",onClick:()=>F(A,"details"),children:"View Details"}),A.status==="open"&&t.jsx("button",{className:"action-btn assign",onClick:()=>F(A,"assign"),children:"Assign"}),A.status==="in_progress"&&t.jsx("button",{className:"action-btn resolve",onClick:()=>F(A,"resolve"),children:"Resolve"}),A.status!=="closed"&&t.jsx("button",{className:"action-btn close",onClick:()=>F(A,"close"),children:"Close"})]})]},A.id))})]}),p==="analytics"&&t.jsxs("section",{className:"admin-analytics",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Analytics & Reports"}),t.jsx("div",{className:"section-actions",children:t.jsxs("button",{className:"export-btn",onClick:()=>L("all"),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Export All Data"})]})})]}),t.jsxs("div",{className:"analytics-grid",children:[t.jsxs("div",{className:"analytics-card",children:[t.jsx("h3",{children:"User Growth"}),t.jsx("div",{className:"chart-placeholder",children:t.jsx("p",{children:"User growth chart would be displayed here"})})]}),t.jsxs("div",{className:"analytics-card",children:[t.jsx("h3",{children:"Revenue Trends"}),t.jsx("div",{className:"chart-placeholder",children:t.jsx("p",{children:"Revenue trends chart would be displayed here"})})]}),t.jsxs("div",{className:"analytics-card",children:[t.jsx("h3",{children:"Service Categories"}),t.jsx("div",{className:"chart-placeholder",children:t.jsx("p",{children:"Service categories distribution would be displayed here"})})]}),t.jsxs("div",{className:"analytics-card",children:[t.jsx("h3",{children:"User Satisfaction"}),t.jsx("div",{className:"chart-placeholder",children:t.jsx("p",{children:"User satisfaction metrics would be displayed here"})})]})]})]}),p==="settings"&&t.jsxs("section",{className:"admin-settings",children:[t.jsx("div",{className:"section-header",children:t.jsx("h2",{className:"section-title",children:"System Settings"})}),t.jsxs("div",{className:"settings-grid",children:[t.jsxs("div",{className:"settings-card",children:[t.jsx("h3",{children:"General Settings"}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"System Maintenance Mode"}),t.jsx("button",{className:"setting-btn",onClick:()=>oe("maintenance"),children:"Configure"})]}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"Backup Schedule"}),t.jsx("button",{className:"setting-btn",onClick:()=>oe("backup"),children:"Configure"})]}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"Cache Management"}),t.jsx("button",{className:"setting-btn",onClick:()=>oe("cache-clear"),children:"Clear Cache"})]})]}),t.jsxs("div",{className:"settings-card",children:[t.jsx("h3",{children:"User Management"}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"User Registration"}),t.jsxs("select",{className:"setting-select",children:[t.jsx("option",{children:"Open"}),t.jsx("option",{children:"Invite Only"}),t.jsx("option",{children:"Closed"})]})]}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"Email Verification"}),t.jsxs("select",{className:"setting-select",children:[t.jsx("option",{children:"Required"}),t.jsx("option",{children:"Optional"}),t.jsx("option",{children:"Disabled"})]})]}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"Provider Verification"}),t.jsxs("select",{className:"setting-select",children:[t.jsx("option",{children:"Automatic"}),t.jsx("option",{children:"Manual Review"}),t.jsx("option",{children:"Document Required"})]})]})]}),t.jsxs("div",{className:"settings-card",children:[t.jsx("h3",{children:"Notification Settings"}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"Email Notifications"}),t.jsx("input",{type:"checkbox",defaultChecked:!0})]}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"SMS Notifications"}),t.jsx("input",{type:"checkbox",defaultChecked:!0})]}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"Push Notifications"}),t.jsx("input",{type:"checkbox",defaultChecked:!0})]})]})]})]}),p==="logs"&&t.jsxs("section",{className:"admin-logs",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"System Logs"}),t.jsx("div",{className:"section-actions",children:t.jsxs("button",{className:"export-btn",onClick:()=>L("logs"),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Export Logs"})]})})]}),t.jsxs("div",{className:"logs-table",children:[t.jsxs("div",{className:"table-header",children:[t.jsx("div",{className:"header-cell",children:"Timestamp"}),t.jsx("div",{className:"header-cell",children:"Level"}),t.jsx("div",{className:"header-cell",children:"Service"}),t.jsx("div",{className:"header-cell",children:"Message"}),t.jsx("div",{className:"header-cell",children:"User ID"}),t.jsx("div",{className:"header-cell",children:"IP Address"}),t.jsx("div",{className:"header-cell",children:"Status"})]}),o.map(A=>t.jsxs("div",{className:`table-row ${A.level}`,children:[t.jsx("div",{className:"table-cell",children:t.jsxs("span",{className:"timestamp",children:[E(A.timestamp)," ",k(A.timestamp)]})}),t.jsx("div",{className:"table-cell",children:t.jsx("span",{className:`log-level ${A.level}`,children:A.level.toUpperCase()})}),t.jsx("div",{className:"table-cell",children:t.jsx("span",{className:"service-name",children:A.service})}),t.jsx("div",{className:"table-cell",children:t.jsx("span",{className:"log-message",children:A.message})}),t.jsx("div",{className:"table-cell",children:t.jsx("span",{className:"user-id",children:A.userId||"N/A"})}),t.jsx("div",{className:"table-cell",children:t.jsx("span",{className:"ip-address",children:A.ip||"N/A"})}),t.jsx("div",{className:"table-cell",children:t.jsx("span",{className:`log-status ${A.resolved?"resolved":"pending"}`,children:A.resolved?"Resolved":"Pending"})})]},A.id))]})]}),N&&v&&t.jsx("div",{className:"modal-overlay",onClick:()=>C(!1),children:t.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Details"}),t.jsx("button",{onClick:()=>C(!1),className:"close-btn",children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsx("pre",{children:JSON.stringify(v,null,2)})})]})})]})}function G8(){const s=Ct(),[e,n]=f.useState(!0),[i,r]=f.useState(!1),[a,o]=f.useState({}),[l,c]=f.useState(null),[d,h]=f.useState(""),[m,p]=f.useState(""),[g,x]=f.useState(""),[j,v]=f.useState(""),[b,N]=f.useState(""),[C,I]=f.useState("user"),[D,$]=f.useState(!1),[E,k]=f.useState(null);function _(){const L={};return!d.trim()&&!e&&(L.name="Name is required"),m.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m)||(L.email="Please enter a valid email"):L.email="Email is required",g.trim()?/^[6-9]\d{9}$/.test(g.replace(/[^\d]/g,""))||(L.phone="Please enter a valid 10-digit phone number"):L.phone="Phone number is required",j.trim()?!e&&j.length<6&&(L.password="Password must be at least 6 characters"):L.password="Password is required",!e&&j!==b&&(L.confirmPassword="Passwords do not match"),o(L),Object.keys(L).length===0}async function T(L){var oe,A;if(L.preventDefault(),!!_()){r(!0),o({}),c(null);try{const Z=e?"/api/auth/login":"/api/auth/signup",Q=e?{email:m,password:j,rememberMe:D}:{name:d,email:m,phone:g,password:j,role:C},q=await fd.post(Z,Q);e?(localStorage.setItem("token",q.data.token),localStorage.setItem("user",JSON.stringify(q.data.user)),c("Login successful! Redirecting..."),setTimeout(()=>{q.data.user.role==="provider"?s("/provider"):q.data.user.role==="admin"?s("/admin"):s("/")},1500)):(k(q.data.user),c("Account created successfully! Please login."),setTimeout(()=>{n(!0),v(""),N("")},2e3))}catch(Z){console.error("Auth error:",Z);const Q=((A=(oe=Z.response)==null?void 0:oe.data)==null?void 0:A.message)||(e?"Login failed. Please check your credentials.":"Signup failed. Please try again.");o({submit:Q})}finally{r(!1)}}}function S(){n(!e),o({}),c(null),v(""),N("")}function F(L){const oe=L.replace(/\D/g,"");return oe.length<=5?oe:oe.length<=10?`${oe.slice(0,5)}-${oe.slice(5)}`:`${oe.slice(0,5)}-${oe.slice(5,10)}`}return t.jsx("div",{className:"auth-page-advanced",children:t.jsxs("div",{className:"auth-container",children:[t.jsx("div",{className:"auth-visual",children:t.jsxs("div",{className:"visual-content",children:[t.jsxs("div",{className:"auth-logo",children:[t.jsx("span",{className:"logo-icon",children:""}),t.jsx("h2",{children:"Smart ServiceHub"})]}),t.jsxs("div",{className:"visual-features",children:[t.jsxs("div",{className:"feature-item",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{children:"Find Services"}),t.jsx("p",{children:"Discover trusted professionals for all your needs"})]}),t.jsxs("div",{className:"feature-item",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{children:"Book Instantly"}),t.jsx("p",{children:"Schedule services with just a few clicks"})]}),t.jsxs("div",{className:"feature-item",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{children:"Rate & Review"}),t.jsx("p",{children:"Share your experience with the community"})]})]}),t.jsxs("div",{className:"visual-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-number",children:"10,000+"}),t.jsx("div",{className:"stat-label",children:"Happy Customers"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-number",children:"500+"}),t.jsx("div",{className:"stat-label",children:"Verified Providers"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-number",children:"50,000+"}),t.jsx("div",{className:"stat-label",children:"Services Completed"})]})]})]})}),t.jsx("div",{className:"auth-form-container",children:t.jsxs("div",{className:"auth-form",children:[t.jsxs("div",{className:"form-header",children:[t.jsx("h1",{className:"form-title",children:e?"Welcome Back!":"Create Account"}),t.jsx("p",{className:"form-subtitle",children:e?"Login to access your account and manage bookings":"Join our community and start booking services today"})]}),l&&t.jsxs("div",{className:"success-message",children:[t.jsx("span",{className:"success-icon",children:""}),t.jsx("span",{children:l})]}),a.submit&&t.jsxs("div",{className:"error-message",children:[t.jsx("span",{className:"error-icon",children:""}),t.jsx("span",{children:a.submit})]}),t.jsxs("form",{onSubmit:T,className:"auth-form-fields",children:[!e&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Full Name"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:""}),t.jsx("input",{type:"text",placeholder:"Enter your full name",value:d,onChange:L=>h(L.target.value),className:`form-input ${a.name?"error":""}`})]}),a.name&&t.jsx("span",{className:"error-text",children:a.name})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Email Address"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:""}),t.jsx("input",{type:"email",placeholder:"Enter your email",value:m,onChange:L=>p(L.target.value),className:`form-input ${a.email?"error":""}`})]}),a.email&&t.jsx("span",{className:"error-text",children:a.email})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Phone Number"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:""}),t.jsx("input",{type:"tel",placeholder:"12345-67890",value:F(g),onChange:L=>x(L.target.value.replace(/\D/g,"")),className:`form-input ${a.phone?"error":""}`,maxLength:11})]}),a.phone&&t.jsx("span",{className:"error-text",children:a.phone})]}),!e&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"I want to"}),t.jsxs("div",{className:"role-selection",children:[t.jsxs("button",{type:"button",className:`role-btn ${C==="user"?"active":""}`,onClick:()=>I("user"),children:[t.jsx("span",{className:"role-icon",children:""}),t.jsx("span",{children:"Book Services"})]}),t.jsxs("button",{type:"button",className:`role-btn ${C==="provider"?"active":""}`,onClick:()=>I("provider"),children:[t.jsx("span",{className:"role-icon",children:""}),t.jsx("span",{children:"Provide Services"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Password"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:""}),t.jsx("input",{type:"password",placeholder:"Enter your password",value:j,onChange:L=>v(L.target.value),className:`form-input ${a.password?"error":""}`})]}),a.password&&t.jsx("span",{className:"error-text",children:a.password})]}),!e&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Confirm Password"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:""}),t.jsx("input",{type:"password",placeholder:"Confirm your password",value:b,onChange:L=>N(L.target.value),className:`form-input ${a.confirmPassword?"error":""}`})]}),a.confirmPassword&&t.jsx("span",{className:"error-text",children:a.confirmPassword})]}),e&&t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:D,onChange:L=>$(L.target.checked),className:"checkbox-input"}),t.jsx("span",{className:"checkbox-text",children:"Remember me for 30 days"})]})}),t.jsx("button",{type:"submit",className:"auth-submit-btn",disabled:i,children:i?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"btn-spinner",children:""}),t.jsx("span",{children:e?"Logging in...":"Creating account..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"btn-icon",children:e?"":""}),t.jsx("span",{children:e?"Login":"Create Account"})]})})]}),t.jsx("div",{className:"auth-toggle",children:t.jsxs("p",{children:[e?"Don't have an account?":"Already have an account?",t.jsx("button",{type:"button",onClick:S,className:"toggle-btn",children:e?"Sign Up":"Login"})]})}),t.jsxs("div",{className:"social-login",children:[t.jsx("div",{className:"social-divider",children:t.jsx("span",{children:"Or continue with"})}),t.jsxs("div",{className:"social-buttons",children:[t.jsxs("button",{type:"button",className:"social-btn google",children:[t.jsx("span",{className:"social-icon",children:""}),t.jsx("span",{children:"Google"})]}),t.jsxs("button",{type:"button",className:"social-btn phone",children:[t.jsx("span",{className:"social-icon",children:""}),t.jsx("span",{children:"Phone OTP"})]})]})]}),!e&&t.jsx("div",{className:"auth-terms",children:t.jsxs("p",{children:["By creating an account, you agree to our",t.jsx(he,{to:"/terms",className:"terms-link",children:"Terms of Service"})," and ",t.jsx(he,{to:"/privacy",className:"terms-link",children:"Privacy Policy"})]})})]})})]})})}function K8(){const s=Ct(),[e,n]=f.useState(!0),[i,r]=f.useState(!1),[a,o]=f.useState({}),[l,c]=f.useState(null),[d,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(0),[j,v]=f.useState(!1),[b,N]=f.useState(""),[C,I]=f.useState(null),[D,$]=f.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",role:"user",rememberMe:!1});f.useEffect(()=>{const Q=Fs.getCurrentUser();Q&&(I(Q),Q.role==="provider"?s("/provider"):Q.role==="admin"?s("/admin"):s("/"))},[s]);const E=Q=>{let q=0;return Q.length>=8&&q++,Q.length>=12&&q++,/[a-z]/.test(Q)&&q++,/[A-Z]/.test(Q)&&q++,/[0-9]/.test(Q)&&q++,/[^a-zA-Z0-9]/.test(Q)&&q++,Math.min(q,4)},k=Q=>{const{name:q,value:P,type:G,checked:U}=Q.target,re=G==="checkbox"?U:P;$(W=>({...W,[q]:re})),a[q]&&o(W=>({...W,[q]:""})),q==="password"&&x(E(P))},_=()=>{const Q={};return!e&&!D.name.trim()?Q.name="Full name is required":!e&&D.name.trim().length<2&&(Q.name="Name must be at least 2 characters long"),D.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D.email)||(Q.email="Please enter a valid email address"):Q.email="Email address is required",!e&&!D.phone.trim()?Q.phone="Phone number is required":!e&&!/^[6-9]\d{9}$/.test(D.phone.replace(/[^\d]/g,""))&&(Q.phone="Please enter a valid 10-digit phone number"),D.password.trim()?!e&&D.password.length<6?Q.password="Password must be at least 6 characters long":!e&&g<2&&(Q.password="Password is too weak. Include uppercase, lowercase, and numbers"):Q.password="Password is required",!e&&!D.confirmPassword.trim()?Q.confirmPassword="Please confirm your password":!e&&D.password!==D.confirmPassword&&(Q.confirmPassword="Passwords do not match"),o(Q),Object.keys(Q).length===0},T=async Q=>{if(Q.preventDefault(),!!_()){r(!0),o({}),c(null);try{let q;e?(q=await Fs.signIn(D.email,D.password),q.success&&q.user&&(c("Login successful! Redirecting..."),setTimeout(()=>{var P,G;((P=q.user)==null?void 0:P.role)==="provider"?s("/provider"):((G=q.user)==null?void 0:G.role)==="admin"?s("/admin"):s("/")},1500))):(q=await Fs.signUp(D.email,D.password,D.name,D.role,D.phone),q.success&&(c("Account created successfully! Please check your email for verification."),setTimeout(()=>{n(!0),$(P=>({...P,password:"",confirmPassword:""}))},3e3))),q.error&&o({submit:q.error}),q.needsVerification&&o({submit:"Please verify your email address before logging in."})}catch(q){console.error("Auth error:",q),o({submit:"An unexpected error occurred. Please try again."})}finally{r(!1)}}},S=async()=>{r(!0),o({}),c(null);try{const Q=await Fs.signInWithGoogle();Q.success&&Q.user?(c("Login successful! Redirecting..."),setTimeout(()=>{var q,P;((q=Q.user)==null?void 0:q.role)==="provider"?s("/provider"):((P=Q.user)==null?void 0:P.role)==="admin"?s("/admin"):s("/")},1500)):Q.error&&o({submit:Q.error})}catch(Q){console.error("Google sign in error:",Q),o({submit:"Failed to sign in with Google. Please try again."})}finally{r(!1)}},F=async()=>{if(!b.trim()){o({reset:"Please enter your email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)){o({reset:"Please enter a valid email address"});return}r(!0),o({});try{const Q=await Fs.resetPassword(b);Q.success?(c("Password reset link sent! Please check your email."),v(!1),N("")):Q.error&&o({reset:Q.error})}catch(Q){console.error("Password reset error:",Q),o({reset:"Failed to send password reset email. Please try again."})}finally{r(!1)}},L=()=>{n(!e),o({}),c(null),$(Q=>({...Q,password:"",confirmPassword:""})),x(0)},oe=Q=>{const q=Q.replace(/\D/g,"");return q.length<=5?q:q.length<=10?`${q.slice(0,5)}-${q.slice(5)}`:`${q.slice(0,5)}-${q.slice(5,10)}`},A=()=>g<=1?"#ef4444":g===2?"#f59e0b":g===3?"#3b82f6":"#10b981",Z=()=>g<=1?"Weak":g===2?"Fair":g===3?"Good":"Strong";return C?t.jsx("div",{className:"auth-page-advanced",children:t.jsx("div",{className:"auth-container",children:t.jsx("div",{className:"auth-form-container",children:t.jsx("div",{className:"auth-form",children:t.jsxs("div",{className:"already-logged-in",children:[t.jsx("div",{className:"logged-in-icon",children:""}),t.jsx("h2",{children:"You're already logged in!"}),t.jsx("p",{children:"Redirecting you to your dashboard..."})]})})})})}):t.jsx("div",{className:"auth-page-advanced",children:t.jsxs("div",{className:"auth-container",children:[t.jsx("div",{className:"auth-visual",children:t.jsxs("div",{className:"visual-content",children:[t.jsxs("div",{className:"auth-logo",children:[t.jsx("span",{className:"logo-icon",children:""}),t.jsx("h2",{children:"Smart ServiceHub"}),t.jsx("p",{children:"Your trusted partner for home services"})]}),t.jsxs("div",{className:"visual-features",children:[t.jsxs("div",{className:"feature-item",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{children:"Find Services"}),t.jsx("p",{children:"Discover trusted professionals for all your needs"})]}),t.jsxs("div",{className:"feature-item",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{children:"Book Instantly"}),t.jsx("p",{children:"Schedule services with just a few clicks"})]}),t.jsxs("div",{className:"feature-item",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{children:"Rate & Review"}),t.jsx("p",{children:"Share your experience with the community"})]}),t.jsxs("div",{className:"feature-item",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("h3",{children:"Secure Payments"}),t.jsx("p",{children:"Safe and secure payment processing"})]})]}),t.jsxs("div",{className:"visual-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-number",children:"10,000+"}),t.jsx("div",{className:"stat-label",children:"Happy Customers"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-number",children:"500+"}),t.jsx("div",{className:"stat-label",children:"Verified Providers"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-number",children:"50,000+"}),t.jsx("div",{className:"stat-label",children:"Services Completed"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-number",children:"4.8"}),t.jsx("div",{className:"stat-label",children:"Average Rating"})]})]})]})}),t.jsx("div",{className:"auth-form-container",children:t.jsxs("div",{className:"auth-form",children:[t.jsxs("div",{className:"form-header",children:[t.jsx("h1",{className:"form-title",children:e?"Welcome Back!":"Create Account"}),t.jsx("p",{className:"form-subtitle",children:e?"Login to access your account and manage bookings":"Join our community and start booking services today"})]}),l&&t.jsxs("div",{className:"success-message",children:[t.jsx("span",{className:"success-icon",children:""}),t.jsx("span",{children:l})]}),a.submit&&t.jsxs("div",{className:"error-message",children:[t.jsx("span",{className:"error-icon",children:""}),t.jsx("span",{children:a.submit})]}),j?t.jsxs("div",{className:"password-reset-form",children:[t.jsx("h3",{children:"Reset Password"}),t.jsx("p",{children:"Enter your email address and we'll send you a link to reset your password."}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Email Address"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:""}),t.jsx("input",{type:"email",placeholder:"Enter your email",value:b,onChange:Q=>N(Q.target.value),className:`form-input ${a.reset?"error":""}`})]}),a.reset&&t.jsx("span",{className:"error-text",children:a.reset})]}),t.jsxs("div",{className:"reset-buttons",children:[t.jsx("button",{type:"button",onClick:F,className:"auth-submit-btn",disabled:i,children:i?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"btn-spinner",children:""}),t.jsx("span",{children:"Sending..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Send Reset Link"})]})}),t.jsx("button",{type:"button",onClick:()=>{v(!1),N(""),o({})},className:"cancel-btn",children:"Cancel"})]})]}):t.jsxs("form",{onSubmit:T,className:"auth-form-fields",children:[!e&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Full Name"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:""}),t.jsx("input",{type:"text",name:"name",placeholder:"Enter your full name",value:D.name,onChange:k,className:`form-input ${a.name?"error":""}`})]}),a.name&&t.jsx("span",{className:"error-text",children:a.name})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Email Address"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:""}),t.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",value:D.email,onChange:k,className:`form-input ${a.email?"error":""}`})]}),a.email&&t.jsx("span",{className:"error-text",children:a.email})]}),!e&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Phone Number"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:""}),t.jsx("input",{type:"tel",name:"phone",placeholder:"12345-67890",value:oe(D.phone),onChange:Q=>$(q=>({...q,phone:Q.target.value.replace(/\D/g,"")})),className:`form-input ${a.phone?"error":""}`,maxLength:11})]}),a.phone&&t.jsx("span",{className:"error-text",children:a.phone})]}),!e&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"I want to"}),t.jsxs("div",{className:"role-selection",children:[t.jsxs("button",{type:"button",className:`role-btn ${D.role==="user"?"active":""}`,onClick:()=>$(Q=>({...Q,role:"user"})),children:[t.jsx("span",{className:"role-icon",children:""}),t.jsx("span",{children:"Book Services"})]}),t.jsxs("button",{type:"button",className:`role-btn ${D.role==="provider"?"active":""}`,onClick:()=>$(Q=>({...Q,role:"provider"})),children:[t.jsx("span",{className:"role-icon",children:""}),t.jsx("span",{children:"Provide Services"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Password"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:""}),t.jsx("input",{type:d?"text":"password",name:"password",placeholder:"Enter your password",value:D.password,onChange:k,className:`form-input ${a.password?"error":""}`}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>h(!d),children:d?"":""})]}),a.password&&t.jsx("span",{className:"error-text",children:a.password}),!e&&D.password&&t.jsxs("div",{className:"password-strength",children:[t.jsx("div",{className:"strength-bar",children:t.jsx("div",{className:"strength-fill",style:{width:`${g/4*100}%`,backgroundColor:A()}})}),t.jsxs("span",{className:"strength-text",style:{color:A()},children:["Password strength: ",Z()]})]})]}),!e&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Confirm Password"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:""}),t.jsx("input",{type:m?"text":"password",name:"confirmPassword",placeholder:"Confirm your password",value:D.confirmPassword,onChange:k,className:`form-input ${a.confirmPassword?"error":""}`}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>p(!m),children:m?"":""})]}),a.confirmPassword&&t.jsx("span",{className:"error-text",children:a.confirmPassword})]}),e&&t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",name:"rememberMe",checked:D.rememberMe,onChange:k,className:"checkbox-input"}),t.jsx("span",{className:"checkbox-text",children:"Remember me for 30 days"})]})}),t.jsx("button",{type:"submit",className:"auth-submit-btn",disabled:i,children:i?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"btn-spinner",children:""}),t.jsx("span",{children:e?"Logging in...":"Creating account..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"btn-icon",children:e?"":""}),t.jsx("span",{children:e?"Login":"Create Account"})]})})]}),!j&&t.jsxs("div",{className:"auth-toggle",children:[t.jsxs("p",{children:[e?"Don't have an account?":"Already have an account?",t.jsx("button",{type:"button",onClick:L,className:"toggle-btn",children:e?"Sign Up":"Login"})]}),e&&t.jsx("p",{children:t.jsx("button",{type:"button",onClick:()=>v(!0),className:"forgot-password-btn",children:"Forgot password?"})})]}),!j&&t.jsxs("div",{className:"social-login",children:[t.jsx("div",{className:"social-divider",children:t.jsx("span",{children:"Or continue with"})}),t.jsxs("div",{className:"social-buttons",children:[t.jsxs("button",{type:"button",className:"social-btn google",onClick:S,disabled:i,children:[t.jsx("span",{className:"social-icon",children:""}),t.jsx("span",{children:"Google"})]}),t.jsxs("button",{type:"button",className:"social-btn phone",disabled:!0,children:[t.jsx("span",{className:"social-icon",children:""}),t.jsx("span",{children:"Phone OTP"})]})]})]}),!e&&!j&&t.jsx("div",{className:"auth-terms",children:t.jsxs("p",{children:["By creating an account, you agree to our",t.jsx(he,{to:"/terms",className:"terms-link",children:"Terms of Service"})," and ",t.jsx(he,{to:"/privacy",className:"terms-link",children:"Privacy Policy"})]})})]})})]})})}function Q8(){return t.jsxs("div",{className:"card",style:{marginTop:12},children:[t.jsx("div",{className:"card-title",children:"About Smart ServiceHub"}),t.jsx("div",{className:"card-sub",children:"Connecting you with trusted local professionals."}),t.jsx("p",{children:"Smart ServiceHub is a marketplace to discover, compare, and book reliable service providers near you. From plumbing and electrical to deep cleaning and tutoring, our curated providers deliver quality with transparent pricing."})]})}function Y8(){return t.jsxs("div",{className:"card",style:{marginTop:12},children:[t.jsx("div",{className:"card-title",children:"Contact"}),t.jsx("div",{className:"card-sub",children:"Wed love to help you."}),t.jsx("p",{children:"Email: support@smarthub.local"}),t.jsx("p",{children:"Phone: +91-99999-00000"}),t.jsx("p",{children:"Hours: 9:00 AM  9:00 PM (IST)"})]})}function J8(){return t.jsxs("div",{className:"card",style:{marginTop:12},children:[t.jsx("div",{className:"card-title",children:"Terms & Conditions"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Bookings may be rescheduled based on provider availability."}),t.jsx("li",{children:"Payments are processed securely; COD is subject to service/location."}),t.jsx("li",{children:"Cancellations/refunds follow provider-specific policies."}),t.jsx("li",{children:"Abuse or fraudulent activity will lead to account suspension."})]})]})}function X8(){return t.jsxs("div",{className:"card",style:{marginTop:12},children:[t.jsx("div",{className:"card-title",children:"Privacy Policy"}),t.jsx("div",{className:"card-sub",children:"Your data, protected."}),t.jsx("p",{children:"We only collect information necessary to deliver services and improve your experience. We do not sell your data. Access is restricted and logs are monitored."})]})}const Ds={uid:"demo-user-123",email:"superman.verma@example.com",displayName:"Superman Verma",phone:"+91-9876543210",address:"123, Bhanwar Singh Street, Civil Lines, Jaipur - 302001",bio:"Professional service provider with 5+ years of experience in home services and maintenance.",website:"https://supermanverma.services",social:{linkedin:"https://linkedin.com/in/supermanverma",twitter:"https://twitter.com/supermanverma",instagram:"https://instagram.com/supermanverma",facebook:"https://facebook.com/supermanverma"},verification:{email:!0,phone:!0,identity:!1,address:!1},stats:{totalBookings:156,completedBookings:142,totalSpent:28450,averageRating:4.8,responseRate:98,responseTime:"2 hours",memberSince:"January 2022"},achievements:[{id:"1",title:"Super Provider",description:"Completed 100+ bookings with 4.5+ rating",icon:"",earnedAt:"March 2023"},{id:"2",title:"Quick Responder",description:"Maintained 95%+ response rate for 6 months",icon:"",earnedAt:"February 2023"},{id:"3",title:"Customer Favorite",description:"Received 50+ 5-star reviews",icon:"",earnedAt:"January 2023"}],skills:["Plumbing","Electrical Work","AC Repair","Home Cleaning","Carpentry"],languages:["English","Hindi","Punjabi"],preferences:{emailUpdates:!0,notifications:!0,darkMode:!1,language:"en"}};function Z8(){var gt,ge,J,Ee,$e,vt,xt,At,K,O,se,ce,ke,tt,yt,ht,V,ee,de,We,jt,B,z,ye,pe,it,ie,st,Rt,_e,rt,Ue;const s=Ct(),{user:e,updateUser:n,loading:i}=vi(),[r,a]=f.useState(Ds),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[h,m]=f.useState("default"),[p,g]=f.useState(null),[x,j]=f.useState(!1),[v,b]=f.useState("overview"),[N,C]=f.useState(""),[I,D]=f.useState(Ds.skills),[$,E]=f.useState(Ds.languages),[k,_]=f.useState(""),[T,S]=f.useState({monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1}),[F,L]=f.useState(Ds.preferences),[oe,A]=f.useState({displayName:r.displayName||"",phone:r.phone||"",address:r.address||"",bio:r.bio||"",website:r.website||"",linkedin:((gt=r.social)==null?void 0:gt.linkedin)||"",twitter:((ge=r.social)==null?void 0:ge.twitter)||"",instagram:((J=r.social)==null?void 0:J.instagram)||"",facebook:((Ee=r.social)==null?void 0:Ee.facebook)||""}),Z=f.useRef(null);f.useEffect(()=>{var ne,je,Be,ae;e&&(a({...Ds,uid:e.uid,email:e.email||Ds.email,displayName:e.displayName||Ds.displayName,photoURL:e.photoURL}),A({displayName:e.displayName||Ds.displayName||"",phone:Ds.phone||"",address:Ds.address||"",bio:Ds.bio||"",website:Ds.website||"",linkedin:((ne=Ds.social)==null?void 0:ne.linkedin)||"",twitter:((je=Ds.social)==null?void 0:je.twitter)||"",instagram:((Be=Ds.social)==null?void 0:Be.instagram)||"",facebook:((ae=Ds.social)==null?void 0:ae.facebook)||""}))},[e]);const Q=f.useCallback(async ne=>{var Be;const je=(Be=ne.target.files)==null?void 0:Be[0];if(je){if(console.log("File selected:",je.name,je.type,je.size),!je.type.startsWith("image/")){console.log("Please select an image file");return}if(je.size>5*1024*1024){console.log("Image size should be less than 5MB");return}j(!0);try{const ae=new FileReader;ae.onload=ue=>{var Xs;const Qe=(Xs=ue.target)==null?void 0:Xs.result;if(console.log("Image loaded, URL length:",Qe.length),g(Qe),r){const xi={...r,photoURL:Qe};console.log("Updating user with new photoURL"),a(xi),n({photoURL:Qe}),setTimeout(()=>{console.log("User photoURL after update:",xi.photoURL?"Set":"Not set")},100)}},ae.readAsDataURL(je),await new Promise(ue=>setTimeout(ue,1500)),d(!1),g(null),console.log("Profile photo updated successfully!")}catch(ae){console.error("Upload failed:",ae)}finally{j(!1)}}},[r]),q=()=>{console.log("Avatar clicked, current photoURL:",r!=null&&r.photoURL?"Set":"Not set"),d(!0)},P=ne=>{var je;if(console.log("Avatar type selected:",ne),m(ne),ne==="upload")(je=Z.current)==null||je.click();else if(ne==="default"){if(r){const Be={...r,photoURL:null};console.log("Setting default avatar"),a(Be),n({photoURL:null})}d(!1),m("default")}},G=ne=>{if(console.log("Gravatar selected:",ne),r){const je={...r,photoURL:ne};a(je),n({photoURL:ne})}d(!1),m("gravatar"),console.log("Gravatar avatar updated successfully!")},U=()=>{var ne,je,Be,ae,ue,Qe,Xs,xi,Ha,R,H,be,Pe,He,Yt;return r?`
RESUME - ${r.displayName}

=====================================
CONTACT INFORMATION
=====================================
Name: ${r.displayName}
Email: ${r.email}
Phone: ${r.phone||"Not provided"}
Address: ${r.address||"Not provided"}
Website: ${r.website||"Not provided"}

=====================================
PROFESSIONAL SUMMARY
=====================================
${r.bio||"No bio provided"}

=====================================
SKILLS & EXPERTISE
=====================================
${I.join(", ")}

=====================================
LANGUAGES
=====================================
${$.join(", ")}

=====================================
STATISTICS
=====================================
Total Bookings: ${((ne=r.stats)==null?void 0:ne.totalBookings)||0}
Completed Bookings: ${((je=r.stats)==null?void 0:je.completedBookings)||0}
Average Rating: ${((Be=r.stats)==null?void 0:Be.averageRating)||0}/5.0
Response Rate: ${((ae=r.stats)==null?void 0:ae.responseRate)||0}%
Response Time: ${((ue=r.stats)==null?void 0:ue.responseTime)||"N/A"}

=====================================
VERIFICATION STATUS
=====================================
Email: ${(Qe=r.verification)!=null&&Qe.email?" Verified":" Not Verified"}
Phone: ${(Xs=r.verification)!=null&&Xs.phone?" Verified":" Not Verified"}
Identity: ${(xi=r.verification)!=null&&xi.identity?" Verified":" Not Verified"}
Address: ${(Ha=r.verification)!=null&&Ha.address?" Verified":" Not Verified"}

=====================================
ACHIEVEMENTS
=====================================
${((R=r.achievements)==null?void 0:R.map(Ws=>` ${Ws.title}: ${Ws.description}`).join(`
`))||"No achievements yet"}

=====================================
SOCIAL PROFILES
=====================================
LinkedIn: ${((H=r.social)==null?void 0:H.linkedin)||"Not provided"}
Twitter: ${((be=r.social)==null?void 0:be.twitter)||"Not provided"}
Instagram: ${((Pe=r.social)==null?void 0:Pe.instagram)||"Not provided"}
Facebook: ${((He=r.social)==null?void 0:He.facebook)||"Not provided"}

=====================================
MEMBER SINCE
=====================================
${((Yt=r.stats)==null?void 0:Yt.memberSince)||"N/A"}

Generated on: ${new Date().toLocaleDateString()}
    `.trim():""},re=ne=>{const je=new Blob([ne],{type:"text/plain"}),Be=window.URL.createObjectURL(je),ae=document.createElement("a");ae.href=Be,ae.download=`${(r==null?void 0:r.displayName)||"profile"}_resume.txt`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),window.URL.revokeObjectURL(Be)},W=(ne="identicon")=>{if(!(r!=null&&r.email))return"";const je=r.email.toLowerCase().trim();return`https://www.gravatar.com/avatar/${btoa(je).replace(/=/g,"").substring(0,32)}?s=200&d=${ne}`},xe=()=>{var Be,ae;if(!r)return 0;let ne=0;return[{field:r.displayName,weight:15},{field:r.email,weight:10},{field:r.phone,weight:10},{field:r.address,weight:10},{field:r.bio,weight:15},{field:r.website,weight:5},{field:I.length>0,weight:10},{field:$.length>0,weight:5},{field:(Be=r.verification)==null?void 0:Be.email,weight:5},{field:(ae=r.verification)==null?void 0:ae.phone,weight:5},{field:r.photoURL,weight:10}].forEach(ue=>{ue.field&&(ne+=ue.weight)}),Math.min(ne,100)},Ce=()=>{const ne=xe();return ne>=90?"Excellent! Your profile is complete.":ne>=70?"Good! Add a few more details to reach 100%":ne>=50?"Halfway there! Complete your profile for better visibility.":"Start building your profile to attract more clients."},Fe=()=>{var ne,je;return r?[{label:"Profile Photo",completed:!!r.photoURL},{label:"Display Name",completed:!!r.displayName},{label:"Email Verified",completed:!!((ne=r.verification)!=null&&ne.email)},{label:"Phone Number",completed:!!r.phone},{label:"Address",completed:!!r.address},{label:"Bio/About",completed:!!r.bio},{label:"Skills Added",completed:I.length>0},{label:"Languages Added",completed:$.length>0},{label:"Website",completed:!!r.website},{label:"Phone Verified",completed:!!((je=r.verification)!=null&&je.phone)}]:[]},Me=()=>{N.trim()&&!I.includes(N.trim())&&(D([...I,N.trim()]),C(""))},Ie=ne=>{D(I.filter(je=>je!==ne))},Ze=()=>{k.trim()&&!$.includes(k.trim())&&(E([...$,k.trim()]),_(""))},we=ne=>{E($.filter(je=>je!==ne))},Le=async()=>{if(!r)return;const ne={...r,displayName:oe.displayName,phone:oe.phone,address:oe.address,bio:oe.bio,website:oe.website,social:{linkedin:oe.linkedin,twitter:oe.twitter,instagram:oe.instagram,facebook:oe.facebook},skills:I,languages:$,availability:T};a(ne),n({displayName:ne.displayName,photoURL:ne.photoURL}),l(!1)},bt=async()=>{r&&a({...r,preferences:F})},wt=async()=>{await Fs.signOut(),s("/")},Et=[{id:"overview",label:"Overview",icon:""},{id:"bookings",label:"Bookings",icon:""},{id:"payments",label:"Payments",icon:""},{id:"reviews",label:"Reviews",icon:""},{id:"settings",label:"Settings",icon:""},{id:"security",label:"Security",icon:""}];return i?t.jsx("div",{className:"profile-advanced",children:t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner",children:""}),t.jsx("p",{children:"Loading profile..."})]})}):r?t.jsxs("div",{className:"profile-advanced",children:[t.jsxs("div",{className:"profile-container",children:[t.jsxs("div",{className:"profile-header",children:[t.jsx("div",{className:"profile-cover",children:t.jsx("div",{className:"cover-gradient"})}),t.jsxs("div",{className:"profile-header-content",children:[t.jsxs("div",{className:"profile-info-section",children:[t.jsxs("div",{className:"profile-title-section",children:[t.jsx("h1",{className:"profile-name-large",children:r.displayName}),t.jsx("p",{className:"profile-email",children:r.email}),t.jsxs("div",{className:"verification-badges",children:[(($e=r.verification)==null?void 0:$e.email)&&t.jsx("span",{className:"badge verified",children:" Email Verified"}),((vt=r.verification)==null?void 0:vt.phone)&&t.jsx("span",{className:"badge verified",children:" Phone Verified"}),((xt=r.verification)==null?void 0:xt.identity)&&t.jsx("span",{className:"badge verified",children:" ID Verified"})]})]}),t.jsxs("div",{className:"profile-stats-grid",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:((At=r.stats)==null?void 0:At.totalBookings)||0}),t.jsx("div",{className:"stat-label",children:"Total Bookings"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:((K=r.stats)==null?void 0:K.completedBookings)||0}),t.jsx("div",{className:"stat-label",children:"Completed"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsxs("div",{className:"stat-number",children:["",((O=r.stats)==null?void 0:O.totalSpent)||0]}),t.jsx("div",{className:"stat-label",children:"Total Spent"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:((se=r.stats)==null?void 0:se.averageRating)||0}),t.jsx("div",{className:"stat-label",children:"Avg Rating"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsxs("div",{className:"stat-number",children:[(ce=r.stats)==null?void 0:ce.responseRate,"%"]}),t.jsx("div",{className:"stat-label",children:"Response Rate"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:(ke=r.stats)==null?void 0:ke.responseTime}),t.jsx("div",{className:"stat-label",children:"Response Time"})]})]})]}),t.jsxs("div",{className:"profile-avatar-section",children:[t.jsxs("div",{className:"profile-avatar-large",onClick:q,children:[r.photoURL&&r.photoURL.startsWith("data:")?t.jsx("img",{src:r.photoURL,alt:r.displayName||"User"}):r.photoURL&&r.photoURL.startsWith("http")?t.jsx("img",{src:r.photoURL,alt:r.displayName||"User"}):t.jsx("span",{className:"avatar-fallback-large",children:((tt=r.displayName)==null?void 0:tt.charAt(0).toUpperCase())||"U"}),t.jsxs("div",{className:"avatar-overlay",children:[t.jsx("span",{className:"avatar-icon",children:""}),t.jsx("span",{className:"avatar-text",children:"Change Photo"})]})]}),!1]})]})]}),t.jsxs("div",{className:"profile-nav",children:[t.jsx("div",{className:"nav-tabs",children:Et.map(ne=>t.jsxs("button",{className:`nav-tab ${v===ne.id?"active":""}`,onClick:()=>b(ne.id),children:[t.jsx("span",{className:"tab-icon",children:ne.icon}),t.jsx("span",{className:"tab-label",children:ne.label}),t.jsx("div",{className:"tab-indicator"})]},ne.id))}),t.jsxs("div",{className:"nav-actions",children:[t.jsxs("button",{className:"btn-secondary",onClick:()=>{navigator.clipboard.writeText(window.location.href),console.log("Profile link copied to clipboard!")},children:[t.jsx("span",{className:"btn-icon",children:""}),"Share Profile"]}),t.jsxs("button",{className:"btn-primary",onClick:()=>{const ne=U();re(ne)},children:[t.jsx("span",{className:"btn-icon",children:""}),"Download Resume"]})]})]}),t.jsxs("div",{className:"profile-content",children:[v==="overview"&&t.jsx("div",{className:"tab-content",children:t.jsxs("div",{className:"content-full-width",children:[t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{children:"About Me"}),t.jsx("button",{className:"btn-edit",onClick:()=>l(!o),children:o?"Cancel":"Edit"})]}),t.jsx("div",{className:"card-content",children:o?t.jsxs("div",{className:"edit-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Display Name"}),t.jsx("input",{type:"text",value:oe.displayName,onChange:ne=>A({...oe,displayName:ne.target.value}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number"}),t.jsx("input",{type:"tel",value:oe.phone,onChange:ne=>A({...oe,phone:ne.target.value}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Address"}),t.jsx("textarea",{value:oe.address,onChange:ne=>A({...oe,address:ne.target.value}),className:"form-input",rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bio"}),t.jsx("textarea",{value:oe.bio,onChange:ne=>A({...oe,bio:ne.target.value}),className:"form-input",rows:4})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Website"}),t.jsx("input",{type:"url",value:oe.website,onChange:ne=>A({...oe,website:ne.target.value}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"LinkedIn"}),t.jsx("input",{type:"url",value:oe.linkedin||"",onChange:ne=>A({...oe,linkedin:ne.target.value}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Twitter"}),t.jsx("input",{type:"url",value:oe.twitter||"",onChange:ne=>A({...oe,twitter:ne.target.value}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Instagram"}),t.jsx("input",{type:"url",value:oe.instagram||"",onChange:ne=>A({...oe,instagram:ne.target.value}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Facebook"}),t.jsx("input",{type:"url",value:oe.facebook||"",onChange:ne=>A({...oe,facebook:ne.target.value}),className:"form-input"})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{onClick:Le,className:"btn-primary",children:"Save Changes"}),t.jsx("button",{onClick:()=>l(!1),className:"btn-secondary",children:"Cancel"})]})]}):t.jsxs("div",{className:"profile-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Phone:"}),t.jsx("span",{className:"detail-value",children:r.phone||"Not provided"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Address:"}),t.jsx("span",{className:"detail-value",children:r.address||"Not provided"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Bio:"}),t.jsx("span",{className:"detail-value",children:r.bio||"No bio provided"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Website:"}),t.jsx("span",{className:"detail-value",children:r.website||"Not provided"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Member Since:"}),t.jsx("span",{className:"detail-value",children:((yt=r.stats)==null?void 0:yt.memberSince)||"N/A"})]}),(((ht=r.social)==null?void 0:ht.linkedin)||((V=r.social)==null?void 0:V.twitter)||((ee=r.social)==null?void 0:ee.instagram)||((de=r.social)==null?void 0:de.facebook))&&t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Social:"}),t.jsxs("div",{className:"social-links",children:[((We=r.social)==null?void 0:We.linkedin)&&t.jsx("a",{href:r.social.linkedin,target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"LinkedIn"}),((jt=r.social)==null?void 0:jt.twitter)&&t.jsx("a",{href:r.social.twitter,target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"Twitter"}),((B=r.social)==null?void 0:B.instagram)&&t.jsx("a",{href:r.social.instagram,target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"Instagram"}),((z=r.social)==null?void 0:z.facebook)&&t.jsx("a",{href:r.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"social-link",children:"Facebook"})]})]})]})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsx("h2",{children:"Recent Activity"})}),t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"activity-list",children:[t.jsxs("div",{className:"activity-item",children:[t.jsx("div",{className:"activity-icon",children:""}),t.jsxs("div",{className:"activity-content",children:[t.jsx("div",{className:"activity-title",children:"Booking Completed"}),t.jsx("div",{className:"activity-description",children:"AC Repair Service with John Doe"}),t.jsx("div",{className:"activity-time",children:"2 hours ago"})]})]}),t.jsxs("div",{className:"activity-item",children:[t.jsx("div",{className:"activity-icon",children:""}),t.jsxs("div",{className:"activity-content",children:[t.jsx("div",{className:"activity-title",children:"Review Received"}),t.jsx("div",{className:"activity-description",children:"5 stars from Sarah Johnson"}),t.jsx("div",{className:"activity-time",children:"1 day ago"})]})]}),t.jsxs("div",{className:"activity-item",children:[t.jsx("div",{className:"activity-icon",children:""}),t.jsxs("div",{className:"activity-content",children:[t.jsx("div",{className:"activity-title",children:"Payment Processed"}),t.jsx("div",{className:"activity-description",children:"1,200 for Plumbing Service"}),t.jsx("div",{className:"activity-time",children:"3 days ago"})]})]})]})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsx("h2",{children:"Achievements"})}),t.jsx("div",{className:"card-content",children:t.jsx("div",{className:"achievements-grid",children:(ye=r.achievements)==null?void 0:ye.map(ne=>t.jsxs("div",{className:"achievement-card",children:[t.jsx("div",{className:"achievement-icon",children:ne.icon}),t.jsxs("div",{className:"achievement-info",children:[t.jsx("div",{className:"achievement-title",children:ne.title}),t.jsx("div",{className:"achievement-description",children:ne.description}),t.jsxs("div",{className:"achievement-date",children:["Earned ",ne.earnedAt]})]})]},ne.id))})})]}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{children:"Skills & Expertise"}),o&&t.jsx("button",{className:"btn-edit",children:"Add Skill"})]}),t.jsx("div",{className:"card-content",children:o?t.jsxs("div",{className:"skills-editor",children:[t.jsxs("div",{className:"skills-input-group",children:[t.jsx("input",{type:"text",value:N,onChange:ne=>C(ne.target.value),placeholder:"Add a new skill...",className:"form-input",onKeyPress:ne=>ne.key==="Enter"&&Me()}),t.jsx("button",{onClick:Me,className:"btn-primary",children:"Add"})]}),t.jsx("div",{className:"skills-list",children:I.map((ne,je)=>t.jsxs("div",{className:"skill-tag",children:[t.jsx("span",{children:ne}),t.jsx("button",{onClick:()=>Ie(ne),className:"skill-remove",children:""})]},je))})]}):t.jsx("div",{className:"skills-display",children:I.map((ne,je)=>t.jsx("span",{className:"skill-badge",children:ne},je))})})]}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{children:"Languages"}),o&&t.jsx("button",{className:"btn-edit",children:"Add Language"})]}),t.jsx("div",{className:"card-content",children:o?t.jsxs("div",{className:"languages-editor",children:[t.jsxs("div",{className:"languages-input-group",children:[t.jsx("input",{type:"text",value:k,onChange:ne=>_(ne.target.value),placeholder:"Add a new language...",className:"form-input",onKeyPress:ne=>ne.key==="Enter"&&Ze()}),t.jsx("button",{onClick:Ze,className:"btn-primary",children:"Add"})]}),t.jsx("div",{className:"languages-list",children:$.map((ne,je)=>t.jsxs("div",{className:"language-tag",children:[t.jsx("span",{children:ne}),t.jsx("button",{onClick:()=>we(ne),className:"language-remove",children:""})]},je))})]}):t.jsx("div",{className:"languages-display",children:$.map((ne,je)=>t.jsx("span",{className:"language-badge",children:ne},je))})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsx("h2",{children:"Profile Completion"})}),t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"completion-meter",children:[t.jsx("div",{className:"completion-circle",children:t.jsxs("svg",{viewBox:"0 0 36 36",className:"circular-chart",children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),t.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})}),t.jsx("path",{className:"circle-bg",d:`M18 2.0845\r
                            a 15.9155 15.9155 0 0 1 0 31.831\r
                            a 15.9155 15.9155 0 0 1 0 -31.831`}),t.jsx("path",{className:"circle",strokeDasharray:`${xe()}, 100`,d:`M18 2.0845\r
                            a 15.9155 15.9155 0 0 1 0 31.831\r
                            a 15.9155 15.9155 0 0 1 0 -31.831`}),t.jsxs("text",{x:"18",y:"20.35",className:"percentage",children:[xe(),"%"]})]})}),t.jsxs("div",{className:"completion-details",children:[t.jsx("h3",{children:"Profile Strength"}),t.jsx("p",{children:Ce()}),t.jsx("div",{className:"completion-items",children:Fe().map((ne,je)=>t.jsxs("div",{className:`completion-item ${ne.completed?"completed":"pending"}`,children:[t.jsx("span",{className:"item-icon",children:ne.completed?"":""}),t.jsx("span",{className:"item-text",children:ne.label})]},je))})]})]})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsx("h2",{children:"Verification Status"})}),t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"verification-list",children:[t.jsxs("div",{className:`verification-item ${(pe=r.verification)!=null&&pe.email?"verified":"pending"}`,children:[t.jsx("span",{className:"verification-icon",children:""}),t.jsxs("div",{className:"verification-info",children:[t.jsx("div",{className:"verification-title",children:"Email Verification"}),t.jsx("div",{className:"verification-status",children:(it=r.verification)!=null&&it.email?"Verified":"Not Verified"})]})]}),t.jsxs("div",{className:`verification-item ${(ie=r.verification)!=null&&ie.phone?"verified":"pending"}`,children:[t.jsx("span",{className:"verification-icon",children:""}),t.jsxs("div",{className:"verification-info",children:[t.jsx("div",{className:"verification-title",children:"Phone Verification"}),t.jsx("div",{className:"verification-status",children:(st=r.verification)!=null&&st.phone?"Verified":"Not Verified"})]})]}),t.jsxs("div",{className:`verification-item ${(Rt=r.verification)!=null&&Rt.identity?"verified":"pending"}`,children:[t.jsx("span",{className:"verification-icon",children:"!"}),t.jsxs("div",{className:"verification-info",children:[t.jsx("div",{className:"verification-title",children:"Identity Verification"}),t.jsx("div",{className:"verification-status",children:(_e=r.verification)!=null&&_e.identity?"Verified":"Not Verified"})]})]}),t.jsxs("div",{className:`verification-item ${(rt=r.verification)!=null&&rt.address?"verified":"pending"}`,children:[t.jsx("span",{className:"verification-icon",children:"!"}),t.jsxs("div",{className:"verification-info",children:[t.jsx("div",{className:"verification-title",children:"Address Verification"}),t.jsx("div",{className:"verification-status",children:(Ue=r.verification)!=null&&Ue.address?"Verified":"Not Verified"})]})]})]})})]})]})}),v==="settings"&&t.jsx("div",{className:"tab-content",children:t.jsx("div",{className:"content-grid",children:t.jsx("div",{className:"content-main",children:t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsx("h2",{children:"Preferences"})}),t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"preferences-form",children:[t.jsxs("div",{className:"preference-item",children:[t.jsxs("div",{className:"preference-info",children:[t.jsx("div",{className:"preference-title",children:"Email Notifications"}),t.jsx("div",{className:"preference-description",children:"Receive email updates about your bookings and account"})]}),t.jsxs("label",{className:"toggle-switch",children:[t.jsx("input",{type:"checkbox",checked:F.emailUpdates,onChange:ne=>L({...F,emailUpdates:ne.target.checked})}),t.jsx("span",{className:"toggle-slider"})]})]}),t.jsxs("div",{className:"preference-item",children:[t.jsxs("div",{className:"preference-info",children:[t.jsx("div",{className:"preference-title",children:"Push Notifications"}),t.jsx("div",{className:"preference-description",children:"Get push notifications on your device"})]}),t.jsxs("label",{className:"toggle-switch",children:[t.jsx("input",{type:"checkbox",checked:F.notifications,onChange:ne=>L({...F,notifications:ne.target.checked})}),t.jsx("span",{className:"toggle-slider"})]})]}),t.jsxs("div",{className:"preference-item",children:[t.jsxs("div",{className:"preference-info",children:[t.jsx("div",{className:"preference-title",children:"Dark Mode"}),t.jsx("div",{className:"preference-description",children:"Use dark theme across the application"})]}),t.jsxs("label",{className:"toggle-switch",children:[t.jsx("input",{type:"checkbox",checked:F.darkMode,onChange:ne=>L({...F,darkMode:ne.target.checked})}),t.jsx("span",{className:"toggle-slider"})]})]}),t.jsxs("div",{className:"preference-item",children:[t.jsxs("div",{className:"preference-info",children:[t.jsx("div",{className:"preference-title",children:"Language"}),t.jsx("div",{className:"preference-description",children:"Choose your preferred language"})]}),t.jsxs("select",{value:F.language,onChange:ne=>L({...F,language:ne.target.value}),className:"form-select",children:[t.jsx("option",{value:"en",children:"English"}),t.jsx("option",{value:"hi",children:""}),t.jsx("option",{value:"bn",children:""}),t.jsx("option",{value:"ta",children:""})]})]}),t.jsx("div",{className:"form-actions",children:t.jsx("button",{onClick:bt,className:"btn-primary",children:"Save Preferences"})})]})})]})})})}),v==="security"&&t.jsx("div",{className:"tab-content",children:t.jsx("div",{className:"content-grid",children:t.jsx("div",{className:"content-main",children:t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsx("h2",{children:"Security Settings"})}),t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"security-sections",children:[t.jsxs("div",{className:"security-section",children:[t.jsx("h3",{children:"Change Password"}),t.jsx("p",{children:"Update your password to keep your account secure"}),t.jsx("button",{className:"btn-secondary",children:"Change Password"})]}),t.jsxs("div",{className:"security-section",children:[t.jsx("h3",{children:"Two-Factor Authentication"}),t.jsx("p",{children:"Add an extra layer of security to your account"}),t.jsx("button",{className:"btn-secondary",children:"Enable 2FA"})]}),t.jsxs("div",{className:"security-section",children:[t.jsx("h3",{children:"Login Activity"}),t.jsx("p",{children:"View recent login attempts and device activity"}),t.jsx("button",{className:"btn-secondary",children:"View Activity"})]}),t.jsxs("div",{className:"security-section danger",children:[t.jsx("h3",{children:"Danger Zone"}),t.jsx("p",{children:"Irreversible actions for your account"}),t.jsx("button",{className:"btn-danger",onClick:wt,children:"Sign Out"})]})]})})]})})})}),["bookings","payments","reviews"].includes(v)&&t.jsx("div",{className:"tab-content",children:t.jsxs("div",{className:"coming-soon",children:[t.jsx("div",{className:"coming-soon-icon",children:""}),t.jsx("h2",{children:"Coming Soon"}),t.jsx("p",{children:"This section is under development"}),t.jsxs(he,{to:"/bookings",className:"btn-primary",children:["Go to ",v==="bookings"?"My Bookings":v==="payments"?"Payment Page":"Reviews"]})]})})]})]}),c&&t.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:t.jsxs("div",{className:"avatar-modal",onClick:ne=>ne.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:"Change Profile Photo"}),t.jsx("button",{className:"modal-close",onClick:()=>d(!1),children:""})]}),t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"avatar-options",children:[t.jsxs("button",{className:`avatar-option ${h==="upload"?"active":""}`,onClick:()=>P("upload"),children:[t.jsx("div",{className:"avatar-option-icon",children:""}),t.jsxs("div",{className:"avatar-option-info",children:[t.jsx("div",{className:"avatar-option-title",children:"Upload Photo"}),t.jsx("div",{className:"avatar-option-desc",children:"Choose from your device (JPG, PNG, GIF)"}),t.jsx("div",{className:"avatar-option-note",children:"Max size: 5MB"})]})]}),t.jsxs("button",{className:`avatar-option ${h==="gravatar"?"active":""}`,onClick:()=>P("gravatar"),children:[t.jsx("div",{className:"avatar-option-icon",children:""}),t.jsxs("div",{className:"avatar-option-info",children:[t.jsx("div",{className:"avatar-option-title",children:"Use Gravatar"}),t.jsx("div",{className:"avatar-option-desc",children:"Import from email address"}),t.jsx("div",{className:"avatar-option-note",children:"Multiple styles available"})]})]}),t.jsxs("button",{className:`avatar-option ${h==="default"?"active":""}`,onClick:()=>P("default"),children:[t.jsx("div",{className:"avatar-option-icon",children:""}),t.jsxs("div",{className:"avatar-option-info",children:[t.jsx("div",{className:"avatar-option-title",children:"Default Avatar"}),t.jsx("div",{className:"avatar-option-desc",children:"Use your initials"}),t.jsx("div",{className:"avatar-option-note",children:"Clean & professional"})]})]})]}),h==="gravatar"&&t.jsxs("div",{className:"gravatar-section",children:[t.jsxs("div",{className:"gravatar-header",children:[t.jsx("h4",{children:"Choose Gravatar Style"}),t.jsx("p",{children:"Select your preferred avatar style"})]}),t.jsxs("div",{className:"gravatar-options-grid",children:[t.jsxs("div",{className:"gravatar-option",children:[t.jsx("img",{src:W("identicon"),alt:"Identicon",onClick:()=>G(W("identicon"))}),t.jsx("span",{children:"Identicon"})]}),t.jsxs("div",{className:"gravatar-option",children:[t.jsx("img",{src:W("monsterid"),alt:"Monster ID",onClick:()=>G(W("monsterid"))}),t.jsx("span",{children:"Monster"})]}),t.jsxs("div",{className:"gravatar-option",children:[t.jsx("img",{src:W("retro"),alt:"Retro",onClick:()=>G(W("retro"))}),t.jsx("span",{children:"Retro"})]}),t.jsxs("div",{className:"gravatar-option",children:[t.jsx("img",{src:W("robohash"),alt:"Robohash",onClick:()=>G(W("robohash"))}),t.jsx("span",{children:"Robot"})]})]})]}),h==="upload"&&t.jsxs("div",{className:"upload-section",children:[t.jsx("div",{className:"upload-preview",children:p?t.jsx("img",{src:p,alt:"Preview"}):t.jsxs("div",{className:"upload-placeholder",children:[t.jsx("span",{className:"upload-icon",children:""}),t.jsx("span",{children:"No image selected"})]})}),t.jsxs("div",{className:"upload-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:()=>{var ne;return(ne=Z.current)==null?void 0:ne.click()},children:"Choose Image"}),p&&t.jsx("button",{className:"btn-primary",onClick:()=>{r&&p&&(a({...r,photoURL:p}),d(!1),g(null),n({photoURL:p}),console.log("Profile photo updated successfully!"))},children:"Confirm Upload"})]})]}),x&&t.jsxs("div",{className:"upload-progress",children:[t.jsx("div",{className:"loading-spinner",children:""}),t.jsx("p",{children:"Uploading image..."}),t.jsx("div",{className:"progress-bar",children:t.jsx("div",{className:"progress-fill"})})]}),t.jsxs("div",{className:"avatar-tips",children:[t.jsx("h4",{children:"Tips for best results:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Use a square image for best fit"}),t.jsx("li",{children:"High resolution images look better"}),t.jsx("li",{children:"Clear photos of your face work best"}),t.jsx("li",{children:"Professional headshots recommended"})]})]})]})]})}),t.jsx("input",{ref:Z,type:"file",accept:"image/*",onChange:Q,style:{display:"none"}})]}):t.jsx("div",{className:"profile-advanced",children:t.jsxs("div",{className:"error-container",children:[t.jsx("div",{className:"error-icon",children:""}),t.jsx("h2",{children:"Profile Not Found"}),t.jsx("p",{children:"Please sign in to view your profile"}),t.jsx(he,{to:"/login",className:"btn-primary",children:"Sign In"})]})})}function e$(){const[s,e]=f.useState(null),[n,i]=f.useState([]),[r,a]=f.useState(!0),[o,l]=f.useState("all"),[c,d]=f.useState("");f.useEffect(()=>{const g=Fs.onAuthStateChanged(x=>{x&&(e(x),i([{id:"b1",service:"AC Repair Service",provider:"John Doe",date:"2024-11-25",time:"14:00",status:"confirmed",amount:1200,address:"123 Main St, Delhi",category:"AC Repair"},{id:"b2",service:"Home Cleaning",provider:"Jane Smith",date:"2024-11-20",time:"10:00",status:"completed",amount:800,rating:5,review:"Excellent service, very professional!",address:"123 Main St, Delhi",category:"Cleaning"},{id:"b3",service:"Plumbing Service",provider:"Mike Johnson",date:"2024-11-15",time:"16:00",status:"completed",amount:1500,rating:4,review:"Good work, fixed the issue quickly.",address:"123 Main St, Delhi",category:"Plumbing"},{id:"b4",service:"Electrical Work",provider:"Sarah Wilson",date:"2024-11-10",time:"11:00",status:"cancelled",amount:0,address:"123 Main St, Delhi",category:"Electrician"},{id:"b5",service:"Car Repair",provider:"Tom Brown",date:"2024-11-30",time:"09:00",status:"pending",amount:2e3,address:"123 Main St, Delhi",category:"Mechanic"}])),a(!1)});return()=>g()},[]);const h=n.filter(g=>{const x=o==="all"||o==="upcoming"&&["pending","confirmed"].includes(g.status)||o==="completed"&&g.status==="completed"||o==="cancelled"&&g.status==="cancelled",j=g.service.toLowerCase().includes(c.toLowerCase())||g.provider.toLowerCase().includes(c.toLowerCase())||g.category.toLowerCase().includes(c.toLowerCase());return x&&j}),m=g=>{switch(g){case"confirmed":return"#10b981";case"completed":return"#3b82f6";case"in-progress":return"#f59e0b";case"cancelled":return"#ef4444";default:return"#64748b"}},p=g=>{switch(g){case"confirmed":return"";case"completed":return"";case"in-progress":return"";case"cancelled":return"";default:return""}};return r?t.jsx("div",{className:"profile-bookings",children:t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner",children:""}),t.jsx("p",{children:"Loading bookings..."})]})}):t.jsx("div",{className:"profile-bookings",children:t.jsxs("div",{className:"page-container",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{children:"My Bookings"}),t.jsx("p",{children:"Manage and track all your service bookings"})]}),t.jsxs("div",{className:"bookings-controls",children:[t.jsxs("div",{className:"filters",children:[t.jsx("button",{className:`filter-btn ${o==="all"?"active":""}`,onClick:()=>l("all"),children:"All Bookings"}),t.jsx("button",{className:`filter-btn ${o==="upcoming"?"active":""}`,onClick:()=>l("upcoming"),children:"Upcoming"}),t.jsx("button",{className:`filter-btn ${o==="completed"?"active":""}`,onClick:()=>l("completed"),children:"Completed"}),t.jsx("button",{className:`filter-btn ${o==="cancelled"?"active":""}`,onClick:()=>l("cancelled"),children:"Cancelled"})]}),t.jsxs("div",{className:"search-bar",children:[t.jsx("input",{type:"text",placeholder:"Search bookings...",value:c,onChange:g=>d(g.target.value),className:"search-input"}),t.jsx("span",{className:"search-icon",children:""})]})]}),t.jsxs("div",{className:"bookings-stats",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:n.filter(g=>["pending","confirmed","in-progress"].includes(g.status)).length}),t.jsx("div",{className:"stat-label",children:"Active Bookings"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:n.filter(g=>g.status==="completed").length}),t.jsx("div",{className:"stat-label",children:"Completed"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsxs("div",{className:"stat-number",children:["",n.filter(g=>g.status==="completed").reduce((g,x)=>g+x.amount,0)]}),t.jsx("div",{className:"stat-label",children:"Total Spent"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:n.filter(g=>g.rating).reduce((g,x)=>g+(x.rating||0),0)/n.filter(g=>g.rating).length||0}),t.jsx("div",{className:"stat-label",children:"Avg Rating"})]})]}),t.jsx("div",{className:"bookings-list",children:h.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:"No bookings found"}),t.jsx("p",{children:c?"Try adjusting your search terms":o==="all"?"You haven't made any bookings yet":`No ${o} bookings found`}),o==="all"&&!c&&t.jsx(he,{to:"/search",className:"btn-primary",children:"Book a Service"})]}):h.map(g=>t.jsxs("div",{className:"booking-card",children:[t.jsxs("div",{className:"booking-header",children:[t.jsxs("div",{className:"booking-info",children:[t.jsx("h3",{className:"booking-service",children:g.service}),t.jsx("p",{className:"booking-provider",children:g.provider})]}),t.jsx("div",{className:"booking-status",children:t.jsxs("span",{className:"status-badge",style:{backgroundColor:m(g.status)},children:[t.jsx("span",{className:"status-icon",children:p(g.status)}),g.status.charAt(0).toUpperCase()+g.status.slice(1).replace("-"," ")]})})]}),t.jsxs("div",{className:"booking-details",children:[t.jsxs("div",{className:"detail-group",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("span",{className:"detail-text",children:[g.date," at ",g.time]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{className:"detail-text",children:g.address})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{className:"detail-text",children:g.category})]})]}),t.jsxs("div",{className:"booking-actions",children:[t.jsxs("div",{className:"booking-amount",children:["",g.amount]}),t.jsxs("div",{className:"action-buttons",children:[g.status==="confirmed"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn-secondary",children:"Reschedule"}),t.jsx("button",{className:"btn-danger",children:"Cancel"})]}),g.status==="completed"&&!g.rating&&t.jsx("button",{className:"btn-primary",children:"Leave Review"}),g.status==="completed"&&g.rating&&t.jsxs("div",{className:"rating-display",children:[t.jsxs("span",{className:"rating-stars",children:["",g.rating]}),t.jsx("span",{className:"rating-text",children:"Reviewed"})]}),g.status==="pending"&&t.jsx("button",{className:"btn-primary",children:"Confirm Booking"})]})]})]}),g.review&&t.jsxs("div",{className:"booking-review",children:[t.jsxs("div",{className:"review-header",children:[t.jsxs("span",{className:"review-rating",children:["",g.rating]}),t.jsx("span",{className:"review-title",children:"Your Review"})]}),t.jsx("p",{className:"review-text",children:g.review})]})]},g.id))})]})})}function t$(){Ct();const{user:s}=vi(),[e,n]=f.useState([]),[i,r]=f.useState(!0),[a,o]=f.useState(""),[l,c]=f.useState(null),[d,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[j,v]=f.useState(!1),[b,N]=f.useState(!1),[C,I]=f.useState(!1),[D,$]=f.useState(!1),[E,k]=f.useState(!1),[_,T]=f.useState(new Set),[S,F]=f.useState({status:"all",dateRange:"all",category:"all",paymentStatus:"all",priceRange:[0,5e4],rating:0,hasReview:!1,isRecurring:!1,isEmergency:!1,hasDiscount:!1,provider:"all",sortBy:"date",sortOrder:"desc",viewMode:"grid"}),[L,oe]=f.useState("pdf"),[A,Z]=f.useState({rating:0,review:""}),[Q,q]=f.useState(""),[P,G]=f.useState(""),[U,re]=f.useState(""),W={pending:{label:"Pending Confirmation",color:"#f59e0b",icon:"",description:"Awaiting provider confirmation"},confirmed:{label:"Confirmed",color:"#10b981",icon:"",description:"Booking confirmed"},in_progress:{label:"In Progress",color:"#3b82f6",icon:"",description:"Service in progress"},completed:{label:"Completed",color:"#059669",icon:"",description:"Service completed successfully"},cancelled:{label:"Cancelled",color:"#ef4444",icon:"",description:"Booking cancelled"},rescheduled:{label:"Rescheduled",color:"#f97316",icon:"",description:"Booking rescheduled"},no_show:{label:"No Show",color:"#6b7280",icon:"",description:"Provider didn't show up"}},xe={low:{label:"Low",color:"#10b981",icon:""},medium:{label:"Medium",color:"#f59e0b",icon:""},high:{label:"High",color:"#f97316",icon:""},emergency:{label:"Emergency",color:"#ef4444",icon:""}};f.useEffect(()=>{s&&(async()=>{r(!0);const se=[{id:"BK001",serviceId:"svc001",serviceName:"Complete Home Deep Cleaning",providerName:"Sparkle Clean Pro",providerId:"prov001",providerPhoto:"https://picsum.photos/100/100?random=1",providerRating:4.8,providerPhone:"+91-9876543210",status:"confirmed",amount:2499,originalAmount:2999,discountApplied:500,couponUsed:"CLEAN500",datetime:"2024-11-25T10:00:00",duration:240,address:"123, Palm Greens, Sector 15, Gurgaon - 122001",addressType:"home",description:"Complete deep cleaning of 3BHK apartment including kitchen deep clean, bathroom sanitization, and carpet cleaning",specialInstructions:"Please focus on kitchen grease removal and bathroom sanitization",paymentStatus:"paid",paymentMethod:"Credit Card",transactionId:"TXN123456789",invoiceUrl:"#",receiptUrl:"#",urgencyLevel:"medium",category:"cleaning",subcategory:"deep cleaning",tags:["deep-clean","kitchen","bathroom","carpet"],recurringService:!0,recurringFrequency:"monthly",nextServiceDate:"2024-12-25T10:00:00",loyaltyPointsEarned:125,createdAt:"2024-11-20T08:30:00",updatedAt:"2024-11-20T09:15:00",professionalName:"Rajesh Kumar",professionalPhone:"+91-9876543210",professionalPhoto:"https://picsum.photos/100/100?random=2",serviceCategory:"cleaning",warrantyPeriod:7,followUpRequired:!1,customerSatisfaction:0,accessInstructions:"Ring doorbell, security guard will assist",parkingInfo:"Visitor parking available",petInfo:"No pets",materialsUsed:[]},{id:"BK002",serviceId:"svc002",serviceName:"Emergency AC Repair",providerName:"CoolAir Experts",providerId:"prov002",providerPhoto:"https://picsum.photos/100/100?random=3",providerRating:4.9,providerPhone:"+91-9876543211",status:"in_progress",amount:1899,datetime:"2024-11-22T14:30:00",duration:120,actualDuration:90,address:"456, Tower A, DLF Cyber City, Gurgaon - 122002",addressType:"office",description:"AC not cooling properly, gas leak suspected, urgent repair needed for split AC (1.5 ton)",specialInstructions:"Customer mentioned water leakage from indoor unit",paymentStatus:"pending",trackingId:"TRK123456789",estimatedArrival:"2024-11-22T14:45:00",actualArrival:"2024-11-22T14:50:00",urgencyLevel:"emergency",category:"ac",subcategory:"repair",tags:["emergency","gas-leak","split-ac"],loyaltyPointsEarned:95,supportTicketId:"SUP-789456",createdAt:"2024-11-22T13:00:00",updatedAt:"2024-11-22T14:50:00",professionalName:"Amit Sharma",professionalPhone:"+91-9876543211",professionalPhoto:"https://picsum.photos/100/100?random=4",serviceCategory:"ac",followUpRequired:!0,followUpDate:"2024-11-23T10:00:00",emergencyContact:"+91-9876543212",accessInstructions:"Reception desk has key",buildingInstructions:"Take elevator to 12th floor, office 1205",materialsUsed:["Copper pipe","Gas","Filter"]},{id:"BK003",serviceId:"svc003",serviceName:"Bathroom Plumbing Repair",providerName:"QuickFix Pro",providerId:"prov003",providerPhoto:"https://picsum.photos/100/100?random=5",providerRating:4.6,providerPhone:"+91-9876543212",status:"completed",amount:1599,datetime:"2024-11-15T09:00:00",duration:90,actualDuration:75,address:"789, Green Park, New Delhi - 110016",addressType:"home",description:"Fix leaking tap and unclog bathroom drain, replace worn-out washers",paymentStatus:"paid",paymentMethod:"UPI",transactionId:"TXN987654321",invoiceUrl:"#",receiptUrl:"#",rating:5,review:"Excellent service! Professional work, arrived on time, and fixed the issue permanently. Highly recommended!",reviewDate:"2024-11-15T11:30:00",urgencyLevel:"high",category:"plumbing",subcategory:"repair",tags:["leak","drain","tap-repair"],completionPhotos:["https://picsum.photos/300/200?random=100","https://picsum.photos/300/200?random=101"],beforePhotos:["https://picsum.photos/300/200?random=102"],loyaltyPointsEarned:80,createdAt:"2024-11-14T16:30:00",updatedAt:"2024-11-15T10:45:00",completedAt:"2024-11-15T10:15:00",professionalName:"Sanjay Kumar",professionalPhone:"+91-9876543212",professionalPhoto:"https://picsum.photos/100/100?random=6",serviceCategory:"plumbing",warrantyPeriod:30,followUpRequired:!1,customerSatisfaction:5,workReport:"Replaced worn-out washers, fixed tap mechanism, cleared drain blockage",materialsUsed:["Washers","Sealant","Drain cleaner"],gateCode:"1234#"},{id:"BK004",serviceId:"svc004",serviceName:"Electrical Safety Inspection",providerName:"ElectroSafe Solutions",providerId:"prov004",providerPhoto:"https://picsum.photos/100/100?random=7",providerRating:4.7,providerPhone:"+91-9876543213",status:"rescheduled",amount:999,datetime:"2024-11-16T16:00:00",duration:120,address:"321, Sushant Lok Phase 1, Gurgaon - 122002",addressType:"home",description:"Complete electrical safety inspection for 2BHK apartment, wiring check, and MCB testing",specialInstructions:"Customer requested morning slot",paymentStatus:"pending",rescheduledAt:"2024-11-15T14:30:00",rescheduledTo:"2024-11-18T10:00:00",urgencyLevel:"low",category:"electrical",subcategory:"inspection",tags:["safety","inspection","wiring"],loyaltyPointsEarned:50,createdAt:"2024-11-14T11:20:00",updatedAt:"2024-11-15T14:30:00",professionalName:"Vikram Malhotra",professionalPhone:"+91-9876543213",professionalPhoto:"https://picsum.photos/100/100?random=8",serviceCategory:"electrical",warrantyPeriod:0,followUpRequired:!1,parkingInfo:"Street parking available"},{id:"BK005",serviceId:"svc005",serviceName:"Car Service & Oil Change",providerName:"AutoCare Garage",providerId:"prov005",providerPhoto:"https://picsum.photos/100/100?random=9",providerRating:4.5,providerPhone:"+91-9876543214",status:"cancelled",amount:3499,originalAmount:3499,datetime:"2024-11-10T11:00:00",duration:180,address:"654, NH-48, Near Toll Plaza, Gurgaon - 122001",addressType:"other",description:"Comprehensive car service including oil change, filter replacement, and general check-up for Honda City",paymentStatus:"refunded",refundAmount:3499,refundDate:"2024-11-11T10:30:00",cancellationReason:"Customer had emergency and couldn't make it",cancellationDate:"2024-11-10T09:15:00",urgencyLevel:"low",category:"mechanic",subcategory:"service",tags:["car-service","oil-change","general-checkup"],invoiceUrl:"#",receiptUrl:"#",loyaltyPointsEarned:0,createdAt:"2024-11-08T15:45:00",updatedAt:"2024-11-10T09:15:00",professionalName:"Rohit Gupta",professionalPhone:"+91-9876543214",professionalPhoto:"https://picsum.photos/100/100?random=10",serviceCategory:"mechanic",warrantyPeriod:90,followUpRequired:!1},{id:"BK006",serviceId:"svc006",serviceName:"Math Tutoring (Grade 10)",providerName:"LearnWell Academy",providerId:"prov006",providerPhoto:"https://picsum.photos/100/100?random=11",providerRating:4.9,providerPhone:"+91-9876543215",status:"confirmed",amount:1200,originalAmount:1500,discountApplied:300,couponUsed:"STUDENT300",datetime:"2024-11-23T15:00:00",duration:60,address:"Online Session",addressType:"other",description:"Mathematics tutoring for Grade 10 student - Algebra and Geometry",specialInstructions:"Focus on weak areas in algebra",paymentStatus:"paid",paymentMethod:"Net Banking",transactionId:"TXN555666777",urgencyLevel:"medium",category:"tutor",subcategory:"mathematics",tags:["math","algebra","geometry","grade10"],recurringService:!0,recurringFrequency:"weekly",nextServiceDate:"2024-11-30T15:00:00",loyaltyPointsEarned:60,createdAt:"2024-11-20T10:00:00",updatedAt:"2024-11-20T10:30:00",professionalName:"Priya Singh",professionalPhone:"+91-9876543215",professionalPhoto:"https://picsum.photos/100/100?random=12",serviceCategory:"tutor",warrantyPeriod:0,followUpRequired:!0,followUpDate:"2024-11-24T18:00:00",materialsUsed:["Study materials","Practice papers"]}];await new Promise(ce=>setTimeout(ce,1e3)),n(se),r(!1)})()},[s]);const Ce=f.useMemo(()=>{var Be,ae;const O=e.length,se=e.filter(ue=>ue.status==="pending").length,ce=e.filter(ue=>ue.status==="confirmed").length,ke=e.filter(ue=>ue.status==="in_progress").length,tt=e.filter(ue=>ue.status==="completed").length,yt=e.filter(ue=>ue.status==="cancelled").length,ht=e.filter(ue=>ue.status==="rescheduled").length,V=e.filter(ue=>ue.paymentStatus==="paid").reduce((ue,Qe)=>ue+Qe.amount,0),ee=e.filter(ue=>ue.discountApplied).reduce((ue,Qe)=>ue+(Qe.discountApplied||0),0),de=e.filter(ue=>ue.status==="completed"&&ue.rating),We=de.length>0?de.reduce((ue,Qe)=>ue+(Qe.rating||0),0)/de.length:0,jt=e.filter(ue=>["confirmed","pending"].includes(ue.status)&&new Date(ue.datetime)>new Date).length,B=e.filter(ue=>ue.urgencyLevel==="emergency").length,z=e.filter(ue=>ue.recurringService).length,ye=e.reduce((ue,Qe)=>ue+(Qe.loyaltyPointsEarned||0),0),pe=new Date;pe.setDate(1);const it=e.filter(ue=>new Date(ue.datetime)>=pe).length,ie=e.filter(ue=>ue.paymentStatus==="paid"&&new Date(ue.datetime)>=pe).reduce((ue,Qe)=>ue+Qe.amount,0),st=O>0?tt/(tt+yt)*100:0,Rt=e.filter(ue=>ue.status==="completed"&&ue.actualArrival&&ue.estimatedArrival&&new Date(ue.actualArrival)<=new Date(ue.estimatedArrival)).length,_e=tt>0?Rt/tt*100:0,rt=e.reduce((ue,Qe)=>(ue[Qe.providerName]=(ue[Qe.providerName]||0)+1,ue),{}),Ue=(Be=Object.entries(rt).sort(([,ue],[,Qe])=>Qe-ue)[0])==null?void 0:Be[0],ne=e.reduce((ue,Qe)=>(ue[Qe.serviceName]=(ue[Qe.serviceName]||0)+1,ue),{}),je=(ae=Object.entries(ne).sort(([,ue],[,Qe])=>Qe-ue)[0])==null?void 0:ae[0];return{total:O,pending:se,confirmed:ce,inProgress:ke,completed:tt,cancelled:yt,rescheduled:ht,totalSpent:V,totalSaved:ee,avgRating:We,upcomingAppointments:jt,emergencyServices:B,recurringServices:z,loyaltyPoints:ye,thisMonthBookings:it,thisMonthSpent:ie,completionRate:st,onTimeRate:_e,avgResponseTime:"2 hours",favoriteProvider:Ue,mostBookedService:je}},[e]),Fe=f.useMemo(()=>{let O=[...e];if(S.status!=="all"&&(O=O.filter(se=>se.status===S.status)),S.category!=="all"&&(O=O.filter(se=>se.category===S.category)),S.paymentStatus!=="all"&&(O=O.filter(se=>se.paymentStatus===S.paymentStatus)),S.priceRange[1]>0&&(O=O.filter(se=>se.amount>=S.priceRange[0]&&se.amount<=S.priceRange[1])),S.rating>0&&(O=O.filter(se=>(se.rating||0)>=S.rating)),S.hasReview&&(O=O.filter(se=>!!se.review)),S.isRecurring&&(O=O.filter(se=>se.recurringService)),S.isEmergency&&(O=O.filter(se=>se.urgencyLevel==="emergency")),S.hasDiscount&&(O=O.filter(se=>!!se.discountApplied)),S.provider!=="all"&&(O=O.filter(se=>se.providerName===S.provider)),a){const se=a.toLowerCase();O=O.filter(ce=>{var ke;return ce.serviceName.toLowerCase().includes(se)||ce.providerName.toLowerCase().includes(se)||ce.id.toLowerCase().includes(se)||ce.address.toLowerCase().includes(se)||((ke=ce.professionalName)==null?void 0:ke.toLowerCase().includes(se))||ce.description.toLowerCase().includes(se)})}return O.sort((se,ce)=>{let ke=0;switch(S.sortBy){case"date":ke=new Date(se.datetime).getTime()-new Date(ce.datetime).getTime();break;case"status":ke=se.status.localeCompare(ce.status);break;case"amount":ke=se.amount-ce.amount;break;case"rating":ke=(se.rating||0)-(ce.rating||0);break;case"provider":ke=se.providerName.localeCompare(ce.providerName);break;case"urgency":const tt={emergency:4,high:3,medium:2,low:1};ke=tt[se.urgencyLevel]-tt[ce.urgencyLevel];break}return S.sortOrder==="asc"?ke:-ke}),O},[e,S,a]),Me=O=>new Date(O).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",weekday:"short"}),Ie=O=>new Date(O).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),Ze=O=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(O),we=O=>{if(O<60)return`${O} min`;const se=Math.floor(O/60),ce=O%60;return ce>0?`${se}h ${ce}m`:`${se}h`},Le=O=>{const se=new Date(O),ce=new Date,ke=se.getTime()-ce.getTime(),tt=Math.ceil(ke/(1e3*60*60*24));return tt<0?"Past":tt===0?"Today":tt===1?"Tomorrow":`${tt} days`},bt=O=>{const se=new Set(_);se.has(O)?se.delete(O):se.add(O),T(se)},wt=O=>{c(O),p(!0)},Et=O=>{c(O),x(!0)},gt=O=>{c(O),v(!0)},ge=O=>{c(O),h(!0)},J=O=>{c(O),I(!0)},Ee=O=>{c(O),N(!0)},$e=()=>{$(!0)},vt=()=>{l&&Q&&(n(O=>O.map(se=>se.id===l.id?{...se,status:"cancelled",cancellationReason:Q,cancellationDate:new Date().toISOString(),refundAmount:se.amount*.8,paymentStatus:"refunded"}:se)),p(!1),q(""),c(null))},xt=()=>{if(l&&P&&U){const O=`${P}T${U}:00`;n(se=>se.map(ce=>ce.id===l.id?{...ce,status:"rescheduled",rescheduledAt:new Date().toISOString(),rescheduledTo:O,datetime:O}:ce)),x(!1),G(""),re(""),c(null)}},At=()=>{l&&A.rating>0&&(n(O=>O.map(se=>se.id===l.id?{...se,rating:A.rating,review:A.review,reviewDate:new Date().toISOString(),customerSatisfaction:A.rating}:se)),v(!1),Z({rating:0,review:""}),c(null))},K=()=>{l&&(n(O=>O.map(se=>se.id===l.id?{...se,paymentStatus:"paid",transactionId:`TXN${Date.now()}`,paidAt:new Date().toISOString()}:se)),N(!1),c(null))};return i?t.jsx("div",{className:"profile-bookings-advanced",children:t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading your bookings..."})]})}):t.jsxs("div",{className:"profile-bookings-advanced",children:[t.jsx("section",{className:"bookings-header",children:t.jsxs("div",{className:"bookings-header-content",children:[t.jsxs("div",{className:"bookings-title-section",children:[t.jsx("h1",{className:"bookings-title",children:"My Bookings"}),t.jsx("p",{className:"bookings-subtitle",children:"Manage and track all your service bookings in one place"})]}),t.jsxs("div",{className:"bookings-header-actions",children:[t.jsxs("button",{className:"export-btn",onClick:$e,children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Export"})]}),t.jsxs(he,{to:"/search",className:"book-new-service-btn",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Book New Service"})]})]})]})}),t.jsx("section",{className:"bookings-stats",children:t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card total",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:Ce.total}),t.jsx("div",{className:"stat-label",children:"Total Bookings"}),t.jsxs("div",{className:"stat-change",children:["+",Ce.thisMonthBookings," this month"]})]})]}),t.jsxs("div",{className:"stat-card pending",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:Ce.pending+Ce.confirmed}),t.jsx("div",{className:"stat-label",children:"Upcoming"}),t.jsxs("div",{className:"stat-change",children:[Ce.upcomingAppointments," active"]})]})]}),t.jsxs("div",{className:"stat-card active",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:Ce.inProgress}),t.jsx("div",{className:"stat-label",children:"In Progress"}),t.jsx("div",{className:"stat-change",children:"Currently active"})]})]}),t.jsxs("div",{className:"stat-card completed",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:Ce.completed}),t.jsx("div",{className:"stat-label",children:"Completed"}),t.jsxs("div",{className:"stat-change",children:[" ",Ce.avgRating.toFixed(1)," avg rating"]})]})]}),t.jsxs("div",{className:"stat-card spent",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:Ze(Ce.totalSpent)}),t.jsx("div",{className:"stat-label",children:"Total Spent"}),t.jsxs("div",{className:"stat-change",children:["Saved ",Ze(Ce.totalSaved)]})]})]}),t.jsxs("div",{className:"stat-card loyalty",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:Ce.loyaltyPoints}),t.jsx("div",{className:"stat-label",children:"Loyalty Points"}),t.jsxs("div",{className:"stat-change",children:[Ce.completionRate.toFixed(1),"% completion"]})]})]})]})}),t.jsx("section",{className:"bookings-filters",children:t.jsxs("div",{className:"filters-content",children:[t.jsxs("div",{className:"filters-row",children:[t.jsx("div",{className:"search-group",children:t.jsxs("div",{className:"search-input-wrapper",children:[t.jsx("input",{type:"text",placeholder:"Search bookings, services, providers...",value:a,onChange:O=>o(O.target.value),className:"search-input"}),t.jsx("span",{className:"search-icon",children:""})]})}),t.jsxs("div",{className:"view-mode-toggle",children:[t.jsx("button",{className:`view-btn ${S.viewMode==="grid"?"active":""}`,onClick:()=>F({...S,viewMode:"grid"}),children:t.jsx("span",{children:""})}),t.jsx("button",{className:`view-btn ${S.viewMode==="list"?"active":""}`,onClick:()=>F({...S,viewMode:"list"}),children:t.jsx("span",{children:""})}),t.jsx("button",{className:`view-btn ${S.viewMode==="calendar"?"active":""}`,onClick:()=>F({...S,viewMode:"calendar"}),children:t.jsx("span",{children:""})}),t.jsx("button",{className:`view-btn ${S.viewMode==="timeline"?"active":""}`,onClick:()=>F({...S,viewMode:"timeline"}),children:t.jsx("span",{children:""})})]}),t.jsxs("div",{className:"sort-group",children:[t.jsxs("select",{value:S.sortBy,onChange:O=>F({...S,sortBy:O.target.value}),className:"sort-select",children:[t.jsx("option",{value:"date",children:"Sort by Date"}),t.jsx("option",{value:"status",children:"Sort by Status"}),t.jsx("option",{value:"amount",children:"Sort by Amount"}),t.jsx("option",{value:"rating",children:"Sort by Rating"}),t.jsx("option",{value:"provider",children:"Sort by Provider"}),t.jsx("option",{value:"urgency",children:"Sort by Urgency"})]}),t.jsx("button",{className:`sort-order ${S.sortOrder}`,onClick:()=>F({...S,sortOrder:S.sortOrder==="asc"?"desc":"asc"}),children:S.sortOrder==="asc"?"":""})]}),t.jsxs("button",{className:"advanced-filters-btn",onClick:()=>k(!0),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Advanced Filters"})]})]}),t.jsx("div",{className:"quick-filters",children:Object.entries(W).map(([O,se])=>t.jsxs("button",{className:`status-filter-btn ${S.status===O?"active":""}`,onClick:()=>F({...S,status:O}),style:{"--status-color":se.color},children:[t.jsx("span",{className:"filter-icon",children:se.icon}),t.jsx("span",{className:"filter-text",children:se.label})]},O))})]})}),t.jsx("section",{className:"bookings-display",children:Fe.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:"No bookings found"}),t.jsx("p",{children:a||S.status!=="all"||S.category!=="all"?"Try adjusting your filters or search terms.":"You haven't made any bookings yet. Start by booking a service!"}),t.jsxs(he,{to:"/search",className:"book-now-btn",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Browse Services"})]})]}):t.jsx("div",{className:`bookings-container ${S.viewMode}`,children:Fe.map(O=>t.jsxs("div",{className:`booking-card ${_.has(O.id)?"expanded":""}`,children:[t.jsxs("div",{className:"booking-header",children:[t.jsxs("div",{className:"booking-info",children:[t.jsxs("div",{className:"service-info",children:[t.jsx("h3",{className:"booking-service",children:O.serviceName}),t.jsxs("div",{className:"booking-meta",children:[t.jsx("span",{className:"booking-provider",children:O.providerName}),O.professionalName&&t.jsxs("span",{className:"professional-name",children:[" ",O.professionalName]}),O.providerRating&&t.jsxs("span",{className:"provider-rating",children:[" ",O.providerRating]})]}),t.jsxs("p",{className:"booking-id",children:["Booking ID: ",O.id]})]}),t.jsxs("div",{className:"booking-status",children:[t.jsxs("span",{className:"status-badge",style:{"--status-color":W[O.status].color},children:[t.jsx("span",{className:"status-icon",children:W[O.status].icon}),t.jsx("span",{className:"status-text",children:W[O.status].label})]}),O.urgencyLevel&&t.jsxs("span",{className:`urgency-badge urgency-${O.urgencyLevel}`,children:[t.jsx("span",{className:"urgency-icon",children:xe[O.urgencyLevel].icon}),t.jsx("span",{className:"urgency-text",children:xe[O.urgencyLevel].label})]})]})]}),O.providerPhoto&&t.jsxs("div",{className:"provider-card",children:[t.jsx("img",{src:O.providerPhoto,alt:O.providerName,className:"provider-photo"}),t.jsxs("div",{className:"provider-info",children:[t.jsx("p",{className:"provider-name",children:O.providerName}),t.jsx("p",{className:"provider-phone",children:O.providerPhone}),O.providerRating&&t.jsxs("div",{className:"provider-rating-small",children:[" ",O.providerRating]})]})]})]}),t.jsxs("div",{className:"booking-quick-details",children:[t.jsxs("div",{className:"quick-detail",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("div",{className:"detail-content",children:[t.jsx("span",{className:"detail-label",children:"Date & Time"}),t.jsx("span",{className:"detail-value",children:Me(O.datetime)}),t.jsx("span",{className:"detail-sub",children:Le(O.datetime)})]})]}),t.jsxs("div",{className:"quick-detail",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("div",{className:"detail-content",children:[t.jsx("span",{className:"detail-label",children:"Location"}),t.jsx("span",{className:"detail-value",children:O.address}),t.jsx("span",{className:"detail-sub",children:O.addressType})]})]}),t.jsxs("div",{className:"quick-detail",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("div",{className:"detail-content",children:[t.jsx("span",{className:"detail-label",children:"Amount"}),t.jsx("span",{className:"detail-value amount",children:Ze(O.amount)}),O.discountApplied&&t.jsxs("span",{className:"discount-badge",children:["Saved ",Ze(O.discountApplied)]})]})]}),t.jsxs("div",{className:"quick-detail",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("div",{className:"detail-content",children:[t.jsx("span",{className:"detail-label",children:"Payment"}),t.jsx("span",{className:`detail-value payment-${O.paymentStatus}`,children:O.paymentStatus==="paid"?" Paid":O.paymentStatus==="pending"?" Pending":O.paymentStatus==="refunded"?" Refunded":" Failed"})]})]})]}),_.has(O.id)&&t.jsxs("div",{className:"booking-expanded-details",children:[t.jsxs("div",{className:"expanded-section",children:[t.jsx("h4",{className:"section-title",children:"Service Details"}),t.jsx("p",{className:"booking-description",children:O.description}),O.specialInstructions&&t.jsxs("div",{className:"notes-section",children:[t.jsx("strong",{children:"Special Instructions:"})," ",O.specialInstructions]}),t.jsxs("div",{className:"duration-info",children:[t.jsx("span",{className:"duration-label",children:"Estimated Duration:"}),t.jsx("span",{className:"duration-value",children:we(O.duration)}),O.actualDuration&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"duration-label",children:"Actual Duration:"}),t.jsx("span",{className:"duration-value",children:we(O.actualDuration)})]})]}),O.tags&&O.tags.length>0&&t.jsxs("div",{className:"tags-section",children:[t.jsx("span",{className:"tags-label",children:"Tags:"}),t.jsx("div",{className:"tags-list",children:O.tags.map((se,ce)=>t.jsx("span",{className:"tag",children:se},ce))})]})]}),O.completionPhotos&&O.completionPhotos.length>0&&t.jsxs("div",{className:"expanded-section",children:[t.jsx("h4",{className:"section-title",children:"Completion Photos"}),t.jsx("div",{className:"photos-grid",children:O.completionPhotos.map((se,ce)=>t.jsx("img",{src:se,alt:"Completion photo",className:"completion-photo"},ce))})]}),O.beforePhotos&&O.beforePhotos.length>0&&t.jsxs("div",{className:"expanded-section",children:[t.jsx("h4",{className:"section-title",children:"Before Photos"}),t.jsx("div",{className:"photos-grid",children:O.beforePhotos.map((se,ce)=>t.jsx("img",{src:se,alt:"Before photo",className:"before-photo"},ce))})]}),O.rating&&t.jsxs("div",{className:"expanded-section",children:[t.jsx("h4",{className:"section-title",children:"Your Review"}),t.jsxs("div",{className:"review-display",children:[t.jsx("div",{className:"rating-stars",children:"".repeat(O.rating)}),O.review&&t.jsxs("p",{className:"review-text",children:['"',O.review,'"']}),O.reviewDate&&t.jsxs("p",{className:"review-date",children:["Reviewed on ",Me(O.reviewDate)]})]})]}),O.workReport&&t.jsxs("div",{className:"expanded-section",children:[t.jsx("h4",{className:"section-title",children:"Work Report"}),t.jsx("p",{className:"work-report",children:O.workReport})]}),O.materialsUsed&&O.materialsUsed.length>0&&t.jsxs("div",{className:"expanded-section",children:[t.jsx("h4",{className:"section-title",children:"Materials Used"}),t.jsx("div",{className:"materials-list",children:O.materialsUsed.map((se,ce)=>t.jsx("span",{className:"material-item",children:se},ce))})]})]}),t.jsxs("div",{className:"booking-actions",children:[t.jsx("button",{className:"action-btn expand",onClick:()=>bt(O.id),children:_.has(O.id)?"Show Less":"Show More"}),t.jsx("button",{className:"action-btn details",onClick:()=>ge(O),children:"View Details"}),O.trackingId&&t.jsx("button",{className:"action-btn track",onClick:()=>J(O),children:"Track Service"}),O.status==="pending"&&t.jsx("button",{className:"action-btn confirm",onClick:()=>{},children:"Confirm Booking"}),O.status==="confirmed"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"action-btn reschedule",onClick:()=>Et(O),children:"Reschedule"}),t.jsx("button",{className:"action-btn cancel",onClick:()=>wt(O),children:"Cancel Booking"})]}),O.status==="confirmed"&&O.paymentStatus==="pending"&&t.jsx("button",{className:"action-btn pay",onClick:()=>Ee(O),children:"Pay Now"}),O.status==="in_progress"&&O.trackingId&&t.jsx("button",{className:"action-btn tracking",onClick:()=>J(O),children:"Live Tracking"}),O.status==="completed"&&!O.rating&&t.jsx("button",{className:"action-btn review",onClick:()=>gt(O),children:"Leave Review"}),O.invoiceUrl&&t.jsx("button",{className:"action-btn invoice",onClick:()=>{},children:"Download Invoice"})]})]},O.id))})}),m&&l&&t.jsx("div",{className:"modal-overlay",onClick:()=>p(!1),children:t.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Cancel Booking"}),t.jsx("button",{onClick:()=>p(!1),className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"booking-summary",children:[t.jsx("h3",{children:l.serviceName}),t.jsx("p",{children:l.providerName}),t.jsx("p",{children:Me(l.datetime)}),t.jsx("p",{className:"amount",children:Ze(l.amount)})]}),t.jsxs("div",{className:"cancellation-info",children:[t.jsx("p",{children:t.jsx("strong",{children:"Refund Policy:"})}),t.jsx("p",{children:" Cancellation 24+ hours before: 80% refund"}),t.jsx("p",{children:" Cancellation less than 24 hours: 50% refund"}),t.jsx("p",{children:" No-show: No refund"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Reason for cancellation *"}),t.jsx("textarea",{value:Q,onChange:O=>q(O.target.value),placeholder:"Please tell us why you're cancelling...",rows:4,className:"form-textarea"})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{onClick:()=>p(!1),className:"btn-secondary",children:"Keep Booking"}),t.jsx("button",{onClick:vt,className:"btn-danger",disabled:!Q.trim(),children:"Cancel Booking"})]})]})]})}),g&&l&&t.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:t.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Reschedule Booking"}),t.jsx("button",{onClick:()=>x(!1),className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"booking-summary",children:[t.jsx("h3",{children:l.serviceName}),t.jsx("p",{children:l.providerName}),t.jsxs("p",{children:["Current: ",Me(l.datetime)]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"New Date *"}),t.jsx("input",{type:"date",value:P,onChange:O=>G(O.target.value),min:new Date().toISOString().split("T")[0],className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"New Time *"}),t.jsx("input",{type:"time",value:U,onChange:O=>re(O.target.value),className:"form-input"})]}),t.jsxs("div",{className:"reschedule-info",children:[t.jsx("p",{children:t.jsx("strong",{children:"Rescheduling Policy:"})}),t.jsx("p",{children:" Free rescheduling up to 24 hours before"}),t.jsx("p",{children:" Within 24 hours: 100 rescheduling fee"})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{onClick:()=>x(!1),className:"btn-secondary",children:"Cancel"}),t.jsx("button",{onClick:xt,className:"btn-primary",disabled:!P||!U,children:"Reschedule Booking"})]})]})]})}),j&&l&&t.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:t.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Leave a Review"}),t.jsx("button",{onClick:()=>v(!1),className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"booking-summary",children:[t.jsx("h3",{children:l.serviceName}),t.jsx("p",{children:l.providerName}),t.jsx("p",{children:Me(l.datetime)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Rating *"}),t.jsx("div",{className:"rating-input",children:[1,2,3,4,5].map(O=>t.jsx("button",{className:`star-btn ${A.rating>=O?"active":""}`,onClick:()=>Z({...A,rating:O}),children:""},O))})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Review"}),t.jsx("textarea",{value:A.review,onChange:O=>Z({...A,review:O.target.value}),placeholder:"Share your experience with this service...",rows:4,className:"form-textarea"})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{onClick:()=>v(!1),className:"btn-secondary",children:"Cancel"}),t.jsx("button",{onClick:At,className:"btn-primary",disabled:A.rating===0,children:"Submit Review"})]})]})]})}),b&&l&&t.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:t.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Complete Payment"}),t.jsx("button",{onClick:()=>N(!1),className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"payment-summary",children:[t.jsx("h3",{children:l.serviceName}),t.jsx("p",{children:l.providerName}),t.jsx("p",{children:Me(l.datetime)}),t.jsxs("div",{className:"amount-breakdown",children:[t.jsxs("div",{className:"amount-row",children:[t.jsx("span",{children:"Service Amount:"}),t.jsx("span",{children:Ze(l.amount)})]}),l.discountApplied&&t.jsxs("div",{className:"amount-row discount",children:[t.jsx("span",{children:"Discount:"}),t.jsxs("span",{children:["-",Ze(l.discountApplied)]})]}),t.jsxs("div",{className:"amount-row total",children:[t.jsx("span",{children:"Total Amount:"}),t.jsx("span",{children:Ze(l.amount)})]})]})]}),t.jsxs("div",{className:"payment-methods",children:[t.jsx("h4",{children:"Select Payment Method"}),t.jsxs("div",{className:"payment-options",children:[t.jsxs("label",{className:"payment-option",children:[t.jsx("input",{type:"radio",name:"payment",defaultChecked:!0}),t.jsx("span",{children:"Credit/Debit Card"})]}),t.jsxs("label",{className:"payment-option",children:[t.jsx("input",{type:"radio",name:"payment"}),t.jsx("span",{children:"UPI"})]}),t.jsxs("label",{className:"payment-option",children:[t.jsx("input",{type:"radio",name:"payment"}),t.jsx("span",{children:"Net Banking"})]}),t.jsxs("label",{className:"payment-option",children:[t.jsx("input",{type:"radio",name:"payment"}),t.jsx("span",{children:"Wallet"})]})]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{onClick:()=>N(!1),className:"btn-secondary",children:"Cancel"}),t.jsxs("button",{onClick:K,className:"btn-primary",children:["Pay ",Ze(l.amount)]})]})]})]})}),d&&l&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content large",onClick:O=>O.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Booking Details"}),t.jsx("button",{onClick:()=>h(!1),className:"close-btn",children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"booking-details-full",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Service Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Service Name:"}),t.jsx("span",{children:l.serviceName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Category:"}),t.jsx("span",{children:l.category})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Description:"}),t.jsx("span",{children:l.description})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Duration:"}),t.jsx("span",{children:we(l.duration)})]})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Provider Information"}),t.jsxs("div",{className:"provider-details",children:[l.providerPhoto&&t.jsx("img",{src:l.providerPhoto,alt:l.providerName,className:"provider-large-photo"}),t.jsxs("div",{className:"provider-info-full",children:[t.jsx("h4",{children:l.providerName}),l.providerRating&&t.jsxs("div",{className:"rating",children:[" ",l.providerRating]}),t.jsx("p",{children:l.providerPhone}),l.professionalName&&t.jsxs("p",{children:["Professional: ",l.professionalName]})]})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Schedule & Location"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Date & Time:"}),t.jsx("span",{children:Me(l.datetime)})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Address:"}),t.jsx("span",{children:l.address})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Address Type:"}),t.jsx("span",{children:l.addressType})]}),l.estimatedArrival&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Estimated Arrival:"}),t.jsx("span",{children:Ie(l.estimatedArrival)})]})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Payment Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Total Amount:"}),t.jsx("span",{children:Ze(l.amount)})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Payment Status:"}),t.jsx("span",{className:`payment-status ${l.paymentStatus}`,children:l.paymentStatus})]}),l.paymentMethod&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Payment Method:"}),t.jsx("span",{children:l.paymentMethod})]}),l.transactionId&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Transaction ID:"}),t.jsx("span",{children:l.transactionId})]})]})]}),l.specialInstructions&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Special Instructions"}),t.jsx("p",{children:l.specialInstructions})]})]})})]})})]})}function s$(){const[s,e]=f.useState(null),[n,i]=f.useState([]),[r,a]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState("methods"),[h,m]=f.useState(!1);f.useEffect(()=>{const v=Fs.onAuthStateChanged(b=>{if(b){e(b);const N=[{id:"pm1",type:"card",name:"Visa Card",details:"**** **** **** 1234",isDefault:!0,addedDate:"2023-01-15"},{id:"pm2",type:"upi",name:"Google Pay",details:"user@okicici",isDefault:!1,addedDate:"2023-03-20"},{id:"pm3",type:"wallet",name:"Paytm Wallet",details:"9876543210",isDefault:!1,addedDate:"2023-06-10"}],C=[{id:"t1",date:"2024-11-20",description:"AC Repair Service - John Doe",amount:1200,type:"payment",status:"completed",method:"Visa Card",bookingId:"b1"},{id:"t2",date:"2024-11-15",description:"Home Cleaning - Jane Smith",amount:800,type:"payment",status:"completed",method:"Google Pay",bookingId:"b2"},{id:"t3",date:"2024-11-10",description:"Refund for Cancelled Booking",amount:-500,type:"refund",status:"completed",method:"Paytm Wallet",bookingId:"b4"},{id:"t4",date:"2024-11-05",description:"Plumbing Service - Mike Johnson",amount:1500,type:"payment",status:"completed",method:"Visa Card",bookingId:"b3"},{id:"t5",date:"2024-11-25",description:"Car Repair - Tom Brown",amount:2e3,type:"payment",status:"pending",method:"Visa Card",bookingId:"b5"}];i(N),a(C)}l(!1)});return()=>v()},[]);const p=v=>{i(b=>b.map(N=>({...N,isDefault:N.id===v})))},g=v=>{i(b=>b.filter(N=>N.id!==v))},x=v=>{switch(v){case"card":return"";case"upi":return"";case"wallet":return"";default:return""}},j=v=>{switch(v){case"completed":return"#10b981";case"pending":return"#f59e0b";case"failed":return"#ef4444";default:return"#64748b"}};return o?t.jsx("div",{className:"profile-payments",children:t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner",children:""}),t.jsx("p",{children:"Loading payment information..."})]})}):t.jsx("div",{className:"profile-payments",children:t.jsxs("div",{className:"page-container",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{children:"Payment Methods & Transactions"}),t.jsx("p",{children:"Manage your payment methods and view transaction history"})]}),t.jsxs("div",{className:"payment-tabs",children:[t.jsx("button",{className:`tab-btn ${c==="methods"?"active":""}`,onClick:()=>d("methods"),children:"Payment Methods"}),t.jsx("button",{className:`tab-btn ${c==="transactions"?"active":""}`,onClick:()=>d("transactions"),children:"Transactions"})]}),c==="methods"&&t.jsxs("div",{className:"tab-content",children:[t.jsxs("div",{className:"payment-stats",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:n.length}),t.jsx("div",{className:"stat-label",children:"Payment Methods"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:n.filter(v=>v.isDefault).length}),t.jsx("div",{className:"stat-label",children:"Default Method"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsxs("div",{className:"stat-number",children:["",r.filter(v=>v.type==="payment"&&v.status==="completed").reduce((v,b)=>v+b.amount,0)]}),t.jsx("div",{className:"stat-label",children:"Total Spent"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsxs("div",{className:"stat-number",children:["",r.filter(v=>v.type==="refund"&&v.status==="completed").reduce((v,b)=>v+Math.abs(b.amount),0)]}),t.jsx("div",{className:"stat-label",children:"Total Refunds"})]})]}),t.jsxs("div",{className:"payment-methods-header",children:[t.jsx("h2",{children:"Your Payment Methods"}),t.jsx("button",{className:"btn-primary",onClick:()=>m(!0),children:"+ Add Payment Method"})]}),t.jsx("div",{className:"payment-methods-grid",children:n.map(v=>t.jsxs("div",{className:"payment-method-card",children:[t.jsxs("div",{className:"method-header",children:[t.jsxs("div",{className:"method-info",children:[t.jsx("div",{className:"method-icon",children:x(v.type)}),t.jsxs("div",{className:"method-details",children:[t.jsx("h3",{className:"method-name",children:v.name}),t.jsx("p",{className:"method-number",children:v.details})]})]}),v.isDefault&&t.jsx("span",{className:"default-badge",children:"Default"})]}),t.jsxs("div",{className:"method-footer",children:[t.jsxs("span",{className:"added-date",children:["Added ",v.addedDate]}),t.jsxs("div",{className:"method-actions",children:[!v.isDefault&&t.jsx("button",{className:"btn-secondary",onClick:()=>p(v.id),children:"Set Default"}),t.jsx("button",{className:"btn-danger",onClick:()=>g(v.id),children:"Delete"})]})]})]},v.id))}),h&&t.jsx("div",{className:"add-method-modal",children:t.jsxs("div",{className:"modal-content",children:[t.jsx("h3",{children:"Add Payment Method"}),t.jsxs("div",{className:"method-types",children:[t.jsxs("button",{className:"method-type-btn",children:[t.jsx("span",{className:"method-icon",children:""}),t.jsx("span",{children:"Credit/Debit Card"})]}),t.jsxs("button",{className:"method-type-btn",children:[t.jsx("span",{className:"method-icon",children:""}),t.jsx("span",{children:"UPI Payment"})]}),t.jsxs("button",{className:"method-type-btn",children:[t.jsx("span",{className:"method-icon",children:""}),t.jsx("span",{children:"Digital Wallet"})]})]}),t.jsx("div",{className:"modal-actions",children:t.jsx("button",{className:"btn-secondary",onClick:()=>m(!1),children:"Cancel"})})]})})]}),c==="transactions"&&t.jsxs("div",{className:"tab-content",children:[t.jsxs("div",{className:"transactions-header",children:[t.jsx("h2",{children:"Transaction History"}),t.jsxs("div",{className:"transaction-filters",children:[t.jsxs("select",{className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Transactions"}),t.jsx("option",{value:"payments",children:"Payments Only"}),t.jsx("option",{value:"refunds",children:"Refunds Only"})]}),t.jsxs("select",{className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"})]})]})]}),t.jsx("div",{className:"transactions-list",children:r.map(v=>t.jsxs("div",{className:"transaction-card",children:[t.jsxs("div",{className:"transaction-header",children:[t.jsxs("div",{className:"transaction-info",children:[t.jsxs("div",{className:"transaction-amount",children:[t.jsx("span",{className:"amount-symbol",children:v.type==="refund"?"+":"-"}),"",Math.abs(v.amount)]}),t.jsxs("div",{className:"transaction-details",children:[t.jsx("h4",{className:"transaction-description",children:v.description}),t.jsxs("p",{className:"transaction-meta",children:[v.date,"  ",v.method]})]})]}),t.jsx("div",{className:"transaction-status",children:t.jsx("span",{className:"status-badge",style:{backgroundColor:j(v.status)},children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})})]}),t.jsxs("div",{className:"transaction-footer",children:[t.jsx("span",{className:`transaction-type ${v.type}`,children:v.type==="refund"?"Refund":"Payment"}),v.bookingId&&t.jsx(he,{to:`/bookings/${v.bookingId}`,className:"booking-link",children:"View Booking"})]})]},v.id))})]})]})})}function n$(){Ct();const{user:s}=vi(),[e,n]=f.useState([]),[i,r]=f.useState([]),[a,o]=f.useState(!0),[l,c]=f.useState("methods"),[d,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[j,v]=f.useState(!1),[b,N]=f.useState(!1),[C,I]=f.useState(!1),[D,$]=f.useState(!1),[E,k]=f.useState(!1),[_,T]=f.useState(null),[S,F]=f.useState(null),[L,oe]=f.useState("card"),[A,Z]=f.useState(""),[Q,q]=f.useState(""),[P,G]=f.useState(""),[U,re]=f.useState({type:"all",status:"all",method:"all",dateRange:"month",amountRange:[0,1e5],searchQuery:"",sortBy:"date",sortOrder:"desc",viewMode:"list"}),[W,xe]=f.useState("pdf"),Ce={card:{label:"Credit/Debit Card",icon:"",description:"Visa, Mastercard, Rupay, etc."},upi:{label:"UPI Payment",icon:"",description:"Google Pay, PhonePe, Paytm, BHIM"},wallet:{label:"Digital Wallet",icon:"",description:"Paytm, PhonePe, Amazon Pay, etc."},net_banking:{label:"Net Banking",icon:"",description:"Direct bank transfer"},crypto:{label:"Cryptocurrency",icon:"",description:"Bitcoin, Ethereum, etc."},international:{label:"International",icon:"",description:"PayPal, Stripe, Wise, etc."}},Fe={completed:{label:"Completed",color:"#10b981",icon:"",description:"Transaction successful"},pending:{label:"Pending",color:"#f59e0b",icon:"",description:"Processing payment"},failed:{label:"Failed",color:"#ef4444",icon:"",description:"Payment failed"},processing:{label:"Processing",color:"#3b82f6",icon:"",description:"Payment in progress"},cancelled:{label:"Cancelled",color:"#6b7280",icon:"",description:"Payment cancelled"},disputed:{label:"Disputed",color:"#f97316",icon:"",description:"Payment under dispute"}},Me={payment:{label:"Payment",color:"#3b82f6",icon:""},refund:{label:"Refund",color:"#10b981",icon:""},chargeback:{label:"Chargeback",color:"#ef4444",icon:""},dispute:{label:"Dispute",color:"#f97316",icon:""},fee:{label:"Fee",color:"#6b7280",icon:""},reward:{label:"Reward",color:"#8b5cf6",icon:""},cashback:{label:"Cashback",color:"#ec4899",icon:""}};f.useEffect(()=>{s&&(async()=>{o(!0);const O=[{id:"pm001",type:"card",name:"HDFC Visa Credit Card",details:"4234 5678 9012 3456",maskedDetails:"**** **** **** 3456",isDefault:!0,isVerified:!0,addedDate:"2023-01-15",lastUsed:"2024-11-22",expiryDate:"2025-12-31",cardType:"visa",bankName:"HDFC Bank",billingAddress:{street:"123, Palm Greens",city:"Gurgaon",state:"Haryana",zip:"122001",country:"India"},settings:{autoSave:!0,quickPay:!0,notifications:!0,spendingLimit:5e4,monthlyLimit:2e5},metadata:{deviceFingerprint:"fp_123456",ipAddress:"192.168.1.1",verificationAttempts:2,lastVerificationDate:"2024-11-20"}},{id:"pm002",type:"upi",name:"Google Pay",details:"superman.verma@okicici",maskedDetails:"super****@okicici",isDefault:!1,isVerified:!0,addedDate:"2023-03-20",lastUsed:"2024-11-20",upiProvider:"googlepay",settings:{autoSave:!1,quickPay:!0,notifications:!0,spendingLimit:25e3,monthlyLimit:1e5}},{id:"pm003",type:"wallet",name:"Paytm Wallet",details:"9876543210",maskedDetails:"****543210",isDefault:!1,isVerified:!0,addedDate:"2023-06-10",lastUsed:"2024-11-15",walletProvider:"paytm",settings:{autoSave:!0,quickPay:!1,notifications:!0,spendingLimit:1e4,monthlyLimit:5e4}},{id:"pm004",type:"net_banking",name:"ICICI Bank",details:"ICICI0001234",maskedDetails:"ICICI****1234",isDefault:!1,isVerified:!0,addedDate:"2023-08-15",lastUsed:"2024-11-10",bankName:"ICICI Bank",settings:{autoSave:!1,quickPay:!1,notifications:!0,spendingLimit:1e5,monthlyLimit:5e5}},{id:"pm005",type:"international",name:"PayPal",details:"superman.verma@example.com",maskedDetails:"super****@example.com",isDefault:!1,isVerified:!0,addedDate:"2024-01-10",lastUsed:"2024-11-05",internationalProvider:"paypal",settings:{autoSave:!0,quickPay:!1,notifications:!0,spendingLimit:1e3,monthlyLimit:5e3}}],se=[{id:"txn001",date:"2024-11-22T14:30:00",description:"AC Repair Service - CoolAir Experts",amount:1899,originalAmount:1899,currency:"INR",type:"payment",status:"completed",method:"HDFC Visa Credit Card",methodId:"pm001",bookingId:"BK002",invoiceId:"INV001",receiptId:"REC001",merchantInfo:{name:"CoolAir Experts",category:"AC Repair",logo:"https://picsum.photos/50/50?random=1",gstNumber:"07AAHPC7746P1ZV"},fees:{processing:56.97,platform:18.99,gateway:37.98,total:113.94},taxes:{gst:341.82,serviceTax:0,total:341.82},rewards:{cashback:94.95,points:189,coupons:["SAVE10","WELCOME50"]},metadata:{ipAddress:"192.168.1.1",device:"Chrome on Windows",location:"Gurgaon, India",riskScore:.15,fraudCheck:"passed"},createdAt:"2024-11-22T14:25:00",updatedAt:"2024-11-22T14:35:00",completedAt:"2024-11-22T14:35:00"},{id:"txn002",date:"2024-11-20T10:00:00",description:"Complete Home Deep Cleaning - Sparkle Clean Pro",amount:2499,originalAmount:2999,currency:"INR",type:"payment",status:"completed",method:"Google Pay",methodId:"pm002",bookingId:"BK001",invoiceId:"INV002",receiptId:"REC002",merchantInfo:{name:"Sparkle Clean Pro",category:"Cleaning",logo:"https://picsum.photos/50/50?random=2",gstNumber:"07AAHPC7746P1ZV"},fees:{processing:74.97,platform:24.99,gateway:49.98,total:149.94},taxes:{gst:449.82,serviceTax:0,total:449.82},rewards:{cashback:124.95,points:250,coupons:["CLEAN500"]},installmentInfo:{totalInstallments:3,currentInstallment:1,installmentAmount:833,nextDueDate:"2024-12-20"},metadata:{ipAddress:"192.168.1.1",device:"Android App",location:"Gurgaon, India",riskScore:.12,fraudCheck:"passed"},createdAt:"2024-11-20T09:55:00",updatedAt:"2024-11-20T10:05:00",completedAt:"2024-11-20T10:05:00"},{id:"txn003",date:"2024-11-15T11:30:00",description:"Bathroom Plumbing Repair - QuickFix Pro",amount:1599,currency:"INR",type:"payment",status:"completed",method:"Paytm Wallet",methodId:"pm003",bookingId:"BK003",invoiceId:"INV003",receiptId:"REC003",merchantInfo:{name:"QuickFix Pro",category:"Plumbing",logo:"https://picsum.photos/50/50?random=3",gstNumber:"07AAHPC7746P1ZV"},fees:{processing:47.97,platform:15.99,gateway:31.98,total:95.94},taxes:{gst:287.82,serviceTax:0,total:287.82},rewards:{cashback:79.95,points:160,coupons:[]},metadata:{ipAddress:"192.168.1.1",device:"iOS App",location:"Delhi, India",riskScore:.08,fraudCheck:"passed"},createdAt:"2024-11-15T11:25:00",updatedAt:"2024-11-15T11:35:00",completedAt:"2024-11-15T11:35:00"},{id:"txn004",date:"2024-11-10T09:00:00",description:"Refund for Cancelled Booking - AutoCare Garage",amount:-2799.2,originalAmount:3499,currency:"INR",type:"refund",status:"completed",method:"HDFC Visa Credit Card",methodId:"pm001",bookingId:"BK005",refundId:"REF001",merchantInfo:{name:"AutoCare Garage",category:"Mechanic",logo:"https://picsum.photos/50/50?random=4",gstNumber:"07AAHPC7746P1ZV"},fees:{processing:-83.98,platform:-27.99,gateway:-55.99,total:-167.96},taxes:{gst:-503.86,serviceTax:0,total:-503.86},metadata:{ipAddress:"192.168.1.1",device:"Chrome on Windows",location:"Gurgaon, India",riskScore:.05,fraudCheck:"passed"},notes:"80% refund as per cancellation policy",createdAt:"2024-11-10T08:55:00",updatedAt:"2024-11-11T10:30:00",completedAt:"2024-11-11T10:30:00"},{id:"txn005",date:"2024-11-05T16:00:00",description:"Electrical Safety Inspection - ElectroSafe Solutions",amount:999,currency:"INR",type:"payment",status:"pending",method:"ICICI Bank",methodId:"pm004",bookingId:"BK004",invoiceId:"INV004",merchantInfo:{name:"ElectroSafe Solutions",category:"Electrical",logo:"https://picsum.photos/50/50?random=5",gstNumber:"07AAHPC7746P1ZV"},fees:{processing:29.97,platform:9.99,gateway:19.98,total:59.94},taxes:{gst:179.82,serviceTax:0,total:179.82},metadata:{ipAddress:"192.168.1.1",device:"Chrome on Windows",location:"Gurgaon, India",riskScore:.18,fraudCheck:"pending"},createdAt:"2024-11-05T15:55:00",updatedAt:"2024-11-05T16:00:00"},{id:"txn006",date:"2024-11-01T12:00:00",description:"Math Tutoring - LearnWell Academy",amount:1200,originalAmount:1500,currency:"INR",type:"payment",status:"completed",method:"PayPal",methodId:"pm005",bookingId:"BK006",invoiceId:"INV005",receiptId:"REC005",merchantInfo:{name:"LearnWell Academy",category:"Education",logo:"https://picsum.photos/50/50?random=6",gstNumber:"07AAHPC7746P1ZV"},international:{originalCurrency:"USD",exchangeRate:83.12,conversionFee:14.45},fees:{processing:36,platform:12,gateway:24,total:72},taxes:{gst:216,serviceTax:0,total:216},rewards:{cashback:60,points:120,coupons:["STUDENT300"]},metadata:{ipAddress:"192.168.1.1",device:"Chrome on Windows",location:"Gurgaon, India",riskScore:.2,fraudCheck:"passed"},createdAt:"2024-11-01T11:55:00",updatedAt:"2024-11-01T12:05:00",completedAt:"2024-11-01T12:05:00"}];await new Promise(ce=>setTimeout(ce,1e3)),n(O),r(se),o(!1)})()},[s]);const Ie=f.useMemo(()=>{var je,Be;const K=e.length,O=((je=e.find(ae=>ae.isDefault))==null?void 0:je.name)||"None",se=i.filter(ae=>ae.type==="payment"),ce=i.filter(ae=>ae.type==="refund"),ke=i.filter(ae=>ae.status==="completed"),tt=se.filter(ae=>ae.status==="completed").reduce((ae,ue)=>ae+ue.amount,0),yt=ce.filter(ae=>ae.status==="completed").reduce((ae,ue)=>ae+Math.abs(ue.amount),0),ht=i.filter(ae=>ae.status==="completed"&&ae.fees).reduce((ae,ue)=>{var Qe;return ae+(((Qe=ue.fees)==null?void 0:Qe.total)||0)},0),V=i.filter(ae=>ae.status==="completed"&&ae.rewards).reduce((ae,ue)=>{var Qe;return ae+(((Qe=ue.rewards)==null?void 0:Qe.cashback)||0)},0),ee=new Date;ee.setDate(1);const de=i.filter(ae=>new Date(ae.date)>=ee),We=de.filter(ae=>ae.type==="payment"&&ae.status==="completed").reduce((ae,ue)=>ae+ue.amount,0),jt=i.filter(ae=>ae.status==="pending").length,B=i.filter(ae=>ae.status==="failed").length,z=ke.length>0?ke.reduce((ae,ue)=>ae+Math.abs(ue.amount),0)/ke.length:0,ye=i.reduce((ae,ue)=>(ae[ue.method]=(ae[ue.method]||0)+1,ae),{}),pe=((Be=Object.entries(ye).sort(([,ae],[,ue])=>ue-ae)[0])==null?void 0:Be[0])||"None",it=i.length>0?new Date(Math.max(...i.map(ae=>new Date(ae.date).getTime()))).toISOString():"",ie=i.filter(ae=>ae.international).length,st=i.filter(ae=>ae.installmentInfo).length,Rt=e.some(ae=>{var ue;return(ue=ae.settings)==null?void 0:ue.autoSave}),_e=e.some(ae=>{var ue;return(ue=ae.settings)==null?void 0:ue.quickPay}),rt=e.some(ae=>!ae.isVerified),Ue=e.reduce((ae,ue)=>{var Qe;return ae+(((Qe=ue.settings)==null?void 0:Qe.spendingLimit)||0)},0),ne=We;return{totalMethods:K,defaultMethod:O,totalSpent:tt,totalRefunds:yt,totalFees:ht,totalRewards:V,thisMonthSpent:We,thisMonthTransactions:de.length,pendingTransactions:jt,failedTransactions:B,averageTransaction:z,mostUsedMethod:pe,lastTransactionDate:it,internationalTransactions:ie,installmentPayments:st,autoPayEnabled:Rt,quickPayEnabled:_e,verificationRequired:rt,spendingLimit:Ue,monthlySpending:ne,savingsFromRewards:V}},[e,i]),Ze=f.useMemo(()=>{let K=[...i];if(U.type!=="all"&&(K=K.filter(O=>U.type==="payments"?O.type==="payment":U.type==="refunds"?O.type==="refund":U.type==="fees"?O.type==="fee":U.type==="rewards"?O.type==="reward"||O.type==="cashback":U.type==="chargeback"?O.type==="chargeback":U.type==="dispute"?O.type==="dispute":!1)),U.status!=="all"&&(K=K.filter(O=>O.status===U.status)),U.method!=="all"&&(K=K.filter(O=>O.method===U.method)),U.amountRange[1]>0&&(K=K.filter(O=>Math.abs(O.amount)>=U.amountRange[0]&&Math.abs(O.amount)<=U.amountRange[1])),U.dateRange!=="all"){const O=new Date;let se;switch(U.dateRange){case"today":se=new Date(O.getFullYear(),O.getMonth(),O.getDate());break;case"week":se=new Date(O.getTime()-7*24*60*60*1e3);break;case"month":se=new Date(O.getFullYear(),O.getMonth(),1);break;case"quarter":se=new Date(O.getFullYear(),Math.floor(O.getMonth()/3)*3,1);break;case"year":se=new Date(O.getFullYear(),0,1);break;default:se=new Date(0)}K=K.filter(ce=>new Date(ce.date)>=se)}if(U.searchQuery){const O=U.searchQuery.toLowerCase();K=K.filter(se=>{var ce,ke,tt;return se.description.toLowerCase().includes(O)||se.id.toLowerCase().includes(O)||se.method.toLowerCase().includes(O)||((ce=se.bookingId)==null?void 0:ce.toLowerCase().includes(O))||((ke=se.invoiceId)==null?void 0:ke.toLowerCase().includes(O))||((tt=se.merchantInfo)==null?void 0:tt.name.toLowerCase().includes(O))})}return K.sort((O,se)=>{let ce=0;switch(U.sortBy){case"date":ce=new Date(O.date).getTime()-new Date(se.date).getTime();break;case"amount":ce=Math.abs(O.amount)-Math.abs(se.amount);break;case"status":ce=O.status.localeCompare(se.status);break;case"method":ce=O.method.localeCompare(se.method);break;case"type":ce=O.type.localeCompare(se.type);break}return U.sortOrder==="asc"?ce:-ce}),K},[i,U]),we=(K,O="INR")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:O,minimumFractionDigits:O==="INR"?0:2}).format(K),Le=K=>new Date(K).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),bt=K=>{const O=new Date(K),ce=new Date().getTime()-O.getTime(),ke=Math.floor(ce/(1e3*60*60*24));return ke===0?"Today":ke===1?"Yesterday":ke<7?`${ke} days ago`:ke<30?`${Math.floor(ke/7)} weeks ago`:ke<365?`${Math.floor(ke/30)} months ago`:`${Math.floor(ke/365)} years ago`},wt=K=>{n(O=>O.map(se=>({...se,isDefault:se.id===K})))},Et=K=>{T(K),x(!0)},gt=K=>{T(K),p(!0)},ge=K=>{T(K),v(!0)},J=()=>{_&&(n(K=>K.filter(O=>O.id!==_.id)),x(!1),T(null))},Ee=()=>{_&&A&&(n(K=>K.map(O=>O.id===_.id?{...O,isVerified:!0,metadata:{...O.metadata,lastVerificationDate:new Date().toISOString()}}:O)),v(!1),Z(""),T(null))},$e=K=>{F(K),N(!0)},vt=K=>{F(K),I(!0)},xt=()=>{$(!0)},At=()=>{S&&Q&&P&&(r(K=>K.map(O=>O.id===S.id?{...O,status:"disputed",disputeId:`DISP${Date.now()}`,updatedAt:new Date().toISOString(),notes:P}:O)),I(!1),q(""),G(""),F(null))};return a?t.jsx("div",{className:"profile-payments-advanced",children:t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading payment information..."})]})}):t.jsxs("div",{className:"profile-payments-advanced",children:[t.jsx("section",{className:"payments-header",children:t.jsxs("div",{className:"payments-header-content",children:[t.jsxs("div",{className:"payments-title-section",children:[t.jsx("h1",{className:"payments-title",children:"Payment Methods & Transactions"}),t.jsx("p",{className:"payments-subtitle",children:"Manage payment methods, view transactions, and track spending"})]}),t.jsxs("div",{className:"payments-header-actions",children:[t.jsxs("button",{className:"export-btn",onClick:xt,children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Export"})]}),t.jsxs("button",{className:"settings-btn",onClick:()=>k(!0),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Settings"})]}),t.jsxs("button",{className:"add-method-btn",onClick:()=>h(!0),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Add Payment Method"})]})]})]})}),t.jsx("section",{className:"payments-stats",children:t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card methods",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:Ie.totalMethods}),t.jsx("div",{className:"stat-label",children:"Payment Methods"}),t.jsx("div",{className:"stat-change",children:Ie.defaultMethod})]})]}),t.jsxs("div",{className:"stat-card spent",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:we(Ie.totalSpent)}),t.jsx("div",{className:"stat-label",children:"Total Spent"}),t.jsxs("div",{className:"stat-change",children:[Ie.thisMonthTransactions," this month"]})]})]}),t.jsxs("div",{className:"stat-card refunds",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:we(Ie.totalRefunds)}),t.jsx("div",{className:"stat-label",children:"Total Refunds"}),t.jsxs("div",{className:"stat-change",children:["From ",i.filter(K=>K.type==="refund").length," transactions"]})]})]}),t.jsxs("div",{className:"stat-card rewards",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:we(Ie.totalRewards)}),t.jsx("div",{className:"stat-label",children:"Cashback & Rewards"}),t.jsxs("div",{className:"stat-change",children:["Saved ",we(Ie.savingsFromRewards)]})]})]}),t.jsxs("div",{className:"stat-card pending",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:Ie.pendingTransactions}),t.jsx("div",{className:"stat-label",children:"Pending"}),t.jsx("div",{className:"stat-change",children:"Processing payments"})]})]}),t.jsxs("div",{className:"stat-card average",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:we(Ie.averageTransaction)}),t.jsx("div",{className:"stat-label",children:"Average Transaction"}),t.jsx("div",{className:"stat-change",children:Ie.mostUsedMethod})]})]})]})}),t.jsx("section",{className:"payments-tabs",children:t.jsx("div",{className:"tabs-navigation",children:["methods","transactions","analytics","settings"].map(K=>t.jsxs("button",{className:`tab-btn ${l===K?"active":""}`,onClick:()=>c(K),children:[t.jsx("span",{className:"tab-icon",children:K==="methods"?"":K==="transactions"?"":K==="analytics"?"":""}),t.jsx("span",{className:"tab-label",children:K.charAt(0).toUpperCase()+K.slice(1)})]},K))})}),l==="methods"&&t.jsxs("section",{className:"payment-methods-section",children:[t.jsxs("div",{className:"methods-header",children:[t.jsxs("div",{className:"methods-title",children:[t.jsx("h2",{children:"Your Payment Methods"}),t.jsx("p",{children:"Manage and organize your payment options"})]}),t.jsx("div",{className:"methods-actions",children:t.jsxs("div",{className:"view-toggle",children:[t.jsx("button",{className:`view-btn ${U.viewMode==="grid"?"active":""}`,children:t.jsx("span",{children:""})}),t.jsx("button",{className:`view-btn ${U.viewMode==="list"?"active":""}`,children:t.jsx("span",{children:""})})]})})]}),t.jsx("div",{className:`payment-methods-container ${U.viewMode}`,children:e.map(K=>{var O;return t.jsxs("div",{className:"payment-method-card",children:[t.jsxs("div",{className:"method-header",children:[t.jsxs("div",{className:"method-info",children:[t.jsx("div",{className:"method-icon",children:Ce[K.type].icon}),t.jsxs("div",{className:"method-details",children:[t.jsx("h3",{className:"method-name",children:K.name}),t.jsx("p",{className:"method-number",children:K.maskedDetails}),t.jsxs("div",{className:"method-meta",children:[K.isVerified&&t.jsx("span",{className:"verification-badge verified",children:" Verified"}),K.isDefault&&t.jsx("span",{className:"default-badge",children:"Default"}),K.lastUsed&&t.jsxs("span",{className:"last-used",children:["Used ",bt(K.lastUsed)]})]})]})]}),t.jsx("div",{className:"method-status",children:t.jsx("div",{className:`status-indicator ${K.isVerified?"verified":"unverified"}`,children:t.jsx("span",{className:"status-dot"})})})]}),t.jsxs("div",{className:"method-details-expanded",children:[K.expiryDate&&t.jsxs("div",{className:"method-detail",children:[t.jsx("span",{className:"detail-label",children:"Expires:"}),t.jsx("span",{className:"detail-value",children:K.expiryDate})]}),K.bankName&&t.jsxs("div",{className:"method-detail",children:[t.jsx("span",{className:"detail-label",children:"Bank:"}),t.jsx("span",{className:"detail-value",children:K.bankName})]}),((O=K.settings)==null?void 0:O.spendingLimit)&&t.jsxs("div",{className:"method-detail",children:[t.jsx("span",{className:"detail-label",children:"Spending Limit:"}),t.jsx("span",{className:"detail-value",children:we(K.settings.spendingLimit)})]}),t.jsxs("div",{className:"method-detail",children:[t.jsx("span",{className:"detail-label",children:"Added:"}),t.jsx("span",{className:"detail-value",children:Le(K.addedDate)})]})]}),t.jsxs("div",{className:"method-actions",children:[!K.isDefault&&t.jsx("button",{className:"action-btn default",onClick:()=>wt(K.id),children:"Set Default"}),!K.isVerified&&t.jsx("button",{className:"action-btn verify",onClick:()=>ge(K),children:"Verify"}),t.jsx("button",{className:"action-btn edit",onClick:()=>gt(K),children:"Edit"}),t.jsx("button",{className:"action-btn delete",onClick:()=>Et(K),children:"Delete"})]})]},K.id)})}),e.length===0&&t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:"No Payment Methods"}),t.jsx("p",{children:"Add a payment method to make booking payments easier"}),t.jsxs("button",{className:"add-method-btn",onClick:()=>h(!0),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Add Payment Method"})]})]})]}),l==="transactions"&&t.jsxs("section",{className:"transactions-section",children:[t.jsxs("div",{className:"transactions-header",children:[t.jsxs("div",{className:"transactions-title",children:[t.jsx("h2",{children:"Transaction History"}),t.jsx("p",{children:"View and manage all your payment transactions"})]}),t.jsxs("div",{className:"transactions-filters",children:[t.jsx("div",{className:"filter-group",children:t.jsxs("select",{value:U.type,onChange:K=>re({...U,type:K.target.value}),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"payments",children:"Payments"}),t.jsx("option",{value:"refunds",children:"Refunds"}),t.jsx("option",{value:"fees",children:"Fees"}),t.jsx("option",{value:"rewards",children:"Rewards"}),t.jsx("option",{value:"chargeback",children:"Chargebacks"}),t.jsx("option",{value:"dispute",children:"Disputes"})]})}),t.jsx("div",{className:"filter-group",children:t.jsxs("select",{value:U.status,onChange:K=>re({...U,status:K.target.value}),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"processing",children:"Processing"})]})}),t.jsx("div",{className:"filter-group",children:t.jsxs("select",{value:U.dateRange,onChange:K=>re({...U,dateRange:K.target.value}),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"today",children:"Today"}),t.jsx("option",{value:"week",children:"This Week"}),t.jsx("option",{value:"month",children:"This Month"}),t.jsx("option",{value:"quarter",children:"This Quarter"}),t.jsx("option",{value:"year",children:"This Year"})]})}),t.jsxs("div",{className:"search-group",children:[t.jsx("input",{type:"text",placeholder:"Search transactions...",value:U.searchQuery,onChange:K=>re({...U,searchQuery:K.target.value}),className:"search-input"}),t.jsx("span",{className:"search-icon",children:""})]})]})]}),t.jsx("div",{className:"transactions-list",children:Ze.map(K=>t.jsxs("div",{className:"transaction-card",children:[t.jsxs("div",{className:"transaction-header",children:[t.jsxs("div",{className:"transaction-info",children:[t.jsxs("div",{className:"transaction-amount",children:[t.jsx("span",{className:"amount-symbol",children:K.type==="refund"?"+":"-"}),t.jsx("span",{className:"amount-value",children:we(Math.abs(K.amount))}),K.originalAmount&&K.originalAmount!==Math.abs(K.amount)&&t.jsx("span",{className:"original-amount",children:we(K.originalAmount)})]}),t.jsxs("div",{className:"transaction-details",children:[t.jsx("h4",{className:"transaction-description",children:K.description}),t.jsxs("div",{className:"transaction-meta",children:[t.jsx("span",{className:"transaction-date",children:Le(K.date)}),t.jsx("span",{className:"transaction-method",children:K.method}),K.bookingId&&t.jsx(he,{to:"/profile/bookings",className:"booking-link",children:"View Booking"})]})]})]}),t.jsx("div",{className:"transaction-status",children:t.jsxs("span",{className:`status-badge status-${K.status}`,style:{"--status-color":Fe[K.status].color},children:[t.jsx("span",{className:"status-icon",children:Fe[K.status].icon}),t.jsx("span",{className:"status-text",children:Fe[K.status].label})]})})]}),t.jsxs("div",{className:"transaction-footer",children:[t.jsxs("div",{className:"transaction-type",children:[t.jsx("span",{className:"type-icon",children:Me[K.type].icon}),t.jsx("span",{className:"type-label",children:Me[K.type].label})]}),t.jsxs("div",{className:"transaction-actions",children:[t.jsx("button",{className:"action-btn details",onClick:()=>$e(K),children:"View Details"}),K.status==="completed"&&K.type==="payment"&&t.jsx("button",{className:"action-btn dispute",onClick:()=>vt(K),children:"Dispute"}),K.receiptId&&t.jsx("button",{className:"action-btn invoice",children:"Download Invoice"})]})]}),(K.fees||K.taxes||K.rewards)&&t.jsxs("div",{className:"transaction-breakdown",children:[K.fees&&t.jsxs("div",{className:"breakdown-item",children:[t.jsx("span",{className:"breakdown-label",children:"Fees:"}),t.jsx("span",{className:"breakdown-value",children:we(K.fees.total)})]}),K.taxes&&t.jsxs("div",{className:"breakdown-item",children:[t.jsx("span",{className:"breakdown-label",children:"Taxes:"}),t.jsx("span",{className:"breakdown-value",children:we(K.taxes.total)})]}),K.rewards&&t.jsxs("div",{className:"breakdown-item reward",children:[t.jsx("span",{className:"breakdown-label",children:"Cashback:"}),t.jsxs("span",{className:"breakdown-value",children:["-",we(K.rewards.cashback)]})]})]})]},K.id))}),Ze.length===0&&t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:"No Transactions Found"}),t.jsx("p",{children:U.searchQuery||U.type!=="all"||U.status!=="all"?"Try adjusting your filters or search terms.":"You haven't made any transactions yet."})]})]}),l==="analytics"&&t.jsxs("section",{className:"analytics-section",children:[t.jsxs("div",{className:"analytics-header",children:[t.jsx("h2",{children:"Payment Analytics"}),t.jsx("p",{children:"Insights and trends in your payment activity"})]}),t.jsx("div",{className:"analytics-content",children:t.jsxs("div",{className:"analytics-grid",children:[t.jsxs("div",{className:"analytics-card spending-trend",children:[t.jsx("h3",{children:"Spending Trend"}),t.jsx("div",{className:"chart-placeholder",children:t.jsx("p",{children:" Spending over time chart"})})]}),t.jsxs("div",{className:"analytics-card payment-methods",children:[t.jsx("h3",{children:"Payment Methods Usage"}),t.jsx("div",{className:"chart-placeholder",children:t.jsx("p",{children:" Method distribution chart"})})]}),t.jsxs("div",{className:"analytics-card category-breakdown",children:[t.jsx("h3",{children:"Spending by Category"}),t.jsx("div",{className:"chart-placeholder",children:t.jsx("p",{children:" Category pie chart"})})]}),t.jsxs("div",{className:"analytics-card savings",children:[t.jsx("h3",{children:"Savings & Rewards"}),t.jsxs("div",{className:"savings-summary",children:[t.jsxs("div",{className:"savings-item",children:[t.jsx("span",{className:"savings-label",children:"Total Cashback:"}),t.jsx("span",{className:"savings-value",children:we(Ie.totalRewards)})]}),t.jsxs("div",{className:"savings-item",children:[t.jsx("span",{className:"savings-label",children:"Discounts Used:"}),t.jsx("span",{className:"savings-value",children:we(1200)})]}),t.jsxs("div",{className:"savings-item",children:[t.jsx("span",{className:"savings-label",children:"Total Savings:"}),t.jsx("span",{className:"savings-value",children:we(Ie.totalRewards+1200)})]})]})]})]})})]}),l==="settings"&&t.jsxs("section",{className:"settings-section",children:[t.jsxs("div",{className:"settings-header",children:[t.jsx("h2",{children:"Payment Settings"}),t.jsx("p",{children:"Configure your payment preferences and security"})]}),t.jsxs("div",{className:"settings-content",children:[t.jsxs("div",{className:"settings-group",children:[t.jsx("h3",{children:"Security Settings"}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("label",{className:"setting-label",children:[t.jsx("input",{type:"checkbox",defaultChecked:!0}),t.jsx("span",{children:"Two-factor authentication"})]}),t.jsx("p",{className:"setting-description",children:"Add an extra layer of security to your payments"})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("label",{className:"setting-label",children:[t.jsx("input",{type:"checkbox",defaultChecked:!0}),t.jsx("span",{children:"Payment verification"})]}),t.jsx("p",{className:"setting-description",children:"Require verification for large transactions"})]})]}),t.jsxs("div",{className:"settings-group",children:[t.jsx("h3",{children:"Notifications"}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("label",{className:"setting-label",children:[t.jsx("input",{type:"checkbox",defaultChecked:!0}),t.jsx("span",{children:"Payment confirmations"})]}),t.jsx("p",{className:"setting-description",children:"Get notified when payments are processed"})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("label",{className:"setting-label",children:[t.jsx("input",{type:"checkbox",defaultChecked:!0}),t.jsx("span",{children:"Failed payment alerts"})]}),t.jsx("p",{className:"setting-description",children:"Alert when payments fail"})]})]}),t.jsxs("div",{className:"settings-group",children:[t.jsx("h3",{children:"Auto-Pay Settings"}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("label",{className:"setting-label",children:[t.jsx("input",{type:"checkbox"}),t.jsx("span",{children:"Enable auto-pay"})]}),t.jsx("p",{className:"setting-description",children:"Automatically pay recurring bookings"})]}),t.jsx("div",{className:"setting-item",children:t.jsxs("label",{className:"setting-label",children:[t.jsx("span",{children:"Default payment method:"}),t.jsx("select",{className:"setting-select",children:e.map(K=>t.jsx("option",{value:K.id,children:K.name},K.id))})]})})]})]})]}),d&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Add Payment Method"}),t.jsx("button",{onClick:()=>h(!1),className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{className:"method-types",children:Object.entries(Ce).map(([K,O])=>t.jsxs("button",{className:`method-type-btn ${L===K?"selected":""}`,onClick:()=>oe(K),children:[t.jsx("span",{className:"method-icon",children:O.icon}),t.jsxs("div",{className:"method-info",children:[t.jsx("span",{className:"method-name",children:O.label}),t.jsx("span",{className:"method-description",children:O.description})]})]},K))}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{onClick:()=>h(!1),className:"btn-secondary",children:"Cancel"}),t.jsxs("button",{className:"btn-primary",children:["Continue with ",Ce[L].label]})]})]})]})}),g&&_&&t.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:t.jsxs("div",{className:"modal-content",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Delete Payment Method"}),t.jsx("button",{onClick:()=>x(!1),className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"warning-message",children:[t.jsx("p",{children:"Are you sure you want to delete this payment method?"}),t.jsxs("div",{className:"method-summary",children:[t.jsx("h4",{children:_.name}),t.jsx("p",{children:_.maskedDetails})]}),t.jsx("p",{className:"warning-text",children:"This action cannot be undone. Any recurring payments using this method will be cancelled."})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{onClick:()=>x(!1),className:"btn-secondary",children:"Cancel"}),t.jsx("button",{onClick:J,className:"btn-danger",children:"Delete Payment Method"})]})]})]})}),j&&_&&t.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:t.jsxs("div",{className:"modal-content",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Verify Payment Method"}),t.jsx("button",{onClick:()=>v(!1),className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"verification-info",children:[t.jsx("p",{children:"Enter the verification code sent to your registered device"}),t.jsxs("div",{className:"method-summary",children:[t.jsx("h4",{children:_.name}),t.jsx("p",{children:_.maskedDetails})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Verification Code"}),t.jsx("input",{type:"text",value:A,onChange:K=>Z(K.target.value),placeholder:"Enter 6-digit code",maxLength:6,className:"form-input"})]}),t.jsx("div",{className:"resend-section",children:t.jsx("button",{className:"resend-btn",children:"Resend Code"})}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{onClick:()=>v(!1),className:"btn-secondary",children:"Cancel"}),t.jsx("button",{onClick:Ee,className:"btn-primary",disabled:A.length!==6,children:"Verify"})]})]})]})}),b&&S&&t.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:t.jsxs("div",{className:"modal-content large",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Transaction Details"}),t.jsx("button",{onClick:()=>N(!1),className:"close-btn",children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"transaction-details-full",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Transaction Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Transaction ID:"}),t.jsx("span",{children:S.id})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Date:"}),t.jsx("span",{children:Le(S.date)})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Description:"}),t.jsx("span",{children:S.description})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Amount:"}),t.jsx("span",{children:we(S.amount)})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:`status-badge status-${S.status}`,children:Fe[S.status].label})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Payment Method:"}),t.jsx("span",{children:S.method})]})]})]}),S.merchantInfo&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Merchant Information"}),t.jsxs("div",{className:"merchant-details",children:[S.merchantInfo.logo&&t.jsx("img",{src:S.merchantInfo.logo,alt:"Merchant",className:"merchant-logo"}),t.jsxs("div",{className:"merchant-info",children:[t.jsx("h4",{children:S.merchantInfo.name}),t.jsx("p",{children:S.merchantInfo.category}),S.merchantInfo.gstNumber&&t.jsxs("p",{children:["GST: ",S.merchantInfo.gstNumber]})]})]})]}),S.fees&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Fee Breakdown"}),t.jsxs("div",{className:"fee-breakdown",children:[t.jsxs("div",{className:"fee-item",children:[t.jsx("span",{children:"Processing Fee:"}),t.jsx("span",{children:we(S.fees.processing)})]}),t.jsxs("div",{className:"fee-item",children:[t.jsx("span",{children:"Platform Fee:"}),t.jsx("span",{children:we(S.fees.platform)})]}),t.jsxs("div",{className:"fee-item",children:[t.jsx("span",{children:"Gateway Fee:"}),t.jsx("span",{children:we(S.fees.gateway)})]}),t.jsxs("div",{className:"fee-item total",children:[t.jsx("span",{children:"Total Fees:"}),t.jsx("span",{children:we(S.fees.total)})]})]})]}),S.rewards&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Rewards Earned"}),t.jsxs("div",{className:"rewards-breakdown",children:[t.jsxs("div",{className:"reward-item",children:[t.jsx("span",{children:"Cashback:"}),t.jsx("span",{children:we(S.rewards.cashback)})]}),t.jsxs("div",{className:"reward-item",children:[t.jsx("span",{children:"Loyalty Points:"}),t.jsxs("span",{children:[S.rewards.points," points"]})]}),S.rewards.coupons.length>0&&t.jsxs("div",{className:"reward-item",children:[t.jsx("span",{children:"Coupons Earned:"}),t.jsx("span",{children:S.rewards.coupons.join(", ")})]})]})]})]})})]})}),C&&S&&t.jsx("div",{className:"modal-overlay",onClick:()=>I(!1),children:t.jsxs("div",{className:"modal-content",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Dispute Transaction"}),t.jsx("button",{onClick:()=>I(!1),className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"dispute-info",children:[t.jsx("p",{children:"Why are you disputing this transaction?"}),t.jsxs("div",{className:"transaction-summary",children:[t.jsx("h4",{children:S.description}),t.jsx("p",{children:we(S.amount)}),t.jsx("p",{children:Le(S.date)})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Dispute Reason *"}),t.jsxs("select",{value:Q,onChange:K=>q(K.target.value),className:"form-select",children:[t.jsx("option",{value:"",children:"Select a reason"}),t.jsx("option",{value:"service_not_provided",children:"Service not provided"}),t.jsx("option",{value:"quality_issue",children:"Quality issue"}),t.jsx("option",{value:"overcharged",children:"Overcharged"}),t.jsx("option",{value:"duplicate_charge",children:"Duplicate charge"}),t.jsx("option",{value:"unauthorized",children:"Unauthorized charge"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description *"}),t.jsx("textarea",{value:P,onChange:K=>G(K.target.value),placeholder:"Please provide details about your dispute...",rows:4,className:"form-textarea"})]}),t.jsx("div",{className:"disclaimer",children:t.jsx("p",{children:"By submitting this dispute, you agree to our dispute resolution process. This may temporarily refund the amount while we investigate."})}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{onClick:()=>I(!1),className:"btn-secondary",children:"Cancel"}),t.jsx("button",{onClick:At,className:"btn-primary",disabled:!Q||!P.trim(),children:"Submit Dispute"})]})]})]})}),D&&t.jsx("div",{className:"modal-overlay",onClick:()=>$(!1),children:t.jsxs("div",{className:"modal-content",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Export Transactions"}),t.jsx("button",{onClick:()=>$(!1),className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"export-options",children:[t.jsx("h3",{children:"Select Export Format"}),t.jsxs("div",{className:"format-options",children:[t.jsxs("label",{className:"format-option",children:[t.jsx("input",{type:"radio",name:"format",value:"pdf",checked:W==="pdf",onChange:K=>xe(K.target.value)}),t.jsx("span",{className:"format-icon",children:""}),t.jsxs("div",{className:"format-info",children:[t.jsx("span",{className:"format-name",children:"PDF"}),t.jsx("span",{className:"format-description",children:"Best for printing and sharing"})]})]}),t.jsxs("label",{className:"format-option",children:[t.jsx("input",{type:"radio",name:"format",value:"excel",checked:W==="excel",onChange:K=>xe(K.target.value)}),t.jsx("span",{className:"format-icon",children:""}),t.jsxs("div",{className:"format-info",children:[t.jsx("span",{className:"format-name",children:"Excel"}),t.jsx("span",{className:"format-description",children:"Best for data analysis"})]})]}),t.jsxs("label",{className:"format-option",children:[t.jsx("input",{type:"radio",name:"format",value:"csv",checked:W==="csv",onChange:K=>xe(K.target.value)}),t.jsx("span",{className:"format-icon",children:""}),t.jsxs("div",{className:"format-info",children:[t.jsx("span",{className:"format-name",children:"CSV"}),t.jsx("span",{className:"format-description",children:"Best for importing to other systems"})]})]})]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{onClick:()=>$(!1),className:"btn-secondary",children:"Cancel"}),t.jsxs("button",{onClick:()=>{},className:"btn-primary",children:["Export as ",W.toUpperCase()]})]})]})]})})]})}function i$(){const[s,e]=f.useState(null),[n,i]=f.useState([]),[r,a]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState("my-reviews"),[h,m]=f.useState({totalReviews:0,averageRating:0,fiveStarReviews:0,recentReviews:0});f.useEffect(()=>{const x=Fs.onAuthStateChanged(j=>{if(j){e(j);const v=[{id:"r1",bookingId:"b2",service:"Home Cleaning",provider:"Jane Smith",rating:5,comment:"Excellent service! Jane was very professional and thorough. The house looks amazing after the cleaning. Highly recommend!",date:"2024-11-20",helpful:12,response:{comment:"Thank you so much for your kind words! It was a pleasure working with you.",date:"2024-11-21"}},{id:"r2",bookingId:"b3",service:"Plumbing Service",provider:"Mike Johnson",rating:4,comment:"Good work overall. Mike fixed the plumbing issue quickly and efficiently. The only reason for 4 stars is that he was a bit late.",date:"2024-11-15",helpful:8},{id:"r3",bookingId:"b1",service:"AC Repair Service",provider:"John Doe",rating:5,comment:"John did an excellent job repairing my AC. He was knowledgeable, professional, and the price was reasonable.",date:"2024-11-10",helpful:15}],b=[{id:"pr1",customerName:"Sarah Johnson",service:"Web Development",rating:5,comment:"Amazing developer! Delivered the project on time and exceeded expectations. Communication was excellent throughout.",date:"2024-11-18",helpful:23},{id:"pr2",customerName:"Raj Kumar",service:"Mobile App Development",rating:4,comment:"Good work on the app development. Minor issues were addressed quickly. Would work with again.",date:"2024-11-12",helpful:18},{id:"pr3",customerName:"Emily Davis",service:"UI/UX Design",rating:5,comment:"Incredible design work! Really captured our brand essence perfectly. Highly creative and professional.",date:"2024-11-08",helpful:31},{id:"pr4",customerName:"Amit Singh",service:"Web Development",rating:5,comment:"Excellent technical skills and problem-solving ability. Delivered exactly what we needed.",date:"2024-11-05",helpful:19}];i(v),a(b);const N=[...v,...b],C=N.length,I=N.reduce((E,k)=>E+k.rating,0)/C,D=N.filter(E=>E.rating===5).length,$=N.filter(E=>{const k=new Date(E.date),_=new Date;return _.setDate(_.getDate()-30),k>=_}).length;m({totalReviews:C,averageRating:I,fiveStarReviews:D,recentReviews:$})}l(!1)});return()=>x()},[]);const p=x=>Array.from({length:5},(j,v)=>t.jsx("span",{className:`star ${v<x?"filled":"empty"}`,children:""},v)),g=(x,j)=>{j==="my"?i(v=>v.map(b=>b.id===x?{...b,helpful:b.helpful+1}:b)):a(v=>v.map(b=>b.id===x?{...b,helpful:b.helpful+1}:b))};return o?t.jsx("div",{className:"profile-reviews",children:t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner",children:""}),t.jsx("p",{children:"Loading reviews..."})]})}):t.jsx("div",{className:"profile-reviews",children:t.jsxs("div",{className:"page-container",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{children:"Reviews & Ratings"}),t.jsx("p",{children:"Manage your reviews and see feedback from customers"})]}),t.jsxs("div",{className:"reviews-stats",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:h.totalReviews}),t.jsx("div",{className:"stat-label",children:"Total Reviews"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:h.averageRating.toFixed(1)}),t.jsx("div",{className:"stat-label",children:"Average Rating"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:h.fiveStarReviews}),t.jsx("div",{className:"stat-label",children:"5-Star Reviews"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:h.recentReviews}),t.jsx("div",{className:"stat-label",children:"Recent Reviews"})]})]}),t.jsxs("div",{className:"review-tabs",children:[t.jsxs("button",{className:`tab-btn ${c==="my-reviews"?"active":""}`,onClick:()=>d("my-reviews"),children:["My Reviews (",n.length,")"]}),t.jsxs("button",{className:`tab-btn ${c==="provider-reviews"?"active":""}`,onClick:()=>d("provider-reviews"),children:["Customer Reviews (",r.length,")"]})]}),c==="my-reviews"&&t.jsxs("div",{className:"tab-content",children:[t.jsxs("div",{className:"reviews-header",children:[t.jsx("h2",{children:"Reviews I've Written"}),t.jsx("p",{children:"Your feedback helps service providers improve their services"})]}),n.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:"No Reviews Yet"}),t.jsx("p",{children:"Start reviewing services you've used to help others make informed decisions"}),t.jsx(he,{to:"/bookings",className:"btn-primary",children:"View Completed Bookings"})]}):t.jsx("div",{className:"reviews-list",children:n.map(x=>t.jsxs("div",{className:"review-card",children:[t.jsxs("div",{className:"review-header",children:[t.jsxs("div",{className:"review-service",children:[t.jsx("h3",{children:x.service}),t.jsxs("p",{className:"provider-name",children:["with ",x.provider]})]}),t.jsxs("div",{className:"review-rating",children:[p(x.rating),t.jsxs("span",{className:"rating-number",children:[x.rating,".0"]})]})]}),t.jsx("div",{className:"review-content",children:t.jsx("p",{className:"review-comment",children:x.comment})}),t.jsxs("div",{className:"review-meta",children:[t.jsx("span",{className:"review-date",children:x.date}),t.jsxs("div",{className:"review-actions",children:[t.jsxs("button",{className:"helpful-btn",onClick:()=>g(x.id,"my"),children:[" Helpful (",x.helpful,")"]}),t.jsx(he,{to:`/bookings/${x.bookingId}`,className:"booking-link",children:"View Booking"})]})]}),x.response&&t.jsxs("div",{className:"provider-response",children:[t.jsxs("div",{className:"response-header",children:[t.jsx("span",{className:"response-label",children:"Provider Response"}),t.jsx("span",{className:"response-date",children:x.response.date})]}),t.jsx("p",{className:"response-comment",children:x.response.comment})]})]},x.id))})]}),c==="provider-reviews"&&t.jsxs("div",{className:"tab-content",children:[t.jsxs("div",{className:"reviews-header",children:[t.jsx("h2",{children:"Customer Reviews"}),t.jsx("p",{children:"Feedback from customers about your services"})]}),r.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:"No Customer Reviews Yet"}),t.jsx("p",{children:"Complete bookings to start receiving reviews from customers"}),t.jsx(he,{to:"/provider",className:"btn-primary",children:"Manage Services"})]}):t.jsx("div",{className:"reviews-list",children:r.map(x=>t.jsxs("div",{className:"review-card",children:[t.jsxs("div",{className:"review-header",children:[t.jsxs("div",{className:"customer-info",children:[t.jsx("div",{className:"customer-avatar",children:x.customerAvatar?t.jsx("img",{src:x.customerAvatar,alt:x.customerName}):t.jsx("span",{className:"avatar-fallback",children:x.customerName.charAt(0).toUpperCase()})}),t.jsxs("div",{className:"customer-details",children:[t.jsx("h4",{className:"customer-name",children:x.customerName}),t.jsx("p",{className:"service-name",children:x.service})]})]}),t.jsxs("div",{className:"review-rating",children:[p(x.rating),t.jsxs("span",{className:"rating-number",children:[x.rating,".0"]})]})]}),t.jsx("div",{className:"review-content",children:t.jsx("p",{className:"review-comment",children:x.comment})}),t.jsxs("div",{className:"review-meta",children:[t.jsx("span",{className:"review-date",children:x.date}),t.jsxs("div",{className:"review-actions",children:[t.jsxs("button",{className:"helpful-btn",onClick:()=>g(x.id,"provider"),children:[" Helpful (",x.helpful,")"]}),t.jsx("button",{className:"btn-secondary",children:" Respond"})]})]})]},x.id))})]}),t.jsxs("div",{className:"rating-distribution",children:[t.jsx("h3",{children:"Rating Distribution"}),t.jsx("div",{className:"distribution-chart",children:[5,4,3,2,1].map(x=>{const j=[...n,...r].filter(b=>b.rating===x).length,v=j/[...n,...r].length*100;return t.jsxs("div",{className:"rating-bar",children:[t.jsxs("span",{className:"rating-label",children:[x," "]}),t.jsx("div",{className:"bar-container",children:t.jsx("div",{className:"bar-fill",style:{width:`${v}%`}})}),t.jsx("span",{className:"rating-count",children:j})]},x)})})]})]})})}const to={all:{label:"All Categories",icon:"",color:"#6b7280"},cleaning:{label:"Cleaning",icon:"",color:"#10b981"},plumbing:{label:"Plumbing",icon:"",color:"#3b82f6"},electrical:{label:"Electrical",icon:"",color:"#f59e0b"},ac:{label:"AC Repair",icon:"",color:"#06b6d4"},mechanic:{label:"Mechanic",icon:"",color:"#ef4444"},tutor:{label:"Tutor",icon:"",color:"#8b5cf6"},appliance:{label:"Appliance",icon:"",color:"#f97316"},painting:{label:"Painting",icon:"",color:"#ec4899"},carpentry:{label:"Carpentry",icon:"",color:"#84cc16"},pest:{label:"Pest Control",icon:"",color:"#a855f7"},landscaping:{label:"Landscaping",icon:"",color:"#22c55e"}},so={positive:{label:"Positive",color:"#10b981",icon:"",gradient:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},neutral:{label:"Neutral",color:"#6b7280",icon:"",gradient:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)"},negative:{label:"Negative",color:"#ef4444",icon:"",gradient:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)"}},Df={dateRange:[{value:"all",label:"All Time",icon:""},{value:"today",label:"Today",icon:""},{value:"week",label:"This Week",icon:""},{value:"month",label:"This Month",icon:""},{value:"quarter",label:"This Quarter",icon:""},{value:"year",label:"This Year",icon:""}],sortBy:[{value:"date",label:"Date",icon:""},{value:"rating",label:"Rating",icon:""},{value:"helpful",label:"Helpful",icon:""},{value:"category",label:"Category",icon:""},{value:"sentiment",label:"Sentiment",icon:""},{value:"price",label:"Price",icon:""},{value:"response",label:"Response Time",icon:""}],viewMode:[{value:"list",label:"List View",icon:""},{value:"grid",label:"Grid View",icon:""},{value:"cards",label:"Card View",icon:""},{value:"compact",label:"Compact",icon:""}]};function r$(){Ct();const{user:s}=vi(),[e,n]=f.useState([]),[i,r]=f.useState([]),[a,o]=f.useState(!0),[l,c]=f.useState("my-reviews"),[d,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[j,v]=f.useState(!1),[b,N]=f.useState(!1),[C,I]=f.useState(!1),[D,$]=f.useState(!1),[E,k]=f.useState(!1),[_,T]=f.useState(!1),[S,F]=f.useState(!1),[L,oe]=f.useState(!1),[A,Z]=f.useState(new Set),[Q,q]=f.useState(null),[P,G]=f.useState(!1),[U,re]=f.useState(""),[W,xe]=f.useState({query:"",categories:[],ratings:[],sentiments:[],priceRanges:[],dateRange:"all",hasPhotos:!1,hasResponse:!1,verified:!1,status:[]}),[Ce,Fe]=f.useState(null),[Me,Ie]=f.useState([]),[Ze,we]=f.useState(0),[Le,bt]=f.useState(!0),[wt,Et]=f.useState(!1),[gt,ge]=f.useState(!0),[J,Ee]=f.useState(!0),[$e,vt]=f.useState(!1),[xt,At]=f.useState(3e4),[K,O]=f.useState({format:"csv",dateRange:"all",includeFields:["id","rating","title","comment","createdAt"],includeAnalytics:!0,includePhotos:!1,includeResponses:!0}),[se,ce]=f.useState({newReviews:!0,responses:!0,flaggedReviews:!0,weeklyReports:!0,monthlyReports:!1,aiInsights:!0,performanceAlerts:!0}),[ke,tt]=f.useState({autoCategorize:!0,sentimentAnalysis:!0,spamDetection:!0,responseSuggestions:!0,insightGeneration:!0,trendAnalysis:!0}),[yt,ht]=f.useState(null),[V,ee]=f.useState(new Set),[de,We]=f.useState({rating:0,title:"",comment:"",pros:[],cons:[],tags:[],photos:[],valueForMoney:5,quality:5,punctuality:5,professionalism:5,communication:5,wouldRecommend:!0,wouldHireAgain:!0}),[jt,B]=f.useState(""),[z,ye]=f.useState(""),[pe,it]=f.useState(""),[ie,st]=f.useState({rating:0,category:"all",sentiment:"all",status:"all",dateRange:"all",hasResponse:!1,hasPhotos:!1,verified:!1,sortBy:"date",sortOrder:"desc",viewMode:"list",priceRanges:[],subcategories:[],tags:[],reviewerType:[],source:[],minRating:0,maxRating:5,minHelpful:0,hasPros:!1,hasCons:!1,hasTags:!1,responseTime:"normal",engagement:"medium",aiSentiment:[],verifiedOnly:!1,flaggedOnly:!1,respondedOnly:!1,pendingOnly:!1});f.useEffect(()=>{s&&(async()=>{o(!0);const H=[{id:"r001",bookingId:"BK001",serviceId:"svc001",serviceName:"Complete Home Deep Cleaning",providerId:"prov001",providerName:"Sparkle Clean Pro",providerPhoto:"https://picsum.photos/100/100?random=1",providerRating:4.8,rating:5,title:"Absolutely Amazing Deep Cleaning Service!",comment:"I hired Sparkle Clean Pro for a complete deep cleaning of my 3BHK apartment, and I must say it exceeded all my expectations. The team was punctual, professional, and incredibly thorough.",pros:["Extremely thorough and detailed cleaning","Professional and punctual team","Eco-friendly cleaning products","Great value for money"],cons:["Slightly longer than estimated time","Could have brought more cleaning cloths"],tags:["deep-cleaning","eco-friendly","professional","thorough"],photos:["https://picsum.photos/400/300?random=101","https://picsum.photos/400/300?random=102"],verified:!0,helpful:24,notHelpful:1,reportCount:0,response:{id:"resp001",comment:"Thank you so much for your wonderful review! We are thrilled that you loved our deep cleaning service.",date:"2024-11-21T10:30:00",helpful:12,professional:!0,responseTime:45,sentiment:"positive"},status:"published",visibility:"public",sentiment:"positive",category:"cleaning",subcategory:"deep cleaning",priceRange:"moderate",valueForMoney:5,quality:5,punctuality:4,professionalism:5,communication:5,wouldRecommend:!0,wouldHireAgain:!0,createdAt:"2024-11-20T18:30:00",updatedAt:"2024-11-20T18:30:00",publishedAt:"2024-11-20T18:35:00",lastActivityAt:"2024-11-21T10:30:00",metadata:{ipAddress:"192.168.1.1",device:"Mobile App",location:"Gurgaon, India",bookingValue:2499,serviceDuration:240,timeOfDay:"evening",reviewerType:"repeat",source:"mobile",campaign:"summer_special"},aiInsights:{sentiment:"positive",confidence:.95,keyPhrases:["deep cleaning","professional team","eco-friendly"],emotions:["satisfied","impressed","happy"],topics:["service quality","professionalism","environmental concerns"],improvementSuggestions:["Consider bringing extra supplies","Improve time estimation"]},engagement:{views:156,shares:12,bookmarks:8,clickThroughRate:.08}},{id:"r002",bookingId:"BK002",serviceId:"svc002",serviceName:"Emergency AC Repair",providerId:"prov002",providerName:"CoolAir Experts",providerPhoto:"https://picsum.photos/100/100?random=2",providerRating:4.9,rating:4,title:"Quick and Professional AC Service",comment:"My AC stopped working during peak summer. CoolAir Experts responded within 2 hours and fixed the issue efficiently. Very professional service.",pros:["Fast emergency response","Professional diagnosis","Clean workmanship","Reasonable pricing"],cons:["Emergency call fee was high","Had to wait 2 hours"],tags:["emergency","ac-repair","professional","quick-response"],photos:["https://picsum.photos/400/300?random=103"],verified:!0,helpful:18,notHelpful:2,reportCount:0,response:{id:"resp002",comment:"Thank you for your feedback! We understand emergency fees can be high, but we ensure rapid response during critical times.",date:"2024-11-19T14:15:00",helpful:8,professional:!0,responseTime:120,sentiment:"positive"},status:"published",visibility:"public",sentiment:"positive",category:"ac",subcategory:"emergency repair",priceRange:"premium",valueForMoney:4,quality:4,punctuality:5,professionalism:4,communication:4,wouldRecommend:!0,wouldHireAgain:!0,createdAt:"2024-11-18T16:45:00",updatedAt:"2024-11-18T16:45:00",publishedAt:"2024-11-18T16:50:00",lastActivityAt:"2024-11-19T14:15:00",metadata:{ipAddress:"192.168.1.2",device:"Web Browser",location:"Delhi, India",bookingValue:3499,serviceDuration:90,weatherConditions:"heat-wave",timeOfDay:"evening",reviewerType:"new",source:"web",referral:"google_search"},aiInsights:{sentiment:"positive",confidence:.88,keyPhrases:["emergency response","professional service","quick fix"],emotions:["relieved","satisfied","grateful"],topics:["emergency service","pricing","response time"],improvementSuggestions:["Consider tiered emergency pricing","Improve communication about delays"]},engagement:{views:89,shares:6,bookmarks:4,clickThroughRate:.12}},{id:"r003",bookingId:"BK003",serviceId:"svc003",serviceName:"Plumbing Installation",providerId:"prov003",providerName:"QuickFix Pro",providerPhoto:"https://picsum.photos/100/100?random=3",providerRating:4.6,rating:3,title:"Average Service with Delays",comment:"The plumbing work was acceptable but there were significant delays. The final result works fine but the process was frustrating.",pros:["Final installation works correctly","Reasonable pricing","Clean work area"],cons:["Significant delays","Poor communication about delays","Had to call multiple times"],tags:["plumbing","installation","delays","communication"],photos:["https://picsum.photos/400/300?random=104","https://picsum.photos/400/300?random=105"],verified:!0,helpful:12,notHelpful:8,reportCount:1,response:{id:"resp003",comment:"We apologize for the delays and communication issues. We are working on improving our scheduling and notification systems.",date:"2024-11-17T11:30:00",helpful:5,professional:!0,responseTime:240,sentiment:"neutral"},status:"published",visibility:"public",sentiment:"neutral",category:"plumbing",subcategory:"installation",priceRange:"moderate",valueForMoney:3,quality:3,punctuality:2,professionalism:3,communication:2,wouldRecommend:!1,wouldHireAgain:!1,createdAt:"2024-11-16T09:20:00",updatedAt:"2024-11-16T09:20:00",publishedAt:"2024-11-16T09:25:00",lastActivityAt:"2024-11-17T11:30:00",metadata:{ipAddress:"192.168.1.3",device:"Mobile App",location:"Mumbai, India",bookingValue:1899,serviceDuration:180,timeOfDay:"morning",reviewerType:"new",source:"mobile"},aiInsights:{sentiment:"neutral",confidence:.76,keyPhrases:["delays","communication issues","final result"],emotions:["frustrated","disappointed","neutral"],topics:["service delays","communication","quality"],improvementSuggestions:["Improve scheduling system","Better communication about delays","Proactive updates"]},engagement:{views:67,shares:2,bookmarks:1,clickThroughRate:.05}}],be=[{id:"cr001",bookingId:"B1001",customerId:"cust001",customerName:"Sarah Johnson",customerAvatar:"https://picsum.photos/100/100?random=10",customerRating:4.7,customerVerified:!0,serviceId:"svc101",serviceName:"Web Development",rating:5,title:"Exceptional Developer - Exceeded All Expectations!",comment:"I hired this developer for a complex e-commerce website project, and the results were absolutely outstanding.",pros:["Exceptional code quality","Outstanding communication","Delivered on time and budget"],cons:["Initial proposal could have been more detailed"],tags:["web-development","ecommerce","professional"],photos:["https://picsum.photos/400/300?random=201"],helpful:28,notHelpful:1,reportCount:0,response:{id:"cresp001",comment:"Thank you Sarah for your detailed and thoughtful review!",date:"2024-11-19T09:15:00",helpful:15,professional:!0,responseTime:30,sentiment:"positive"},status:"published",sentiment:"positive",category:"cleaning",subcategory:"ecommerce",priceRange:"premium",valueForMoney:5,quality:5,punctuality:5,professionalism:5,communication:5,wouldRecommend:!0,createdAt:"2024-11-18T14:30:00",updatedAt:"2024-11-18T14:30:00",publishedAt:"2024-11-18T14:35:00",lastActivityAt:"2024-11-19T09:15:00",metadata:{bookingValue:75e3,serviceDuration:1440,repeatCustomer:!1,customerTier:"gold",loyaltyPoints:2500,source:"web",campaign:"enterprise_special"},aiInsights:{sentiment:"positive",confidence:.98,keyPhrases:["exceptional quality","outstanding communication","on time delivery"],emotions:["impressed","satisfied","confident"],topics:["code quality","communication","project management"],improvementSuggestions:["Provide more detailed proposals","Offer maintenance packages"]},engagement:{views:234,shares:18,bookmarks:12,clickThroughRate:.15}},{id:"cr002",bookingId:"B1002",customerId:"cust002",customerName:"Raj Kumar",customerAvatar:"https://picsum.photos/100/100?random=11",customerRating:4.2,customerVerified:!0,serviceId:"svc102",serviceName:"Mobile App Development",rating:4,title:"Solid App Development with Minor Issues",comment:"Developed a food delivery app for my restaurant. Overall functionality is good and the app works well.",pros:["Clean and user-friendly UI","Responsive to feedback","Quick iterations on fixes","Great value for money"],cons:["Initial bugs took time to fix","Could be optimized better for battery","Some features could be more polished"],tags:["mobile-app","food-delivery","ui-design","professional"],photos:["https://picsum.photos/400/300?random=203"],helpful:18,notHelpful:3,reportCount:0,response:{id:"cresp002",comment:"Thank you for your feedback! We appreciate your patience with the initial bugs.",date:"2024-11-15T16:45:00",helpful:8,professional:!0,responseTime:60,sentiment:"positive"},status:"published",sentiment:"positive",category:"plumbing",subcategory:"food-delivery",priceRange:"moderate",valueForMoney:4,quality:4,punctuality:4,professionalism:4,communication:4,wouldRecommend:!0,createdAt:"2024-11-12T11:20:00",updatedAt:"2024-11-12T11:20:00",publishedAt:"2024-11-12T11:25:00",lastActivityAt:"2024-11-15T16:45:00",metadata:{bookingValue:45e3,serviceDuration:720,repeatCustomer:!1,customerTier:"silver",loyaltyPoints:1200,source:"mobile",referral:"word_of_mouth"},aiInsights:{sentiment:"positive",confidence:.84,keyPhrases:["clean UI","responsive feedback","quick fixes"],emotions:["satisfied","impressed","neutral"],topics:["user interface","customer service","value"],improvementSuggestions:["Focus on battery optimization","Polish features before launch","Provide better testing"]},engagement:{views:145,shares:9,bookmarks:6,clickThroughRate:.09}},{id:"cr003",bookingId:"B1003",customerId:"cust003",customerName:"Emily Davis",customerAvatar:"https://picsum.photos/100/100?random=12",customerRating:4.9,customerVerified:!0,serviceId:"svc103",serviceName:"UI/UX Design",rating:5,title:"Incredible Design Work - Captured Our Brand Perfectly!",comment:"We needed a complete redesign of our company website and mobile app, and this designer absolutely nailed it!",pros:["Exceptional creativity and vision","Perfect brand understanding","Balanced aesthetics and functionality","Comprehensive design system"],cons:["Initial concepts took some time to develop","Could have provided more style variations"],tags:["ui-design","ux-design","branding","professional","creative"],photos:["https://picsum.photos/400/300?random=204","https://picsum.photos/400/300?random=205","https://picsum.photos/400/300?random=206"],helpful:35,notHelpful:0,reportCount:0,response:{id:"cresp003",comment:"Emily, thank you for such a wonderful review! It was a joy working with your brand.",date:"2024-11-09T16:45:00",helpful:22,professional:!0,responseTime:15,sentiment:"positive"},status:"published",sentiment:"positive",category:"painting",subcategory:"ui-ux",priceRange:"premium",valueForMoney:5,quality:5,punctuality:4,professionalism:5,communication:5,wouldRecommend:!0,createdAt:"2024-11-08T10:15:00",updatedAt:"2024-11-08T10:15:00",publishedAt:"2024-11-08T10:20:00",lastActivityAt:"2024-11-09T16:45:00",metadata:{bookingValue:35e3,serviceDuration:480,repeatCustomer:!1,customerTier:"platinum",loyaltyPoints:3500,source:"web",referral:"linkedin"},aiInsights:{sentiment:"positive",confidence:.96,keyPhrases:["incredible design","brand understanding","creative vision"],emotions:["excited","impressed","delighted"],topics:["design quality","brand identity","creativity"],improvementSuggestions:["Speed up initial concept development","Provide more design variations"]},engagement:{views:312,shares:24,bookmarks:18,clickThroughRate:.18}}],Pe={dailyTrend:[{date:"2024-11-18",count:3,rating:4.2},{date:"2024-11-19",count:2,rating:4.5},{date:"2024-11-20",count:1,rating:5},{date:"2024-11-21",count:4,rating:3.8},{date:"2024-11-22",count:2,rating:4.3}],monthlyTrend:[{month:"Sep",count:12,rating:4.1},{month:"Oct",count:18,rating:4.3},{month:"Nov",count:15,rating:4.2}],categoryPerformance:[{category:"cleaning",count:8,avgRating:4.6,growth:12.5},{category:"plumbing",count:5,avgRating:4.2,growth:-5.2},{category:"ac",count:4,avgRating:4.4,growth:8.7},{category:"painting",count:3,avgRating:4.8,growth:15.3},{category:"electrical",count:2,avgRating:4.1,growth:2.1}],sentimentTrend:[{period:"Week 1",positive:65,neutral:25,negative:10},{period:"Week 2",positive:72,neutral:20,negative:8},{period:"Week 3",positive:68,neutral:22,negative:10},{period:"Week 4",positive:75,neutral:18,negative:7}],responseTimeMetrics:[{day:"Mon",avgTime:45,target:60},{day:"Tue",avgTime:38,target:60},{day:"Wed",avgTime:52,target:60},{day:"Thu",avgTime:41,target:60},{day:"Fri",avgTime:48,target:60},{day:"Sat",avgTime:65,target:60},{day:"Sun",avgTime:58,target:60}],topPerformers:[{category:"cleaning",rating:4.8,reviews:8,revenue:45e3,growth:12.5},{category:"painting",rating:4.7,reviews:3,revenue:28e3,growth:15.3},{category:"ac",rating:4.6,reviews:4,revenue:32e3,growth:8.7}],improvementAreas:[{area:"Response Time",currentScore:3.8,targetScore:4.5,priority:"high"},{area:"Communication",currentScore:4.2,targetScore:4.7,priority:"medium"},{area:"Punctuality",currentScore:4.1,targetScore:4.6,priority:"medium"}]},He=[{id:"n001",type:"new_review",title:"New 5-Star Review!",message:"Sarah Johnson left a 5-star review for Web Development",reviewId:"cr001",timestamp:"2024-11-22T09:15:00",read:!1,priority:"high",actions:[{label:"View Review",action:"view"},{label:"Respond",action:"respond"}]},{id:"n002",type:"milestone",title:"Milestone Achieved!",message:"You have received 50 reviews this month!",timestamp:"2024-11-21T18:30:00",read:!1,priority:"medium",actions:[{label:"View Analytics",action:"analytics"},{label:"Share",action:"share"}]},{id:"n003",type:"response",title:"New Response Received",message:"Sparkle Clean Pro responded to your review",reviewId:"r001",timestamp:"2024-11-21T10:30:00",read:!0,priority:"low",actions:[{label:"View Response",action:"view"}]}];await new Promise(Yt=>setTimeout(Yt,1e3)),n(H),r(be),Fe(Pe),Ie(He),we(He.filter(Yt=>!Yt.read).length),o(!1)})()},[s]),f.useEffect(()=>{if(!$e)return;const R=setInterval(()=>{console.log("Auto-refreshing reviews...")},xt);return()=>clearInterval(R)},[$e,xt]);const Rt=f.useCallback(R=>{re(R)},[]);f.useCallback(R=>{const H=new Set(A);H.has(R)?H.delete(R):H.add(R),Z(H)},[A]),f.useCallback(()=>{if(P)Z(new Set);else{const R=e.map(Pe=>Pe.id),H=i.map(Pe=>Pe.id),be=[...R,...H];Z(new Set(be))}G(!P)},[P,e,i]),f.useCallback(R=>{q(R),$(!0)},[]),f.useCallback(R=>{console.log("Exporting reviews with options:",R),k(!1)},[]),f.useCallback(R=>{if(Ie(H=>H.map(be=>be.id===R.id?{...be,read:!0}:be)),we(H=>Math.max(0,H-1)),R.actions&&R.actions.length>0)switch(R.actions[0].action){case"view":if(R.reviewId){const be=[...e,...i].find(Pe=>Pe.id===R.reviewId);be&&ht(be)}break;case"respond":if(R.reviewId){const be=i.find(Pe=>Pe.id===R.reviewId);be&&(ht(be),x(!0))}break;case"analytics":c("analytics");break}},[e,i]),f.useCallback(R=>R.aiInsights?t.jsxs("div",{className:"ai-insights",children:[t.jsxs("div",{className:"insights-header",children:[t.jsx("span",{className:"ai-badge",children:" AI Insights"}),t.jsxs("span",{className:"confidence",children:["Confidence: ",(R.aiInsights.confidence*100).toFixed(1),"%"]})]}),t.jsxs("div",{className:"insights-content",children:[t.jsxs("div",{className:"key-phrases",children:[t.jsx("h6",{children:"Key Phrases"}),t.jsx("div",{className:"phrases-list",children:R.aiInsights.keyPhrases.map((H,be)=>t.jsx("span",{className:"phrase-tag",children:H},be))})]}),t.jsxs("div",{className:"emotions",children:[t.jsx("h6",{children:"Detected Emotions"}),t.jsx("div",{className:"emotions-list",children:R.aiInsights.emotions.map((H,be)=>t.jsx("span",{className:"emotion-tag",children:H},be))})]}),R.aiInsights.improvementSuggestions&&R.aiInsights.improvementSuggestions.length>0&&t.jsxs("div",{className:"improvements",children:[t.jsx("h6",{children:"Improvement Suggestions"}),t.jsx("ul",{children:R.aiInsights.improvementSuggestions.map((H,be)=>t.jsx("li",{children:H},be))})]})]})]}):null,[]);const _e=f.useMemo(()=>{const R=[...e,...i],H=R.length,be={5:R.filter(Ae=>Ae.rating===5).length,4:R.filter(Ae=>Ae.rating===4).length,3:R.filter(Ae=>Ae.rating===3).length,2:R.filter(Ae=>Ae.rating===2).length,1:R.filter(Ae=>Ae.rating===1).length},Pe=H>0?R.reduce((Ae,Ge)=>Ae+Ge.rating,0)/H:0,He=new Date;He.setDate(1);const Yt=R.filter(Ae=>new Date(Ae.createdAt)>=He),Ws=Yt.length>0?Yt.reduce((Ae,Ge)=>Ae+Ge.rating,0)/Yt.length:0,xs=R.filter(Ae=>{const Ge=new Date(Ae.createdAt),hs=new Date;return hs.setDate(hs.getDate()-30),Ge>=hs}).length,tu=i.filter(Ae=>!Ae.response).length,su=R.filter(Ae=>"verified"in Ae?Ae.verified:Ae.customerVerified).length,El=R.reduce((Ae,Ge)=>Ae+Ge.helpful,0),Pl=R.reduce((Ae,Ge)=>Ae+Ge.reportCount,0),Ga=R.reduce((Ae,Ge)=>(Ae[Ge.category]||(Ae[Ge.category]={count:0,totalRating:0}),Ae[Ge.category].count++,Ae[Ge.category].totalRating+=Ge.rating,Ae),{}),nu=Object.entries(Ga).map(([Ae,Ge])=>({category:Ae,count:Ge.count,avgRating:Ge.totalRating/Ge.count,growth:Math.random()*20-5})).sort((Ae,Ge)=>Ge.count-Ae.count).slice(0,5),Ap=R.filter(Ae=>Ae.sentiment==="positive").length,Yr=H>0?Ap/H*100:0,iu=i.length>0?i.filter(Ae=>Ae.response).length/i.length*100:0,Al=R.length>0?R.reduce((Ae,Ge)=>{var hs;return Ae+(((hs=Ge.engagement)==null?void 0:hs.views)||0)},0)/R.length/100:0,Jr=(()=>{const Ae=R.filter(hs=>hs.rating>=4).length,Ge=R.filter(hs=>hs.rating<=2).length;return H>0?(Ae-Ge)/H*100:0})(),yi=H>0?R.reduce((Ae,Ge)=>Ae+(Ge.communication||0),0)/H*20:0,Rl=i.length>0?i.reduce((Ae,Ge)=>{var hs;return Ae+(((hs=Ge.response)==null?void 0:hs.responseTime)||0)},0)/i.length:0,Rp=R.reduce((Ae,Ge)=>{var hs;return Ae+(((hs=Ge.metadata)==null?void 0:hs.bookingValue)||0)},0),ru=xs/30,au=Yr/100,ou=Object.entries(Ga).map(([Ae,Ge])=>({category:Ae,rating:Ge.totalRating/Ge.count,reviews:Ge.count,revenue:Math.random()*1e5,growth:Math.random()*20-5})).sort((Ae,Ge)=>Ge.revenue-Ae.revenue).slice(0,3),Il=Object.entries(Ga).map(([Ae,Ge])=>({category:Ae,rating:Ge.totalRating/Ge.count,reviews:Ge.count,issues:["Communication","Punctuality","Quality"]})).sort((Ae,Ge)=>Ae.rating-Ge.rating).slice(0,3),Dl=[{season:"Spring",reviews:12,rating:4.3,revenue:45e3},{season:"Summer",reviews:18,rating:4.5,revenue:67e3},{season:"Fall",reviews:15,rating:4.2,revenue:52e3},{season:"Winter",reviews:10,rating:4.1,revenue:38e3}],lu=[{location:"Delhi",reviews:8,rating:4.4,growth:12.5},{location:"Mumbai",reviews:6,rating:4.2,growth:8.3},{location:"Gurgaon",reviews:4,rating:4.6,growth:15.7},{location:"Bangalore",reviews:3,rating:4.3,growth:5.2}];return{totalReviews:H,averageRating:Pe,fiveStarReviews:be[5],fourStarReviews:be[4],threeStarReviews:be[3],twoStarReviews:be[2],oneStarReviews:be[1],recentReviews:xs,pendingResponses:tu,verifiedReviews:su,helpfulVotes:El,reportCount:Pl,averageResponseTime:"2 hours",responseRate:iu,topCategories:nu,improvementAreas:["Response Time","Communication","Documentation"],strengths:["Quality","Professionalism","Value"],sentimentScore:Yr,customerSatisfaction:Pe*20,repeatCustomerRate:85,thisMonthReviews:Yt.length,thisMonthRating:Ws,trendDirection:"up",overallRank:12,totalProviders:156,engagementRate:Al,conversionRate:3.2,retentionRate:87,netPromoterScore:Jr,customerEffortScore:yi,firstResponseTime:Rl,resolutionTime:180,customerLifetimeValue:Rp,reviewVelocity:ru,sentimentVelocity:au,topPerformers:ou,worstPerformers:Il,seasonalTrends:Dl,geographicPerformance:lu}},[e,i]),rt=f.useMemo(()=>{let R=[...e];if(U&&(R=R.filter(H=>{var be;return H.title.toLowerCase().includes(U.toLowerCase())||H.comment.toLowerCase().includes(U.toLowerCase())||H.serviceName.toLowerCase().includes(U.toLowerCase())||H.providerName.toLowerCase().includes(U.toLowerCase())||((be=H.tags)==null?void 0:be.some(Pe=>Pe.toLowerCase().includes(U.toLowerCase())))})),ie.rating>0&&(R=R.filter(H=>H.rating===ie.rating)),ie.category!=="all"&&(R=R.filter(H=>H.category===ie.category)),ie.sentiment!=="all"&&(R=R.filter(H=>H.sentiment===ie.sentiment)),ie.status!=="all"&&(R=R.filter(H=>H.status===ie.status)),ie.priceRanges.length>0&&(R=R.filter(H=>ie.priceRanges.includes(H.priceRange))),ie.subcategories.length>0&&(R=R.filter(H=>H.subcategory&&ie.subcategories.includes(H.subcategory))),ie.tags.length>0&&(R=R.filter(H=>H.tags&&H.tags.some(be=>ie.tags.includes(be)))),ie.reviewerType.length>0&&(R=R.filter(H=>{var be;return((be=H.metadata)==null?void 0:be.reviewerType)&&ie.reviewerType.includes(H.metadata.reviewerType)})),ie.source.length>0&&(R=R.filter(H=>{var be;return((be=H.metadata)==null?void 0:be.source)&&ie.source.includes(H.metadata.source)})),ie.minRating>0&&(R=R.filter(H=>H.rating>=ie.minRating)),ie.maxRating<5&&(R=R.filter(H=>H.rating<=ie.maxRating)),ie.minHelpful>0&&(R=R.filter(H=>H.helpful>=ie.minHelpful)),ie.hasPros&&(R=R.filter(H=>H.pros&&H.pros.length>0)),ie.hasCons&&(R=R.filter(H=>H.cons&&H.cons.length>0)),ie.hasTags&&(R=R.filter(H=>H.tags&&H.tags.length>0)),ie.aiSentiment.length>0&&(R=R.filter(H=>H.aiInsights&&ie.aiSentiment.includes(H.aiInsights.sentiment))),ie.verifiedOnly&&(R=R.filter(H=>H.verified)),ie.flaggedOnly&&(R=R.filter(H=>H.status==="flagged")),ie.respondedOnly&&(R=R.filter(H=>!!H.response)),ie.pendingOnly&&(R=R.filter(H=>H.status==="pending")),ie.dateRange!=="all"){const H=new Date;let be;switch(ie.dateRange){case"today":be=new Date(H.getFullYear(),H.getMonth(),H.getDate());break;case"week":be=new Date(H.getTime()-7*24*60*60*1e3);break;case"month":be=new Date(H.getFullYear(),H.getMonth(),1);break;case"quarter":const Pe=Math.floor(H.getMonth()/3);be=new Date(H.getFullYear(),Pe*3,1);break;case"year":be=new Date(H.getFullYear(),0,1);break;default:be=new Date(0)}R=R.filter(Pe=>new Date(Pe.createdAt)>=be)}return ie.hasResponse&&(R=R.filter(H=>!!H.response)),ie.hasPhotos&&(R=R.filter(H=>H.photos&&H.photos.length>0)),ie.verified&&(R=R.filter(H=>H.verified)),R.sort((H,be)=>{var He,Yt,Ws,xs;let Pe=0;switch(ie.sortBy){case"date":Pe=new Date(H.createdAt).getTime()-new Date(be.createdAt).getTime();break;case"rating":Pe=H.rating-be.rating;break;case"helpful":Pe=H.helpful-be.helpful;break;case"category":Pe=H.category.localeCompare(be.category);break;case"sentiment":Pe=H.sentiment.localeCompare(be.sentiment);break;case"price":Pe=(((He=H.metadata)==null?void 0:He.bookingValue)||0)-(((Yt=be.metadata)==null?void 0:Yt.bookingValue)||0);break;case"response":Pe=(((Ws=H.response)==null?void 0:Ws.responseTime)||1/0)-(((xs=be.response)==null?void 0:xs.responseTime)||1/0);break}return ie.sortOrder==="asc"?Pe:-Pe}),R},[e,ie,U]),Ue=f.useMemo(()=>{let R=[...i];return U&&(R=R.filter(H=>{var be;return H.title.toLowerCase().includes(U.toLowerCase())||H.comment.toLowerCase().includes(U.toLowerCase())||H.serviceName.toLowerCase().includes(U.toLowerCase())||H.customerName.toLowerCase().includes(U.toLowerCase())||((be=H.tags)==null?void 0:be.some(Pe=>Pe.toLowerCase().includes(U.toLowerCase())))})),ie.rating>0&&(R=R.filter(H=>H.rating===ie.rating)),ie.category!=="all"&&(R=R.filter(H=>H.category===ie.category)),ie.sentiment!=="all"&&(R=R.filter(H=>H.sentiment===ie.sentiment)),ie.hasResponse&&(R=R.filter(H=>!!H.response)),ie.hasPhotos&&(R=R.filter(H=>H.photos&&H.photos.length>0)),ie.verified&&(R=R.filter(H=>H.customerVerified)),R.sort((H,be)=>{var He,Yt,Ws,xs;let Pe=0;switch(ie.sortBy){case"date":Pe=new Date(H.createdAt).getTime()-new Date(be.createdAt).getTime();break;case"rating":Pe=H.rating-be.rating;break;case"helpful":Pe=H.helpful-be.helpful;break;case"price":Pe=(((He=H.metadata)==null?void 0:He.bookingValue)||0)-(((Yt=be.metadata)==null?void 0:Yt.bookingValue)||0);break;case"response":Pe=(((Ws=H.response)==null?void 0:Ws.responseTime)||1/0)-(((xs=be.response)==null?void 0:xs.responseTime)||1/0);break}return ie.sortOrder==="asc"?Pe:-Pe}),R},[i,ie,U]),ne=R=>{const H=new Date(R),Pe=new Date().getTime()-H.getTime(),He=Math.floor(Pe/(1e3*60*60*24));return He===0?"Today":He===1?"Yesterday":He<7?`${He} days ago`:He<30?`${Math.floor(He/7)} weeks ago`:He<365?`${Math.floor(He/30)} months ago`:`${Math.floor(He/365)} years ago`},je=(R,H=!1,be)=>t.jsx("div",{className:`stars-container ${H?"interactive":""}`,children:Array.from({length:5},(Pe,He)=>t.jsx("button",{className:`star ${He<R?"filled":"empty"}`,onClick:()=>H&&(be==null?void 0:be(He+1)),disabled:!H,children:""},He))}),Be=R=>{const H=new Set(V);H.has(R)?H.delete(R):H.add(R),ee(H)},ae=()=>{h(!0)},ue=R=>{ht(R),We({rating:R.rating,title:R.title,comment:R.comment,pros:R.pros||[],cons:R.cons||[],tags:R.tags||[],photos:R.photos||[],valueForMoney:R.valueForMoney,quality:R.quality,punctuality:R.punctuality,professionalism:R.professionalism,communication:R.communication,wouldRecommend:R.wouldRecommend,wouldHireAgain:R.wouldHireAgain}),p(!0)},Qe=R=>{ht(R),x(!0)},Xs=R=>{ht(R),v(!0)},xi=()=>{h(!1),We({rating:0,title:"",comment:"",pros:[],cons:[],tags:[],photos:[],valueForMoney:5,quality:5,punctuality:5,professionalism:5,communication:5,wouldRecommend:!0,wouldHireAgain:!0})},Ha=()=>{yt&&jt&&(x(!1),B(""),ht(null))};return a?t.jsx("div",{className:"profile-reviews-advanced",children:t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading reviews..."})]})}):t.jsxs("div",{className:"profile-reviews-advanced",children:[t.jsxs("section",{className:"reviews-header",children:[t.jsxs("div",{className:"reviews-header-content",children:[t.jsxs("div",{className:"reviews-title-section",children:[t.jsx("h1",{className:"reviews-title",children:"Reviews & Ratings"}),t.jsx("p",{className:"reviews-subtitle",children:"Manage your reviews and analyze customer feedback"})]}),t.jsxs("div",{className:"reviews-header-actions",children:[t.jsxs("div",{className:"header-search",children:[t.jsx("input",{type:"text",placeholder:"Search reviews...",value:U,onChange:R=>Rt(R.target.value),className:"search-input"}),t.jsx("button",{className:"search-btn",children:""})]}),t.jsxs("div",{className:"header-actions-group",children:[t.jsxs("button",{className:"write-review-btn",onClick:ae,children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Write Review"})]}),t.jsxs("button",{className:"analytics-btn",onClick:()=>I(!0),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Analytics"})]}),t.jsxs("button",{className:"export-btn",onClick:()=>k(!0),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Export"})]}),t.jsx("div",{className:"notification-bell",children:t.jsxs("button",{className:"notification-btn",onClick:()=>c("notifications"),children:[t.jsx("span",{className:"btn-icon",children:""}),Ze>0&&t.jsx("span",{className:"notification-badge",children:Ze})]})}),t.jsx("button",{className:"settings-btn",onClick:()=>T(!0),children:t.jsx("span",{className:"btn-icon",children:""})}),t.jsx("div",{className:"view-toggle",children:Df.viewMode.map(R=>t.jsx("button",{className:`view-btn ${ie.viewMode===R.value?"active":""}`,onClick:()=>st({...ie,viewMode:R.value}),title:R.label,children:t.jsx("span",{children:R.icon})},R.value))})]})]})]}),t.jsxs("div",{className:"quick-stats-bar",children:[t.jsxs("div",{className:"quick-stat",children:[t.jsx("span",{className:"stat-value",children:_e.totalReviews}),t.jsx("span",{className:"stat-label",children:"Total Reviews"})]}),t.jsxs("div",{className:"quick-stat",children:[t.jsx("span",{className:"stat-value",children:_e.averageRating.toFixed(1)}),t.jsx("span",{className:"stat-label",children:"Avg Rating"})]}),t.jsxs("div",{className:"quick-stat",children:[t.jsxs("span",{className:"stat-value",children:[_e.responseRate.toFixed(1),"%"]}),t.jsx("span",{className:"stat-label",children:"Response Rate"})]}),t.jsxs("div",{className:"quick-stat",children:[t.jsx("span",{className:"stat-value",children:_e.pendingResponses}),t.jsx("span",{className:"stat-label",children:"Pending"})]}),t.jsxs("div",{className:"quick-stat",children:[t.jsxs("span",{className:"stat-value",children:[_e.sentimentScore.toFixed(1),"%"]}),t.jsx("span",{className:"stat-label",children:"Positive"})]})]})]}),t.jsx("section",{className:"reviews-stats",children:t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card total",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:_e.totalReviews}),t.jsx("div",{className:"stat-label",children:"Total Reviews"}),t.jsxs("div",{className:"stat-change",children:["Rank #",_e.overallRank," of ",_e.totalProviders]})]})]}),t.jsxs("div",{className:"stat-card rating",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("div",{className:"stat-number",children:[Number(_e.averageRating).toFixed(1)," Avg Rating"]}),t.jsx("div",{className:"stat-label",children:"Average Rating"}),t.jsxs("div",{className:"stat-change",children:[_e.trendDirection==="up"?"":_e.trendDirection==="down"?"":""," This month"]})]})]}),t.jsxs("div",{className:"stat-card five-star",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:_e.fiveStarReviews}),t.jsx("div",{className:"stat-label",children:"5-Star Reviews"}),t.jsxs("div",{className:"stat-change",children:[(_e.fiveStarReviews/_e.totalReviews*100).toFixed(1),"% of total"]})]})]}),t.jsxs("div",{className:"stat-card recent",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:_e.recentReviews}),t.jsx("div",{className:"stat-label",children:"Recent Reviews"}),t.jsx("div",{className:"stat-change",children:"Last 30 days"})]})]}),t.jsxs("div",{className:"stat-card responses",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("div",{className:"stat-number",children:[_e.responseRate.toFixed(1),"%"]}),t.jsx("div",{className:"stat-label",children:"Response Rate"}),t.jsxs("div",{className:"stat-change",children:[_e.pendingResponses," pending"]})]})]}),t.jsxs("div",{className:"stat-card sentiment",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("div",{className:"stat-number",children:[_e.sentimentScore.toFixed(1),"%"]}),t.jsx("div",{className:"stat-label",children:"Positive Sentiment"}),t.jsxs("div",{className:"stat-change",children:[_e.customerSatisfaction.toFixed(1),"% satisfaction"]})]})]})]})}),t.jsxs("section",{className:"reviews-tabs",children:[t.jsx("div",{className:"tabs-navigation",children:[{id:"my-reviews",label:"My Reviews",count:e.length,icon:""},{id:"customer-reviews",label:"Customer Reviews",count:i.length,icon:""},{id:"analytics",label:"Analytics",count:null,icon:""},{id:"insights",label:"Insights",count:null,icon:""},{id:"notifications",label:"Notifications",count:Ze,icon:""},{id:"search",label:"Advanced Search",count:null,icon:""},{id:"export",label:"Export",count:null,icon:""}].map(R=>t.jsxs("button",{className:`tab-btn ${l===R.id?"active":""}`,onClick:()=>c(R.id),children:[t.jsx("span",{className:"tab-icon",children:R.icon}),t.jsx("span",{className:"tab-label",children:R.label}),R.count!==null&&t.jsxs("span",{className:"tab-count",children:["(",R.count,")"]})]},R.id))}),t.jsxs("div",{className:"advanced-filter-bar",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Category:"}),t.jsx("select",{value:ie.category,onChange:R=>st({...ie,category:R.target.value}),className:"filter-select",children:Object.entries(to).map(([R,H])=>t.jsxs("option",{value:R,children:[H.icon," ",H.label]},R))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Rating:"}),t.jsxs("select",{value:ie.rating,onChange:R=>st({...ie,rating:Number(R.target.value)}),className:"filter-select",children:[t.jsx("option",{value:"0",children:"All Ratings"}),t.jsx("option",{value:"5",children:"5 Stars "}),t.jsx("option",{value:"4",children:"4 Stars "}),t.jsx("option",{value:"3",children:"3 Stars "}),t.jsx("option",{value:"2",children:"2 Stars "}),t.jsx("option",{value:"1",children:"1 Star "})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Date Range:"}),t.jsx("select",{value:ie.dateRange,onChange:R=>st({...ie,dateRange:R.target.value}),className:"filter-select",children:Df.dateRange.map(R=>t.jsxs("option",{value:R.value,children:[R.icon," ",R.label]},R.value))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Sort By:"}),t.jsx("select",{value:ie.sortBy,onChange:R=>st({...ie,sortBy:R.target.value}),className:"filter-select",children:Df.sortBy.map(R=>t.jsxs("option",{value:R.value,children:[R.icon," ",R.label]},R.value))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Order:"}),t.jsxs("select",{value:ie.sortOrder,onChange:R=>st({...ie,sortOrder:R.target.value}),className:"filter-select",children:[t.jsx("option",{value:"desc",children:" Descending"}),t.jsx("option",{value:"asc",children:" Ascending"})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Quick Filters:"}),t.jsxs("div",{className:"quick-filters",children:[t.jsx("button",{className:`quick-filter-btn ${ie.hasResponse?"active":""}`,onClick:()=>st({...ie,hasResponse:!ie.hasResponse}),children:" Has Response"}),t.jsx("button",{className:`quick-filter-btn ${ie.hasPhotos?"active":""}`,onClick:()=>st({...ie,hasPhotos:!ie.hasPhotos}),children:" Has Photos"}),t.jsx("button",{className:`quick-filter-btn ${ie.verified?"active":""}`,onClick:()=>st({...ie,verified:!ie.verified}),children:" Verified"})]})]}),t.jsxs("div",{className:"filter-actions",children:[t.jsx("button",{className:"reset-filters-btn",onClick:()=>st({rating:0,category:"all",sentiment:"all",status:"all",dateRange:"all",hasResponse:!1,hasPhotos:!1,verified:!1,sortBy:"date",sortOrder:"desc",viewMode:"list",priceRanges:[],subcategories:[],tags:[],reviewerType:[],source:[],minRating:0,maxRating:5,minHelpful:0,hasPros:!1,hasCons:!1,hasTags:!1,responseTime:"normal",engagement:"medium",aiSentiment:[],verifiedOnly:!1,flaggedOnly:!1,respondedOnly:!1,pendingOnly:!1}),children:"Reset Filters"}),t.jsx("button",{className:"advanced-filters-btn",onClick:()=>T(!0),children:" Advanced Filters"})]})]})]}),l==="my-reviews"&&t.jsxs("section",{className:"my-reviews-section",children:[t.jsxs("div",{className:"reviews-header",children:[t.jsxs("div",{className:"reviews-title",children:[t.jsx("h2",{children:"Reviews I've Written"}),t.jsx("p",{children:"Your feedback helps service providers improve their services"})]}),t.jsxs("div",{className:"reviews-controls",children:[t.jsxs("div",{className:"filter-controls",children:[t.jsxs("select",{value:ie.rating,onChange:R=>st({...ie,rating:Number(R.target.value)}),className:"filter-select",children:[t.jsx("option",{value:"0",children:"All Ratings"}),t.jsx("option",{value:"5",children:"5 Stars"}),t.jsx("option",{value:"4",children:"4 Stars"}),t.jsx("option",{value:"3",children:"3 Stars"}),t.jsx("option",{value:"2",children:"2 Stars"}),t.jsx("option",{value:"1",children:"1 Star"})]}),t.jsx("select",{value:ie.category,onChange:R=>st({...ie,category:R.target.value}),className:"filter-select",children:Object.entries(to).map(([R,H])=>t.jsx("option",{value:R,children:H.label},R))}),t.jsxs("select",{value:ie.sortBy,onChange:R=>st({...ie,sortBy:R.target.value}),className:"filter-select",children:[t.jsx("option",{value:"date",children:"Sort by Date"}),t.jsx("option",{value:"rating",children:"Sort by Rating"}),t.jsx("option",{value:"helpful",children:"Sort by Helpful"})]})]}),t.jsxs("div",{className:"view-toggle",children:[t.jsx("button",{className:`view-btn ${ie.viewMode==="list"?"active":""}`,children:t.jsx("span",{children:""})}),t.jsx("button",{className:`view-btn ${ie.viewMode==="grid"?"active":""}`,children:t.jsx("span",{children:""})})]})]})]}),rt.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:"No Reviews Found"}),t.jsx("p",{children:e.length===0?"Start reviewing services you have used to help others make informed decisions":"Try adjusting your filters to see more reviews"}),e.length===0&&t.jsxs(he,{to:"/profile/bookings",className:"view-bookings-btn",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"View Completed Bookings"})]})]}):t.jsx("div",{className:`reviews-container ${ie.viewMode}`,children:rt.map(R=>{var H,be;return t.jsxs("div",{className:`review-card ${V.has(R.id)?"expanded":""}`,children:[t.jsxs("div",{className:"review-header",children:[t.jsxs("div",{className:"service-info",children:[t.jsx("h3",{className:"service-name",children:R.serviceName}),t.jsxs("div",{className:"provider-info",children:[R.providerPhoto&&t.jsx("img",{src:R.providerPhoto,alt:R.providerName,className:"provider-photo"}),t.jsxs("div",{className:"provider-details",children:[t.jsx("p",{className:"provider-name",children:R.providerName}),R.providerRating&&t.jsxs("span",{className:"provider-rating",children:[" ",R.providerRating]})]})]})]}),t.jsxs("div",{className:"rating-section",children:[t.jsxs("div",{className:"rating-stars",children:[je(R.rating),t.jsxs("span",{className:"rating-number",children:[R.rating,".0"]})]}),t.jsxs("div",{className:"sentiment-badge",style:{"--sentiment-color":so[R.sentiment].color},children:[t.jsx("span",{className:"sentiment-icon",children:so[R.sentiment].icon}),t.jsx("span",{className:"sentiment-label",children:so[R.sentiment].label})]})]})]}),t.jsxs("div",{className:"review-content",children:[t.jsx("h4",{className:"review-title",children:R.title}),t.jsx("p",{className:"review-comment",children:R.comment}),(R.pros||R.cons)&&t.jsxs("div",{className:"pros-cons",children:[R.pros&&R.pros.length>0&&t.jsxs("div",{className:"pros",children:[t.jsx("h5",{children:" Pros"}),t.jsx("ul",{children:R.pros.map((Pe,He)=>t.jsx("li",{children:Pe},He))})]}),R.cons&&R.cons.length>0&&t.jsxs("div",{className:"cons",children:[t.jsx("h5",{children:" Cons"}),t.jsx("ul",{children:R.cons.map((Pe,He)=>t.jsx("li",{children:Pe},He))})]})]}),R.tags&&R.tags.length>0&&t.jsx("div",{className:"review-tags",children:R.tags.map((Pe,He)=>t.jsx("span",{className:"tag",children:Pe},He))}),R.photos&&R.photos.length>0&&t.jsxs("div",{className:"review-photos",children:[t.jsx("h5",{children:"Photos"}),t.jsx("div",{className:"photos-grid",children:R.photos.map((Pe,He)=>t.jsx("img",{src:Pe,alt:"Review photo",className:"review-photo"},He))})]})]}),t.jsxs("div",{className:"review-meta",children:[t.jsxs("div",{className:"meta-left",children:[t.jsx("span",{className:"review-date",children:ne(R.createdAt)}),R.verified&&t.jsx("span",{className:"verified-badge",children:" Verified Purchase"}),t.jsxs("span",{className:"category-badge",children:[(H=to[R.category])==null?void 0:H.icon," ",(be=to[R.category])==null?void 0:be.label]})]}),t.jsxs("div",{className:"meta-right",children:[t.jsxs("div",{className:"helpful-section",children:[t.jsxs("button",{className:"helpful-btn",children:[" Helpful (",R.helpful,")"]}),t.jsxs("button",{className:"not-helpful-btn",children:[" Not Helpful (",R.notHelpful,")"]})]}),t.jsxs("div",{className:"review-actions",children:[t.jsx("button",{className:"action-btn expand",onClick:()=>Be(R.id),children:V.has(R.id)?"Show Less":"Show More"}),t.jsx("button",{className:"action-btn edit",onClick:()=>ue(R),children:"Edit"}),t.jsx(he,{to:"/profile/bookings",className:"action-btn booking",children:"View Booking"}),t.jsx("button",{className:"action-btn report",onClick:()=>Xs(R),children:"Report"})]})]})]}),R.response&&t.jsxs("div",{className:"provider-response",children:[t.jsxs("div",{className:"response-header",children:[t.jsxs("div",{className:"response-info",children:[t.jsx("span",{className:"response-label",children:"Provider Response"}),t.jsx("span",{className:"response-date",children:ne(R.response.date)})]}),R.response.professional&&t.jsx("span",{className:"professional-badge",children:"Professional Response"})]}),t.jsx("p",{className:"response-comment",children:R.response.comment}),t.jsx("div",{className:"response-actions",children:t.jsxs("button",{className:"helpful-btn",children:[" Helpful (",R.response.helpful,")"]})})]})]},R.id)})})]}),l==="customer-reviews"&&t.jsxs("section",{className:"customer-reviews-section",children:[t.jsxs("div",{className:"reviews-header",children:[t.jsxs("div",{className:"reviews-title",children:[t.jsx("h2",{children:"Customer Reviews"}),t.jsx("p",{children:"Feedback from customers about your services"})]}),t.jsx("div",{className:"reviews-controls",children:t.jsxs("div",{className:"stats-summary",children:[t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"summary-label",children:"Pending Responses:"}),t.jsx("span",{className:"summary-value",children:_e.pendingResponses})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"summary-label",children:"Response Rate:"}),t.jsxs("span",{className:"summary-value",children:[_e.responseRate.toFixed(1),"%"]})]})]})})]}),Ue.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:"No Customer Reviews Yet"}),t.jsx("p",{children:"Complete bookings to start receiving reviews from customers"}),t.jsxs(he,{to:"/provider",className:"manage-services-btn",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Manage Services"})]})]}):t.jsx("div",{className:"reviews-container",children:Ue.map(R=>{var H,be;return t.jsxs("div",{className:"review-card",children:[t.jsxs("div",{className:"review-header",children:[t.jsxs("div",{className:"customer-info",children:[t.jsx("div",{className:"customer-avatar",children:R.customerAvatar?t.jsx("img",{src:R.customerAvatar,alt:R.customerName}):t.jsx("span",{className:"avatar-fallback",children:R.customerName.charAt(0).toUpperCase()})}),t.jsxs("div",{className:"customer-details",children:[t.jsx("h4",{className:"customer-name",children:R.customerName}),t.jsx("p",{className:"service-name",children:R.serviceName}),R.customerRating&&t.jsxs("span",{className:"customer-rating",children:[" ",R.customerRating]}),R.customerVerified&&t.jsx("span",{className:"verified-badge",children:" Verified"})]})]}),t.jsxs("div",{className:"rating-section",children:[t.jsxs("div",{className:"rating-stars",children:[je(R.rating),t.jsxs("span",{className:"rating-number",children:[R.rating,".0"]})]}),t.jsxs("div",{className:"sentiment-badge",style:{"--sentiment-color":so[R.sentiment].color},children:[t.jsx("span",{className:"sentiment-icon",children:so[R.sentiment].icon}),t.jsx("span",{className:"sentiment-label",children:so[R.sentiment].label})]})]})]}),t.jsxs("div",{className:"review-content",children:[t.jsx("h4",{className:"review-title",children:R.title}),t.jsx("p",{className:"review-comment",children:R.comment}),(R.pros||R.cons)&&t.jsxs("div",{className:"pros-cons",children:[R.pros&&R.pros.length>0&&t.jsxs("div",{className:"pros",children:[t.jsx("h5",{children:" Pros"}),t.jsx("ul",{children:R.pros.map((Pe,He)=>t.jsx("li",{children:Pe},He))})]}),R.cons&&R.cons.length>0&&t.jsxs("div",{className:"cons",children:[t.jsx("h5",{children:" Cons"}),t.jsx("ul",{children:R.cons.map((Pe,He)=>t.jsx("li",{children:Pe},He))})]})]}),R.photos&&R.photos.length>0&&t.jsxs("div",{className:"review-photos",children:[t.jsx("h5",{children:"Photos"}),t.jsx("div",{className:"photos-grid",children:R.photos.map((Pe,He)=>t.jsx("img",{src:Pe,alt:"Review photo",className:"review-photo"},He))})]})]}),t.jsxs("div",{className:"review-meta",children:[t.jsxs("div",{className:"meta-left",children:[t.jsx("span",{className:"review-date",children:ne(R.createdAt)}),t.jsxs("span",{className:"category-badge",children:[(H=to[R.category])==null?void 0:H.icon," ",(be=to[R.category])==null?void 0:be.label]})]}),t.jsxs("div",{className:"meta-right",children:[t.jsxs("div",{className:"helpful-section",children:[t.jsxs("button",{className:"helpful-btn",children:[" Helpful (",R.helpful,")"]}),t.jsxs("button",{className:"not-helpful-btn",children:[" Not Helpful (",R.notHelpful,")"]})]}),t.jsxs("div",{className:"review-actions",children:[R.response?t.jsx("button",{className:"action-btn view-response",children:" View Response"}):t.jsx("button",{className:"action-btn respond",onClick:()=>Qe(R),children:" Respond"}),t.jsx("button",{className:"action-btn report",onClick:()=>Xs(R),children:"Report"})]})]})]}),R.response&&t.jsxs("div",{className:"provider-response",children:[t.jsxs("div",{className:"response-header",children:[t.jsxs("div",{className:"response-info",children:[t.jsx("span",{className:"response-label",children:"Your Response"}),t.jsx("span",{className:"response-date",children:ne(R.response.date)})]}),R.response.professional&&t.jsx("span",{className:"professional-badge",children:"Professional Response"})]}),t.jsx("p",{className:"response-comment",children:R.response.comment}),t.jsxs("div",{className:"response-actions",children:[t.jsxs("button",{className:"helpful-btn",children:[" Helpful (",R.response.helpful,")"]}),t.jsx("button",{className:"action-btn edit",children:"Edit Response"})]})]})]},R.id)})})]}),l==="analytics"&&t.jsxs("section",{className:"analytics-section",children:[t.jsxs("div",{className:"analytics-header",children:[t.jsx("h2",{children:"Review Analytics"}),t.jsx("p",{children:"Detailed insights into your review performance"})]}),t.jsx("div",{className:"analytics-content",children:t.jsxs("div",{className:"analytics-grid",children:[t.jsxs("div",{className:"analytics-card rating-distribution",children:[t.jsx("h3",{children:"Rating Distribution"}),t.jsx("div",{className:"distribution-chart",children:[5,4,3,2,1].map(R=>{const H=R===5?_e.fiveStarReviews:R===4?_e.fourStarReviews:R===3?_e.threeStarReviews:R===2?_e.twoStarReviews:_e.oneStarReviews,be=_e.totalReviews>0?H/_e.totalReviews*100:0;return t.jsxs("div",{className:"rating-bar",children:[t.jsxs("span",{className:"rating-label",children:[R," "]}),t.jsx("div",{className:"bar-container",children:t.jsx("div",{className:"bar-fill",style:{width:`${be}%`}})}),t.jsx("span",{className:"rating-count",children:H}),t.jsxs("span",{className:"rating-percentage",children:[be.toFixed(1),"%"]})]},R)})})]}),t.jsxs("div",{className:"analytics-card category-performance",children:[t.jsx("h3",{children:"Top Categories"}),t.jsx("div",{className:"category-list",children:_e.topCategories.map((R,H)=>t.jsxs("div",{className:"category-item",children:[t.jsxs("div",{className:"category-info",children:[t.jsx("span",{className:"category-name",children:R.category}),t.jsxs("span",{className:"category-count",children:[R.count," reviews"]})]}),t.jsxs("div",{className:"category-rating",children:[je(Math.round(R.avgRating)),t.jsx("span",{className:"rating-number",children:R.avgRating.toFixed(1)})]})]},H))})]}),t.jsxs("div",{className:"analytics-card sentiment-analysis",children:[t.jsx("h3",{children:"Sentiment Analysis"}),t.jsxs("div",{className:"sentiment-stats",children:[t.jsxs("div",{className:"sentiment-item positive",children:[t.jsx("span",{className:"sentiment-label",children:"Positive"}),t.jsxs("span",{className:"sentiment-value",children:[_e.sentimentScore.toFixed(1),"%"]})]}),t.jsxs("div",{className:"sentiment-item neutral",children:[t.jsx("span",{className:"sentiment-label",children:"Neutral"}),t.jsxs("span",{className:"sentiment-value",children:[((100-_e.sentimentScore)*.3).toFixed(1),"%"]})]}),t.jsxs("div",{className:"sentiment-item negative",children:[t.jsx("span",{className:"sentiment-label",children:"Negative"}),t.jsxs("span",{className:"sentiment-value",children:[((100-_e.sentimentScore)*.7).toFixed(1),"%"]})]})]})]}),t.jsxs("div",{className:"analytics-card performance-metrics",children:[t.jsx("h3",{children:"Performance Metrics"}),t.jsxs("div",{className:"metrics-grid",children:[t.jsxs("div",{className:"metric-item",children:[t.jsx("span",{className:"metric-label",children:"Customer Satisfaction"}),t.jsxs("span",{className:"metric-value",children:[_e.customerSatisfaction.toFixed(1),"%"]})]}),t.jsxs("div",{className:"metric-item",children:[t.jsx("span",{className:"metric-label",children:"Response Rate"}),t.jsxs("span",{className:"metric-value",children:[_e.responseRate.toFixed(1),"%"]})]}),t.jsxs("div",{className:"metric-item",children:[t.jsx("span",{className:"metric-label",children:"Repeat Customers"}),t.jsxs("span",{className:"metric-value",children:[_e.repeatCustomerRate,"%"]})]}),t.jsxs("div",{className:"metric-item",children:[t.jsx("span",{className:"metric-label",children:"Average Response Time"}),t.jsx("span",{className:"metric-value",children:_e.averageResponseTime})]})]})]})]})})]}),l==="insights"&&t.jsxs("section",{className:"insights-section",children:[t.jsxs("div",{className:"insights-header",children:[t.jsx("h2",{children:"Performance Insights"}),t.jsx("p",{children:"AI-powered recommendations to improve your reviews"})]}),t.jsx("div",{className:"insights-content",children:t.jsxs("div",{className:"insights-grid",children:[t.jsxs("div",{className:"insight-card strengths",children:[t.jsx("h3",{children:" Your Strengths"}),t.jsx("div",{className:"strengths-list",children:_e.strengths.map((R,H)=>t.jsxs("div",{className:"strength-item",children:[t.jsx("span",{className:"strength-icon",children:""}),t.jsx("span",{className:"strength-text",children:R})]},H))})]}),t.jsxs("div",{className:"insight-card improvements",children:[t.jsx("h3",{children:" Areas for Improvement"}),t.jsx("div",{className:"improvements-list",children:_e.improvementAreas.map((R,H)=>t.jsxs("div",{className:"improvement-item",children:[t.jsx("span",{className:"improvement-icon",children:""}),t.jsx("span",{className:"improvement-text",children:R})]},H))})]}),t.jsxs("div",{className:"insight-card recommendations",children:[t.jsx("h3",{children:" Recommendations"}),t.jsxs("div",{className:"recommendations-list",children:[t.jsxs("div",{className:"recommendation-item",children:[t.jsx("h4",{children:"Respond to Pending Reviews"}),t.jsxs("p",{children:["You have ",_e.pendingResponses," reviews waiting for your response. Responding quickly can improve your rating."]}),t.jsx("button",{className:"action-btn",children:"Respond Now"})]}),t.jsxs("div",{className:"recommendation-item",children:[t.jsx("h4",{children:"Ask for More Reviews"}),t.jsx("p",{children:"Customers who had great experiences are more likely to leave reviews when prompted."}),t.jsx("button",{className:"action-btn",children:"Send Requests"})]}),t.jsxs("div",{className:"recommendation-item",children:[t.jsx("h4",{children:"Improve Response Time"}),t.jsxs("p",{children:["Your average response time is ",_e.averageResponseTime,". Faster responses lead to higher satisfaction."]}),t.jsx("button",{className:"action-btn",children:"Set Up Alerts"})]})]})]})]})})]}),d&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content large",onClick:R=>R.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Write a Review"}),t.jsx("button",{onClick:()=>h(!1),className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"review-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Overall Rating *"}),je(de.rating,!0,R=>We({...de,rating:R}))]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Review Title *"}),t.jsx("input",{type:"text",value:de.title,onChange:R=>We({...de,title:R.target.value}),placeholder:"Summarize your experience...",className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Review *"}),t.jsx("textarea",{value:de.comment,onChange:R=>We({...de,comment:R.target.value}),placeholder:"Share details about your experience...",rows:4,className:"form-textarea"})]}),t.jsxs("div",{className:"rating-breakdown",children:[t.jsx("h4",{children:"Detailed Ratings"}),t.jsxs("div",{className:"rating-items",children:[t.jsxs("div",{className:"rating-item",children:[t.jsx("label",{children:"Value for Money"}),je(de.valueForMoney,!0,R=>We({...de,valueForMoney:R}))]}),t.jsxs("div",{className:"rating-item",children:[t.jsx("label",{children:"Quality"}),je(de.quality,!0,R=>We({...de,quality:R}))]}),t.jsxs("div",{className:"rating-item",children:[t.jsx("label",{children:"Punctuality"}),je(de.punctuality,!0,R=>We({...de,punctuality:R}))]}),t.jsxs("div",{className:"rating-item",children:[t.jsx("label",{children:"Professionalism"}),je(de.professionalism,!0,R=>We({...de,professionalism:R}))]}),t.jsxs("div",{className:"rating-item",children:[t.jsx("label",{children:"Communication"}),je(de.communication,!0,R=>We({...de,communication:R}))]})]})]}),t.jsxs("div",{className:"pros-cons-section",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pros (What went well)"}),t.jsx("textarea",{value:de.pros.join(`
`),onChange:R=>We({...de,pros:R.target.value.split(`
`).filter(H=>H.trim())}),placeholder:"List the positive aspects...",rows:3,className:"form-textarea"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cons (What could be improved)"}),t.jsx("textarea",{value:de.cons.join(`
`),onChange:R=>We({...de,cons:R.target.value.split(`
`).filter(H=>H.trim())}),placeholder:"List areas for improvement...",rows:3,className:"form-textarea"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Tags"}),t.jsx("input",{type:"text",value:de.tags.join(", "),onChange:R=>We({...de,tags:R.target.value.split(",").map(H=>H.trim()).filter(H=>H)}),placeholder:"Add tags separated by commas...",className:"form-input"})]}),t.jsxs("div",{className:"checkbox-group",children:[t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:de.wouldRecommend,onChange:R=>We({...de,wouldRecommend:R.target.checked})}),t.jsx("span",{children:"I would recommend this service"})]}),t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:de.wouldHireAgain,onChange:R=>We({...de,wouldHireAgain:R.target.checked})}),t.jsx("span",{children:"I would hire this provider again"})]})]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{onClick:()=>h(!1),className:"btn-secondary",children:"Cancel"}),t.jsx("button",{onClick:xi,className:"btn-primary",disabled:!de.rating||!de.title.trim()||!de.comment.trim(),children:"Submit Review"})]})]})]})}),g&&t.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:t.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Respond to Review"}),t.jsx("button",{onClick:()=>x(!1),className:"close-btn",children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"response-form",children:[t.jsxs("div",{className:"review-preview",children:[t.jsxs("h4",{children:["Review by ",yt&&"customerName"in yt?yt.customerName:"Customer"]}),t.jsx("p",{children:yt&&"comment"in yt?yt.comment:""})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Response *"}),t.jsx("textarea",{value:jt,onChange:R=>B(R.target.value),placeholder:"Write your professional response...",rows:4,className:"form-textarea"})]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{onClick:()=>x(!1),className:"btn-secondary",children:"Cancel"}),t.jsx("button",{onClick:Ha,className:"btn-primary",disabled:!jt.trim(),children:"Submit Response"})]})]})]})})]})}function a$(){const{user:s}=vi();Ct();const[e,n]=f.useState("profile"),[i,r]=f.useState(!0),[a,o]=f.useState(!1),[l,c]=f.useState(!1),[d,h]=f.useState({profile:{displayName:"",phone:"",address:"",bio:"",website:"",social:{linkedin:"",twitter:"",instagram:"",facebook:"",youtube:"",whatsapp:"",telegram:""},professional:{businessName:"",businessType:"",gstNumber:"",panNumber:"",licenseNumber:"",yearsOfExperience:0,specialties:[],serviceAreas:[]},verification:{email:!1,phone:!1,identity:!1,address:!1,business:!1,professional:!1}},notifications:{email:{bookingConfirmations:!0,bookingReminders:!0,reviewNotifications:!0,promotionalOffers:!1,weeklyReports:!0,monthlyReports:!1,securityAlerts:!0,paymentAlerts:!0},push:{bookingUpdates:!0,reviewAlerts:!0,messageAlerts:!0,promotionalAlerts:!1,systemUpdates:!0},sms:{bookingConfirmations:!0,bookingReminders:!0,emergencyAlerts:!0,verificationCodes:!0},inApp:{chatMessages:!0,bookingUpdates:!0,reviewRequests:!0,systemNotifications:!0}},privacy:{profileVisibility:"public",showEmail:!1,showPhone:!1,showAddress:!1,allowReviews:!0,allowMessages:!0,showOnlineStatus:!0,showLastSeen:!1,allowTagging:!0,dataSharing:{analytics:!0,marketing:!1,thirdParty:!1,research:!1}},preferences:{language:"en",timezone:"Asia/Kolkata",currency:"INR",dateFormat:"DD/MM/YYYY",timeFormat:"12h",theme:"light",autoSave:!0,compactView:!1,showTooltips:!0,keyboardShortcuts:!0,animations:!0,soundEffects:!1},security:{twoFactorAuth:!1,loginAlerts:!0,sessionTimeout:30,passwordExpiry:90,activeSessions:[{id:"current",device:"Chrome on Windows",location:"Delhi, India",lastActive:new Date().toISOString(),current:!0}],apiKeys:[],blockedUsers:[]},billing:{plan:"free",paymentMethods:[],invoices:[]},reviews:{autoResponse:!1,responseTemplate:"Thank you for your review! We appreciate your feedback.",reviewReminders:!0,publicReviews:!0,reviewAnalytics:!0,aiInsights:!0,sentimentAnalysis:!0,autoCategorization:!0,spamFilter:!0}}),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[j,v]=f.useState(!1),[b,N]=f.useState(!1),[C,I]=f.useState(!1),[D,$]=f.useState(!1),[E,k]=f.useState([]),[_,T]=f.useState([]),[S,F]=f.useState([]),[L,oe]=f.useState("");f.useEffect(()=>{s&&(async()=>{r(!0);try{const G={profile:{displayName:"Rajesh Kumar",phone:"+91-9876543210",address:"123, Main Street, Civil Lines, Delhi - 110001",bio:"Professional home services provider with 8+ years of experience. Specialized in plumbing, electrical, and AC repair services.",website:"https://rajeshservices.com",social:{linkedin:"https://linkedin.com/in/rajeshkumar",twitter:"https://twitter.com/rajeshservices",instagram:"https://instagram.com/rajeshservices",facebook:"https://facebook.com/rajeshservices",whatsapp:"+91-9876543210",telegram:"@rajeshservices"},professional:{businessName:"Rajesh Home Services",businessType:"Home Services",gstNumber:"07AAAPR1234C1ZV",panNumber:"AAAPR1234C",licenseNumber:"DL/2021/12345",yearsOfExperience:8,specialties:["Plumbing","Electrical","AC Repair","Carpentry"],serviceAreas:["Delhi","Gurgaon","Noida","Faridabad"]},verification:{email:!0,phone:!0,identity:!0,address:!1,business:!0,professional:!0}}},U=[{id:"1",action:"Profile Updated",description:"Updated professional information",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),ip:"192.168.1.100",device:"Chrome on Windows",location:"Delhi, India",status:"success"},{id:"2",action:"Password Changed",description:"Password successfully changed",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),ip:"192.168.1.100",device:"Chrome on Windows",location:"Delhi, India",status:"success"},{id:"3",action:"Login Attempt Failed",description:"Invalid password attempt",timestamp:new Date(Date.now()-3*24*60*60*1e3).toISOString(),ip:"192.168.1.200",device:"Firefox on Android",location:"Mumbai, India",status:"error"}],re=[{id:"1",reviewer:{name:"Priya Sharma",avatar:"https://picsum.photos/100/100?random=1",verified:!0,rating:4.8},service:"AC Repair Service",rating:5,comment:"Excellent service! Rajesh arrived on time and fixed the AC issue quickly. Very professional and knowledgeable.",pros:["Punctual","Professional","Reasonable pricing","Clean work"],cons:["Could have brought more tools"],timestamp:new Date(Date.now()-2*24*60*60*1e3).toISOString(),helpful:24,verified:!0,response:{text:"Thank you so much Priya! I appreciate your detailed feedback. I'll make sure to bring additional tools next time.",timestamp:new Date(Date.now()-2*24*60*60*1e3+2*60*60*1e3).toISOString(),helpful:12}},{id:"2",reviewer:{name:"Amit Patel",avatar:"https://picsum.photos/100/100?random=2",verified:!0,rating:4.5},service:"Plumbing Installation",rating:4,comment:"Good work overall. The plumbing installation was done properly but took longer than expected.",pros:["Quality work","Clean installation","Reasonable price"],cons:["Delayed completion","Communication could be better"],timestamp:new Date(Date.now()-5*24*60*60*1e3).toISOString(),helpful:18,verified:!0,response:{text:"Thank you for your feedback Amit. I apologize for the delay and will work on improving communication.",timestamp:new Date(Date.now()-5*24*60*60*1e3+4*60*60*1e3).toISOString(),helpful:8}},{id:"3",reviewer:{name:"Sneha Reddy",avatar:"https://picsum.photos/100/100?random=3",verified:!1,rating:4.2},service:"Electrical Repair",rating:5,comment:"Amazing service! Fixed the electrical issue in no time. Very professional and safety conscious.",pros:["Quick response","Professional","Safety conscious","Fair pricing"],timestamp:new Date(Date.now()-7*24*60*60*1e3).toISOString(),helpful:32,verified:!0}],W=[{id:"auto-response",title:"Auto-Response to Reviews",description:"Automatically send a response to new reviews",enabled:!0,category:"reviews",icon:"",lastUpdated:new Date(Date.now()-24*60*60*1e3).toISOString()},{id:"review-reminders",title:"Review Reminders",description:"Send reminders to customers to leave reviews",enabled:!0,category:"reviews",icon:"",lastUpdated:new Date(Date.now()-2*24*60*60*1e3).toISOString()},{id:"ai-insights",title:"AI-Powered Insights",description:"Get AI analysis of customer reviews",enabled:!0,category:"reviews",icon:"",lastUpdated:new Date(Date.now()-3*24*60*60*1e3).toISOString()}];h(xe=>({...xe,...G})),k(U),T(re),F(W)}catch(G){console.error("Error loading settings:",G)}finally{r(!1)}})()},[s]);const A=f.useCallback(async()=>{o(!0);try{await new Promise(P=>setTimeout(P,1500)),c(!0),setTimeout(()=>c(!1),3e3)}catch(P){console.error("Error saving settings:",P)}finally{o(!1)}},[d]),Z=f.useCallback((P,G)=>{h(U=>({...U,[P]:{...U[P],...G}}))},[]),Q=P=>new Date(P).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),q=f.useMemo(()=>({totalReviews:_.length,averageRating:_.length>0?_.reduce((P,G)=>P+G.rating,0)/_.length:0,verifiedReviews:_.filter(P=>P.verified).length,responseRate:_.filter(P=>P.response).length/_.length*100,activeSettings:S.filter(P=>P.enabled).length,recentActivity:E.filter(P=>new Date(P.timestamp)>new Date(Date.now()-7*24*60*60*1e3)).length}),[_,S,E]);return i?t.jsx("div",{className:"profile-settings",children:t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading settings..."})]})}):t.jsxs("div",{className:"profile-settings",children:[t.jsxs("section",{className:"settings-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsxs("div",{className:"header-title",children:[t.jsx("h1",{children:"Settings & Preferences"}),t.jsx("p",{children:"Manage your account, privacy, and service preferences"})]}),t.jsxs("div",{className:"header-actions",children:[t.jsxs("div",{className:"search-bar",children:[t.jsx("input",{type:"text",placeholder:"Search settings...",value:L,onChange:P=>oe(P.target.value),className:"search-input"}),t.jsx("button",{className:"search-btn",children:""})]}),t.jsxs("button",{className:"export-btn",onClick:()=>I(!0),children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Export Settings"})]}),t.jsx("button",{className:"save-btn",onClick:A,disabled:a,children:a?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"loading-spinner-small"}),t.jsx("span",{children:"Saving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Save Changes"})]})}),l&&t.jsxs("div",{className:"success-message",children:[t.jsx("span",{className:"success-icon",children:""}),t.jsx("span",{children:"Changes saved successfully!"})]})]})]}),t.jsxs("div",{className:"quick-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("span",{className:"stat-value",children:q.averageRating.toFixed(1)}),t.jsx("span",{className:"stat-label",children:"Average Rating"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("span",{className:"stat-value",children:q.totalReviews}),t.jsx("span",{className:"stat-label",children:"Total Reviews"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("span",{className:"stat-value",children:q.verifiedReviews}),t.jsx("span",{className:"stat-label",children:"Verified Reviews"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("span",{className:"stat-value",children:[q.responseRate.toFixed(1),"%"]}),t.jsx("span",{className:"stat-label",children:"Response Rate"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("span",{className:"stat-value",children:q.activeSettings}),t.jsx("span",{className:"stat-label",children:"Active Settings"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("span",{className:"stat-value",children:q.recentActivity}),t.jsx("span",{className:"stat-label",children:"Recent Activity"})]})]})]})]}),t.jsx("section",{className:"settings-tabs",children:t.jsx("div",{className:"tabs-navigation",children:[{id:"profile",label:"Profile",icon:"",description:"Personal and professional information"},{id:"notifications",label:"Notifications",icon:"",description:"Email, push, and SMS preferences"},{id:"privacy",label:"Privacy",icon:"",description:"Privacy and data sharing settings"},{id:"security",label:"Security",icon:"",description:"Password and authentication settings"},{id:"billing",label:"Billing",icon:"",description:"Subscription and payment methods"},{id:"reviews",label:"Reviews",icon:"",description:"Review management and analytics"},{id:"advanced",label:"Advanced",icon:"",description:"Advanced settings and preferences"}].map(P=>t.jsxs("button",{className:`tab-btn ${e===P.id?"active":""}`,onClick:()=>n(P.id),children:[t.jsx("span",{className:"tab-icon",children:P.icon}),t.jsxs("div",{className:"tab-content",children:[t.jsx("span",{className:"tab-label",children:P.label}),t.jsx("span",{className:"tab-description",children:P.description})]})]},P.id))})}),e==="profile"&&t.jsxs("section",{className:"settings-section profile-settings",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{children:"Profile Settings"}),t.jsx("p",{children:"Manage your personal and professional information"})]}),t.jsxs("div",{className:"settings-grid",children:[t.jsxs("div",{className:"settings-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{children:"Basic Information"}),t.jsx("span",{className:"card-icon",children:""})]}),t.jsxs("div",{className:"card-content",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Display Name"}),t.jsx("input",{type:"text",value:d.profile.displayName,onChange:P=>Z("profile",{displayName:P.target.value}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number"}),t.jsx("input",{type:"tel",value:d.profile.phone,onChange:P=>Z("profile",{phone:P.target.value}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Address"}),t.jsx("textarea",{value:d.profile.address,onChange:P=>Z("profile",{address:P.target.value}),className:"form-textarea",rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bio"}),t.jsx("textarea",{value:d.profile.bio,onChange:P=>Z("profile",{bio:P.target.value}),className:"form-textarea",rows:4,placeholder:"Tell customers about yourself and your services..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Website"}),t.jsx("input",{type:"url",value:d.profile.website,onChange:P=>Z("profile",{website:P.target.value}),className:"form-input",placeholder:"https://yourwebsite.com"})]})]})]}),t.jsxs("div",{className:"settings-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{children:"Professional Information"}),t.jsx("span",{className:"card-icon",children:""})]}),t.jsxs("div",{className:"card-content",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Business Name"}),t.jsx("input",{type:"text",value:d.profile.professional.businessName||"",onChange:P=>Z("profile",{professional:{...d.profile.professional,businessName:P.target.value}}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Business Type"}),t.jsx("input",{type:"text",value:d.profile.professional.businessType||"",onChange:P=>Z("profile",{professional:{...d.profile.professional,businessType:P.target.value}}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Years of Experience"}),t.jsx("input",{type:"number",value:d.profile.professional.yearsOfExperience||0,onChange:P=>Z("profile",{professional:{...d.profile.professional,yearsOfExperience:Number(P.target.value)}}),className:"form-input",min:"0"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GST Number"}),t.jsx("input",{type:"text",value:d.profile.professional.gstNumber||"",onChange:P=>Z("profile",{professional:{...d.profile.professional,gstNumber:P.target.value}}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PAN Number"}),t.jsx("input",{type:"text",value:d.profile.professional.panNumber||"",onChange:P=>Z("profile",{professional:{...d.profile.professional,panNumber:P.target.value}}),className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"License Number"}),t.jsx("input",{type:"text",value:d.profile.professional.licenseNumber||"",onChange:P=>Z("profile",{professional:{...d.profile.professional,licenseNumber:P.target.value}}),className:"form-input"})]})]})]}),t.jsxs("div",{className:"settings-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{children:"Social Media"}),t.jsx("span",{className:"card-icon",children:""})]}),t.jsxs("div",{className:"card-content",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"LinkedIn"}),t.jsx("input",{type:"url",value:d.profile.social.linkedin||"",onChange:P=>Z("profile",{social:{...d.profile.social,linkedin:P.target.value}}),className:"form-input",placeholder:"https://linkedin.com/in/yourprofile"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Twitter"}),t.jsx("input",{type:"url",value:d.profile.social.twitter||"",onChange:P=>Z("profile",{social:{...d.profile.social,twitter:P.target.value}}),className:"form-input",placeholder:"https://twitter.com/yourhandle"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Instagram"}),t.jsx("input",{type:"url",value:d.profile.social.instagram||"",onChange:P=>Z("profile",{social:{...d.profile.social,instagram:P.target.value}}),className:"form-input",placeholder:"https://instagram.com/yourprofile"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Facebook"}),t.jsx("input",{type:"url",value:d.profile.social.facebook||"",onChange:P=>Z("profile",{social:{...d.profile.social,facebook:P.target.value}}),className:"form-input",placeholder:"https://facebook.com/yourpage"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"WhatsApp"}),t.jsx("input",{type:"tel",value:d.profile.social.whatsapp||"",onChange:P=>Z("profile",{social:{...d.profile.social,whatsapp:P.target.value}}),className:"form-input",placeholder:"+91-9876543210"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Telegram"}),t.jsx("input",{type:"text",value:d.profile.social.telegram||"",onChange:P=>Z("profile",{social:{...d.profile.social,telegram:P.target.value}}),className:"form-input",placeholder:"@yourusername"})]})]})]}),t.jsxs("div",{className:"settings-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{children:"Verification Status"}),t.jsx("span",{className:"card-icon",children:""})]}),t.jsx("div",{className:"card-content",children:t.jsxs("div",{className:"verification-list",children:[t.jsxs("div",{className:"verification-item",children:[t.jsxs("div",{className:"verification-info",children:[t.jsx("span",{className:"verification-label",children:"Email Verification"}),t.jsx("span",{className:`verification-status ${d.profile.verification.email?"verified":"unverified"}`,children:d.profile.verification.email?" Verified":" Not Verified"})]}),!d.profile.verification.email&&t.jsx("button",{className:"verify-btn",children:"Verify Now"})]}),t.jsxs("div",{className:"verification-item",children:[t.jsxs("div",{className:"verification-info",children:[t.jsx("span",{className:"verification-label",children:"Phone Verification"}),t.jsx("span",{className:`verification-status ${d.profile.verification.phone?"verified":"unverified"}`,children:d.profile.verification.phone?" Verified":" Not Verified"})]}),!d.profile.verification.phone&&t.jsx("button",{className:"verify-btn",children:"Verify Now"})]}),t.jsxs("div",{className:"verification-item",children:[t.jsxs("div",{className:"verification-info",children:[t.jsx("span",{className:"verification-label",children:"Identity Verification"}),t.jsx("span",{className:`verification-status ${d.profile.verification.identity?"verified":"unverified"}`,children:d.profile.verification.identity?" Verified":" Not Verified"})]}),!d.profile.verification.identity&&t.jsx("button",{className:"verify-btn",children:"Verify Now"})]}),t.jsxs("div",{className:"verification-item",children:[t.jsxs("div",{className:"verification-info",children:[t.jsx("span",{className:"verification-label",children:"Address Verification"}),t.jsx("span",{className:`verification-status ${d.profile.verification.address?"verified":"unverified"}`,children:d.profile.verification.address?" Verified":" Not Verified"})]}),!d.profile.verification.address&&t.jsx("button",{className:"verify-btn",children:"Verify Now"})]}),t.jsxs("div",{className:"verification-item",children:[t.jsxs("div",{className:"verification-info",children:[t.jsx("span",{className:"verification-label",children:"Business Verification"}),t.jsx("span",{className:`verification-status ${d.profile.verification.business?"verified":"unverified"}`,children:d.profile.verification.business?" Verified":" Not Verified"})]}),!d.profile.verification.business&&t.jsx("button",{className:"verify-btn",children:"Verify Now"})]}),t.jsxs("div",{className:"verification-item",children:[t.jsxs("div",{className:"verification-info",children:[t.jsx("span",{className:"verification-label",children:"Professional Verification"}),t.jsx("span",{className:`verification-status ${d.profile.verification.professional?"verified":"unverified"}`,children:d.profile.verification.professional?" Verified":" Not Verified"})]}),!d.profile.verification.professional&&t.jsx("button",{className:"verify-btn",children:"Verify Now"})]})]})})]})]})]}),e==="reviews"&&t.jsxs("section",{className:"settings-section reviews-settings",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{children:"Review Settings"}),t.jsx("p",{children:"Manage how you handle customer reviews and feedback"})]}),t.jsxs("div",{className:"settings-grid",children:[t.jsxs("div",{className:"settings-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{children:"Review Management"}),t.jsx("span",{className:"card-icon",children:""})]}),t.jsxs("div",{className:"card-content",children:[t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Auto-Response to Reviews"}),t.jsx("p",{children:"Automatically send a response to new reviews"})]}),t.jsx("div",{className:"setting-control",children:t.jsxs("label",{className:"switch",children:[t.jsx("input",{type:"checkbox",checked:d.reviews.autoResponse,onChange:P=>Z("reviews",{autoResponse:P.target.checked})}),t.jsx("span",{className:"slider"})]})})]}),d.reviews.autoResponse&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Response Template"}),t.jsx("textarea",{value:d.reviews.responseTemplate,onChange:P=>Z("reviews",{responseTemplate:P.target.value}),className:"form-textarea",rows:3,placeholder:"Enter your auto-response template..."})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Review Reminders"}),t.jsx("p",{children:"Send reminders to customers to leave reviews"})]}),t.jsx("div",{className:"setting-control",children:t.jsxs("label",{className:"switch",children:[t.jsx("input",{type:"checkbox",checked:d.reviews.reviewReminders,onChange:P=>Z("reviews",{reviewReminders:P.target.checked})}),t.jsx("span",{className:"slider"})]})})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Public Reviews"}),t.jsx("p",{children:"Make your reviews visible to the public"})]}),t.jsx("div",{className:"setting-control",children:t.jsxs("label",{className:"switch",children:[t.jsx("input",{type:"checkbox",checked:d.reviews.publicReviews,onChange:P=>Z("reviews",{publicReviews:P.target.checked})}),t.jsx("span",{className:"slider"})]})})]})]})]}),t.jsxs("div",{className:"settings-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{children:"AI-Powered Features"}),t.jsx("span",{className:"card-icon",children:""})]}),t.jsxs("div",{className:"card-content",children:[t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"AI Insights"}),t.jsx("p",{children:"Get AI-powered insights from customer reviews"})]}),t.jsx("div",{className:"setting-control",children:t.jsxs("label",{className:"switch",children:[t.jsx("input",{type:"checkbox",checked:d.reviews.aiInsights,onChange:P=>Z("reviews",{aiInsights:P.target.checked})}),t.jsx("span",{className:"slider"})]})})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Sentiment Analysis"}),t.jsx("p",{children:"Analyze sentiment of customer reviews"})]}),t.jsx("div",{className:"setting-control",children:t.jsxs("label",{className:"switch",children:[t.jsx("input",{type:"checkbox",checked:d.reviews.sentimentAnalysis,onChange:P=>Z("reviews",{sentimentAnalysis:P.target.checked})}),t.jsx("span",{className:"slider"})]})})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Auto-Categorization"}),t.jsx("p",{children:"Automatically categorize reviews"})]}),t.jsx("div",{className:"setting-control",children:t.jsxs("label",{className:"switch",children:[t.jsx("input",{type:"checkbox",checked:d.reviews.autoCategorization,onChange:P=>Z("reviews",{autoCategorization:P.target.checked})}),t.jsx("span",{className:"slider"})]})})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Spam Filter"}),t.jsx("p",{children:"Automatically filter spam reviews"})]}),t.jsx("div",{className:"setting-control",children:t.jsxs("label",{className:"switch",children:[t.jsx("input",{type:"checkbox",checked:d.reviews.spamFilter,onChange:P=>Z("reviews",{spamFilter:P.target.checked})}),t.jsx("span",{className:"slider"})]})})]})]})]}),t.jsxs("div",{className:"settings-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{children:"Recent Reviews"}),t.jsx("span",{className:"card-icon",children:""})]}),t.jsx("div",{className:"card-content",children:t.jsx("div",{className:"reviews-list",children:_.map(P=>t.jsxs("div",{className:"review-item",children:[t.jsxs("div",{className:"review-header",children:[t.jsxs("div",{className:"reviewer-info",children:[t.jsx("img",{src:P.reviewer.avatar,alt:P.reviewer.name,className:"reviewer-avatar"}),t.jsxs("div",{className:"reviewer-details",children:[t.jsx("h4",{children:P.reviewer.name}),t.jsxs("div",{className:"review-rating",children:[Array.from({length:5},(G,U)=>t.jsx("span",{className:`star ${U<P.rating?"filled":"empty"}`,children:""},U)),t.jsxs("span",{className:"rating-number",children:[P.rating,".0"]})]})]})]}),t.jsxs("div",{className:"review-meta",children:[t.jsx("span",{className:"service-name",children:P.service}),t.jsx("span",{className:"review-date",children:Q(P.timestamp)}),P.verified&&t.jsx("span",{className:"verified-badge",children:" Verified"})]})]}),t.jsx("p",{className:"review-comment",children:P.comment}),P.pros&&P.pros.length>0&&t.jsxs("div",{className:"review-pros",children:[t.jsx("h5",{children:" Pros"}),t.jsx("div",{className:"pros-list",children:P.pros.map((G,U)=>t.jsx("span",{className:"pro-tag",children:G},U))})]}),P.cons&&P.cons.length>0&&t.jsxs("div",{className:"review-cons",children:[t.jsx("h5",{children:" Cons"}),t.jsx("div",{className:"cons-list",children:P.cons.map((G,U)=>t.jsx("span",{className:"con-tag",children:G},U))})]}),P.response&&t.jsxs("div",{className:"review-response",children:[t.jsx("h5",{children:" Your Response"}),t.jsx("p",{children:P.response.text}),t.jsx("span",{className:"response-date",children:Q(P.response.timestamp)})]}),t.jsxs("div",{className:"review-actions",children:[t.jsx("button",{className:"action-btn respond",children:"Respond"}),t.jsx("button",{className:"action-btn edit",children:"Edit"}),t.jsx("button",{className:"action-btn hide",children:"Hide"})]})]},P.id))})})]})]})]}),t.jsxs("section",{className:"activity-logs",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{children:"Recent Activity"}),t.jsx("p",{children:"Track your recent account activity"})]}),t.jsx("div",{className:"logs-container",children:E.map(P=>t.jsxs("div",{className:`log-item ${P.status}`,children:[t.jsxs("div",{className:"log-icon",children:[P.status==="success"&&"",P.status==="warning"&&"",P.status==="error"&&""]}),t.jsxs("div",{className:"log-content",children:[t.jsx("h4",{children:P.action}),t.jsx("p",{children:P.description}),t.jsxs("div",{className:"log-meta",children:[t.jsx("span",{className:"log-time",children:Q(P.timestamp)}),t.jsx("span",{className:"log-device",children:P.device}),t.jsx("span",{className:"log-location",children:P.location}),t.jsx("span",{className:"log-ip",children:P.ip})]})]})]},P.id))})]})]})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".expand-btn").forEach(l=>{l.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation();const d=this.closest(".service-details");if(!d)return;d.classList.contains("expanded")?(d.classList.remove("expanded"),this.innerHTML="<span> More Details</span>"):(document.querySelectorAll(".service-details.expanded").forEach(m=>{m.classList.remove("expanded");const p=m.querySelector(".expand-btn");p&&(p.innerHTML="<span> More Details</span>")}),d.classList.add("expanded"),this.innerHTML="<span> Less Details</span>",navigator.vibrate&&navigator.vibrate(50))})});const e=document.querySelectorAll(".emergency-book-btn"),n=document.querySelectorAll(".emergency-call-btn");e.forEach(l=>{l.addEventListener("click",function(c){c.preventDefault();const d=this.closest(".emergency-service-card");if(!d)return;const h=d.querySelector(".service-info h3"),m=h?h.textContent:"Emergency Service";navigator.vibrate&&navigator.vibrate([100,50,100]),this.style.transform="scale(0.95)",setTimeout(()=>{this.style.transform=""},200),console.log(`Booking emergency service: ${m}`),alert(`Booking emergency ${m}...

In a real app, this would navigate to the booking page.`)})}),n.forEach(l=>{l.addEventListener("click",function(c){c.preventDefault();const d=this.closest(".emergency-service-card");if(!d)return;const h=d.querySelector(".service-info h3"),m=h?h.textContent:"Emergency Service";navigator.vibrate&&navigator.vibrate([200,100,200]),this.style.transform="scale(0.95)",setTimeout(()=>{this.style.transform=""},200),confirm(`Call emergency ${m}?

This would connect you to the service provider.`)&&(console.log(`Calling emergency service: ${m}`),alert(`Connecting to ${m}...

Please stay on the line. A representative will be with you shortly.`))})});const i=document.querySelector(".search-input");i&&i.addEventListener("input",function(l){const c=l.target.value.toLowerCase();document.querySelectorAll(".emergency-service-card").forEach(h=>{const m=h.querySelector(".service-info h3"),p=h.querySelector(".service-info p");if(!m||!p){h.style.display="";return}const g=m.textContent.toLowerCase(),x=p.textContent.toLowerCase();g.includes(c)||x.includes(c)?h.style.display="":h.style.display="none"})});const r=document.querySelector(".sort-select");r&&r.addEventListener("change",function(l){const c=l.target.value,d=document.querySelector(".services-grid");if(!d)return;const h=Array.from(document.querySelectorAll(".emergency-service-card"));h.sort((m,p)=>{try{switch(c){case"responseTime":const g=m.querySelector(".metric-value"),x=p.querySelector(".metric-value");if(!g||!x)return 0;const j=parseInt(g.textContent),v=parseInt(x.textContent);return j-v;case"price":const b=m.querySelectorAll(".metric-value"),N=p.querySelectorAll(".metric-value");if(b.length<2||N.length<2)return 0;const C=parseInt(b[1].textContent.replace("","").replace(/,/g,"")),I=parseInt(N[1].textContent.replace("","").replace(/,/g,""));return C-I;case"available":const D=m.querySelector(".status-indicator"),$=p.querySelector(".status-indicator");if(!D||!$)return 0;const E=D.classList.contains("available");return $.classList.contains("available")-E;default:return 0}}catch(g){return console.warn("Error sorting services:",g),0}}),h.forEach(m=>{d.appendChild(m)})});function a(l){const c=l.currentTarget,d=c.getBoundingClientRect(),h=document.createElement("span"),m=Math.max(d.width,d.height),p=l.clientX-d.left-m/2,g=l.clientY-d.top-m/2;if(h.style.width=h.style.height=m+"px",h.style.left=p+"px",h.style.top=g+"px",h.classList.add("ripple"),!document.querySelector("#ripple-styles")){const x=document.createElement("style");x.id="ripple-styles",x.textContent=`
        .ripple {
          position: absolute;
          border-radius: 50%;
          background: rgba(255, 255, 255, 0.5);
          transform: scale(0);
          animation: ripple-animation 0.6s ease-out;
          pointer-events: none;
        }
        @keyframes ripple-animation {
          to {
            transform: scale(4);
            opacity: 0;
          }
        }
        button {
          position: relative;
          overflow: hidden;
        }
      `,document.head.appendChild(x)}c.appendChild(h),setTimeout(()=>h.remove(),600)}document.querySelectorAll("button").forEach(l=>{l.addEventListener("click",a)});function o(){const l=document.querySelector(".services-grid"),c=document.querySelector(".emergency-content");c&&(window.innerWidth<=1200?c.style.gridTemplateColumns="1fr":c.style.gridTemplateColumns="1fr 350px"),l&&(window.innerWidth<=768?l.style.gridTemplateColumns="1fr":window.innerWidth<=1024?l.style.gridTemplateColumns="repeat(auto-fit, minmax(280px, 1fr))":l.style.gridTemplateColumns="repeat(auto-fit, minmax(350px, 1fr))")}window.addEventListener("resize",o),o()});function o$(){var C;const s=Ct(),[e,n]=f.useState([]),[i,r]=f.useState(!0),[a,o]=f.useState(null),[l,c]=f.useState(""),[d,h]=f.useState(null),[m,p]=f.useState(null),x=(C=hn().state)==null?void 0:C.fromQuickAction,j=[{id:"emergency-plumbing",title:"Emergency Plumbing",category:"Plumbing",price:2500,responseTime:30,available:!0,description:"24/7 emergency plumbing services for leaks, bursts, and blockages",providerCount:12},{id:"emergency-electrical",title:"24/7 Electrical",category:"Electrical",price:3e3,responseTime:45,available:!0,description:"Urgent electrical repairs and power restoration services",providerCount:8},{id:"emergency-ac",title:"Emergency AC Repair",category:"AC Repair",price:2e3,responseTime:60,available:!0,description:"Immediate AC repair for breakdowns and cooling failures",providerCount:15},{id:"emergency-locksmith",title:"Urgent Locksmith",category:"Security",price:1800,responseTime:20,available:!0,description:"Emergency lockout and lock replacement services",providerCount:6},{id:"emergency-medical",title:"Medical Transport",category:"Medical",price:1500,responseTime:15,available:!0,description:"Non-emergency medical transportation services",providerCount:10},{id:"emergency-gas",title:"Gas Leak Repair",category:"Gas",price:3500,responseTime:25,available:!0,description:"Urgent gas leak detection and repair services",providerCount:4}];f.useEffect(()=>{try{navigator.geolocation?navigator.geolocation.getCurrentPosition(I=>{c(`${I.coords.latitude.toFixed(4)}, ${I.coords.longitude.toFixed(4)}`)},I=>{console.log("Location access denied:",I),c("Location not available")}):c("Geolocation not supported")}catch(I){console.error("Error getting location:",I),c("Location error")}try{const I=setTimeout(()=>{j&&j.length>0?(n(j),h(null)):h("No emergency services available"),r(!1)},800);return()=>clearTimeout(I)}catch(I){console.error("Error loading services:",I),h("Failed to load emergency services"),n(j),r(!1)}},[]);const v=I=>{try{navigator.vibrate&&navigator.vibrate([100,50,100]),o(I),s("/advanced-booking",{state:{service:{id:I.id,title:I.title,category:I.category,price:I.price,duration:"2-4 hours",description:I.description,features:["24/7 Emergency","Expert Technicians","Warranty Included","Same Day Service"],professionals:I.providerCount,rating:4.8,reviews:342,availability:I.available},urgency:"urgent",fromEmergency:!0}})}catch(D){console.error("Error booking emergency service:",D),alert("Failed to book emergency service. Please try again.")}},b=I=>{try{navigator.vibrate&&navigator.vibrate([200,100,200]),confirm(`Call emergency ${I.category} service?

In a real app, this would initiate a phone call to: 1-800-URGENT`)&&alert(`Connecting to ${I.title}...

Please stay on the line. A representative will be with you shortly.`)}catch(D){console.error("Error calling emergency service:",D),alert("Failed to connect to emergency service. Please call 1-800-URGENT directly.")}},N=I=>{p(m===I?null:I)};return i?t.jsx("div",{className:"emergency-loading",children:t.jsxs("div",{className:"loading-spinner",children:[t.jsx("div",{className:"spinner"}),t.jsx("h2",{children:"Finding Emergency Services..."}),t.jsx("p",{children:"Locating available providers near you"})]})}):d?t.jsx("div",{className:"emergency-loading",children:t.jsxs("div",{className:"error-message",children:[t.jsx("div",{className:"error-icon",children:""}),t.jsx("h2",{children:"Service Unavailable"}),t.jsx("p",{children:d}),t.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Retry"})]})}):t.jsxs("div",{className:"emergency-services",children:[t.jsx("div",{className:"emergency-header",children:t.jsxs("div",{className:"emergency-alert",children:[t.jsx("div",{className:"alert-icon",children:t.jsx("span",{className:"pulse-animation",children:""})}),t.jsxs("div",{className:"alert-content",children:[t.jsx("h1",{children:"Emergency Services"}),t.jsx("p",{children:"24/7 immediate assistance for urgent needs"}),x&&t.jsx("div",{className:"quick-action-indicator",children:t.jsx("span",{children:" Quick Action Accessed"})}),t.jsxs("div",{className:"location-info",children:[t.jsx("span",{className:"location-icon",children:""}),t.jsx("span",{children:l||"Detecting location..."})]})]})]})}),t.jsxs("div",{className:"emergency-content",children:[e.length===0?t.jsxs("div",{className:"no-services",children:[t.jsx("div",{className:"no-services-icon",children:""}),t.jsx("h2",{children:"No Emergency Services Available"}),t.jsx("p",{children:"We're sorry, but no emergency services are currently available in your area."}),t.jsxs("div",{className:"emergency-hotline",children:[t.jsx("h3",{children:"Emergency Hotline"}),t.jsxs("div",{className:"hotline-number",children:[t.jsx("span",{className:"phone-icon",children:""}),t.jsx("span",{className:"number",children:"1-800-URGENT"})]}),t.jsx("p",{children:"For immediate assistance, call our 24/7 emergency hotline"})]})]}):t.jsx("div",{className:"services-grid",children:e.map(I=>t.jsxs("div",{className:"emergency-service-card",children:[t.jsxs("div",{className:"service-header",children:[t.jsxs("div",{className:"service-info",children:[t.jsx("h3",{children:I.title}),t.jsx("p",{children:I.description})]}),t.jsx("div",{className:"service-status",children:t.jsxs("div",{className:`status-indicator ${I.available?"available":"unavailable"}`,children:[t.jsx("span",{className:"status-dot"}),t.jsx("span",{children:I.available?"Available":"Busy"})]})})]}),t.jsxs("div",{className:"service-metrics",children:[t.jsxs("div",{className:"metric",children:[t.jsx("span",{className:"metric-icon",children:""}),t.jsxs("div",{className:"metric-content",children:[t.jsxs("span",{className:"metric-value",children:[I.responseTime," min"]}),t.jsx("span",{className:"metric-label",children:"Response Time"})]})]}),t.jsxs("div",{className:"metric",children:[t.jsx("span",{className:"metric-icon",children:""}),t.jsxs("div",{className:"metric-content",children:[t.jsxs("span",{className:"metric-value",children:["",I.price]}),t.jsx("span",{className:"metric-label",children:"Starting Price"})]})]}),t.jsxs("div",{className:"metric",children:[t.jsx("span",{className:"metric-icon",children:""}),t.jsxs("div",{className:"metric-content",children:[t.jsx("span",{className:"metric-value",children:I.providerCount}),t.jsx("span",{className:"metric-label",children:"Providers Available"})]})]})]}),t.jsxs("div",{className:`service-details ${m===I.id?"expanded":""}`,children:[t.jsx("button",{className:"expand-btn",onClick:()=>N(I.id),children:t.jsxs("span",{children:[m===I.id?"":""," More Details"]})}),m===I.id&&t.jsxs("div",{className:"expanded-content",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("div",{className:"detail-text",children:[t.jsx("h4",{children:"Services Include"}),t.jsxs("p",{children:["Emergency repairs, diagnostics, and immediate solutions for ",I.category.toLowerCase()," issues."]})]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("div",{className:"detail-text",children:[t.jsx("h4",{children:"Availability"}),t.jsxs("p",{children:["Available 24/7 including holidays and weekends. Average response time: ",I.responseTime," minutes."]})]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("div",{className:"detail-text",children:[t.jsx("h4",{children:"Pricing"}),t.jsxs("p",{children:["Starting at ",I.price,". Final cost depends on the complexity and required materials."]})]})]})]})]}),t.jsxs("div",{className:"service-actions",children:[t.jsxs("button",{className:"emergency-book-btn",onClick:()=>v(I),disabled:!I.available,children:[t.jsx("span",{className:"btn-icon",children:""}),"Book Emergency Service"]}),t.jsxs("button",{className:"emergency-call-btn",onClick:()=>b(I),disabled:!I.available,children:[t.jsx("span",{className:"btn-icon",children:""}),"Call Now"]})]})]},I.id))}),t.jsxs("div",{className:"emergency-info",children:[t.jsxs("div",{className:"info-card",children:[t.jsx("h3",{children:"Emergency Information"}),t.jsxs("div",{className:"info-list",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-icon",children:""}),t.jsxs("div",{className:"info-content",children:[t.jsx("h4",{children:"Quick Response"}),t.jsx("p",{children:"Providers arrive within the specified response time"})]})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-icon",children:""}),t.jsxs("div",{className:"info-content",children:[t.jsx("h4",{children:"Transparent Pricing"}),t.jsx("p",{children:"No hidden fees, pay only for services rendered"})]})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-icon",children:""}),t.jsxs("div",{className:"info-content",children:[t.jsx("h4",{children:"Verified Professionals"}),t.jsx("p",{children:"All providers are background-checked and certified"})]})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-icon",children:""}),t.jsxs("div",{className:"info-content",children:[t.jsx("h4",{children:"24/7 Support"}),t.jsx("p",{children:"Customer service available round the clock"})]})]})]})]}),t.jsxs("div",{className:"emergency-hotline",children:[t.jsx("h3",{children:"Emergency Hotline"}),t.jsxs("div",{className:"hotline-number",children:[t.jsx("span",{className:"phone-icon",children:""}),t.jsx("span",{className:"number",children:"1-800-URGENT"})]}),t.jsx("p",{children:"For immediate assistance, call our 24/7 emergency hotline"})]})]})]})]})}function l$(){const s=Ct(),[e,n]=f.useState(null),[i,r]=f.useState(""),[a,o]=f.useState(""),[l,c]=f.useState(null),[d,h]=f.useState(1),[m,p]=f.useState(!1),[g,x]=f.useState(""),[j,v]=f.useState(""),[b,N]=f.useState("normal"),C=[{id:"plumbing",title:"Professional Plumbing",category:"Plumbing",price:1500,duration:120,description:"Expert plumbing services for repairs, installations, and maintenance",providerCount:45,rating:4.8,popular:!0},{id:"electrical",title:"Electrical Services",category:"Electrical",price:1800,duration:90,description:"Certified electricians for all your electrical needs",providerCount:32,rating:4.7,popular:!0},{id:"cleaning",title:"Deep Cleaning",category:"Cleaning",price:2e3,duration:180,description:"Thorough cleaning services for homes and offices",providerCount:67,rating:4.9,popular:!1},{id:"ac",title:"AC Repair & Service",category:"AC Service",price:1200,duration:60,description:"Fast and reliable AC repair and maintenance services",providerCount:28,rating:4.6,popular:!1},{id:"painting",title:"Painting Services",category:"Painting",price:3500,duration:240,description:"Professional painting for interior and exterior spaces",providerCount:19,rating:4.8,popular:!1},{id:"pest",title:"Pest Control",category:"Pest Control",price:1e3,duration:45,description:"Effective pest control and prevention services",providerCount:23,rating:4.5,popular:!1}],I=[{id:"p1",name:"QuickFix Pro",rating:4.9,specialty:"Plumbing",price:1500,available:!0,image:"",responseTime:"30 min",completedJobs:342},{id:"p2",name:"Sparkle Clean",rating:4.8,specialty:"Cleaning",price:2e3,available:!0,image:"",responseTime:"1 hour",completedJobs:256},{id:"p3",name:"ElectroSafe",rating:5,specialty:"Electrical",price:1800,available:!0,image:"",responseTime:"45 min",completedJobs:189}],D=[{time:"09:00 AM",available:!0,provider:"John D."},{time:"10:00 AM",available:!0,provider:"Sarah M."},{time:"11:00 AM",available:!1},{time:"12:00 PM",available:!0,provider:"Mike R."},{time:"01:00 PM",available:!0,provider:"Lisa K."},{time:"02:00 PM",available:!0,provider:"Tom B."},{time:"03:00 PM",available:!1},{time:"04:00 PM",available:!0,provider:"Amy S."},{time:"05:00 PM",available:!0,provider:"David L."},{time:"06:00 PM",available:!0,provider:"Chris P."}];f.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(F=>{x(`${F.coords.latitude.toFixed(4)}, ${F.coords.longitude.toFixed(4)}`)},F=>{x("Location not available")});const S=new Date;S.setDate(S.getDate()+1),r(S.toISOString().split("T")[0])},[]);const $=S=>{n(S),h(2)},E=S=>{c(S),h(3)},k=()=>{i&&a&&h(4)},_=()=>{p(!0),setTimeout(()=>{p(!1),s("/bookings?confirmed=true")},2e3)},T=e?I.filter(S=>S.specialty===e.category):I;return t.jsxs("div",{className:"book-service",children:[t.jsxs("div",{className:"booking-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h1",{children:"Book Professional Service"}),t.jsx("p",{children:"Get expert help at your convenience"}),t.jsxs("div",{className:"location-display",children:[t.jsx("span",{className:"location-icon",children:""}),t.jsx("span",{children:g||"Detecting location..."})]})]}),t.jsx("div",{className:"progress-indicator",children:[1,2,3,4].map(S=>t.jsxs("div",{className:`progress-step ${d>=S?"active":""}`,children:[t.jsx("div",{className:"step-number",children:S}),t.jsxs("div",{className:"step-label",children:[S===1&&"Service",S===2&&"Provider",S===3&&"Schedule",S===4&&"Confirm"]})]},S))})]}),t.jsxs("div",{className:"booking-content",children:[d===1&&t.jsxs("div",{className:"service-selection",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{children:"Choose a Service"}),t.jsx("p",{children:"Select the service you need help with"})]}),t.jsx("div",{className:"services-grid",children:C.map(S=>t.jsxs("div",{className:`service-card ${(e==null?void 0:e.id)===S.id?"selected":""}`,onClick:()=>$(S),children:[S.popular&&t.jsx("div",{className:"popular-badge",children:t.jsx("span",{children:" Popular"})}),t.jsxs("div",{className:"service-icon",children:[S.category==="Plumbing"&&"",S.category==="Electrical"&&"",S.category==="Cleaning"&&"",S.category==="AC Service"&&"",S.category==="Painting"&&"",S.category==="Pest Control"&&""]}),t.jsxs("div",{className:"service-info",children:[t.jsx("h3",{children:S.title}),t.jsx("p",{children:S.description}),t.jsxs("div",{className:"service-meta",children:[t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-icon",children:""}),t.jsxs("span",{children:["",S.price]})]}),t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-icon",children:""}),t.jsxs("span",{children:[S.duration," min"]})]}),t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-icon",children:""}),t.jsx("span",{children:S.rating})]})]}),t.jsxs("div",{className:"provider-count",children:[t.jsx("span",{className:"count-icon",children:""}),t.jsxs("span",{children:[S.providerCount," providers available"]})]})]}),t.jsx("div",{className:"select-arrow",children:""})]},S.id))})]}),d===2&&t.jsxs("div",{className:"provider-selection",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("button",{className:"back-btn",onClick:()=>h(1),children:" Back"}),t.jsx("h2",{children:"Choose a Provider"}),t.jsxs("p",{children:["Select a professional for your ",e==null?void 0:e.title]})]}),t.jsx("div",{className:"providers-grid",children:T.map(S=>t.jsxs("div",{className:`provider-card ${(l==null?void 0:l.id)===S.id?"selected":""}`,onClick:()=>E(S),children:[t.jsxs("div",{className:"provider-header",children:[t.jsx("div",{className:"provider-avatar",children:t.jsx("span",{children:S.image})}),t.jsxs("div",{className:"provider-info",children:[t.jsx("h3",{children:S.name}),t.jsx("p",{className:"provider-specialty",children:S.specialty}),t.jsxs("div",{className:"provider-rating",children:[t.jsx("span",{className:"stars",children:""}),t.jsx("span",{children:S.rating})]})]}),t.jsxs("div",{className:"provider-status",children:[t.jsx("div",{className:`status-dot ${S.available?"available":"busy"}`}),t.jsx("span",{children:S.available?"Available":"Busy"})]})]}),t.jsxs("div",{className:"provider-stats",children:[t.jsxs("div",{className:"stat",children:[t.jsx("span",{className:"stat-icon",children:""}),t.jsxs("span",{className:"stat-value",children:["",S.price]})]}),t.jsxs("div",{className:"stat",children:[t.jsx("span",{className:"stat-icon",children:""}),t.jsx("span",{className:"stat-value",children:S.responseTime})]}),t.jsxs("div",{className:"stat",children:[t.jsx("span",{className:"stat-icon",children:""}),t.jsxs("span",{className:"stat-value",children:[S.completedJobs," jobs"]})]})]}),t.jsxs("div",{className:"provider-actions",children:[t.jsx("button",{className:"view-profile-btn",children:"View Profile"}),t.jsx("button",{className:"select-provider-btn",children:"Select"})]})]},S.id))})]}),d===3&&t.jsxs("div",{className:"schedule-selection",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("button",{className:"back-btn",onClick:()=>h(2),children:" Back"}),t.jsx("h2",{children:"Schedule Your Service"}),t.jsx("p",{children:"Choose a date and time that works for you"})]}),t.jsxs("div",{className:"schedule-container",children:[t.jsxs("div",{className:"date-selection",children:[t.jsx("label",{children:"Select Date"}),t.jsx("input",{type:"date",value:i,onChange:S=>r(S.target.value),min:new Date().toISOString().split("T")[0]})]}),t.jsxs("div",{className:"urgency-selection",children:[t.jsx("label",{children:"Urgency Level"}),t.jsx("div",{className:"urgency-options",children:[{value:"normal",label:"Normal",icon:""},{value:"urgent",label:"Urgent",icon:""},{value:"emergency",label:"Emergency",icon:""}].map(S=>t.jsxs("button",{className:`urgency-btn ${b===S.value?"active":""}`,onClick:()=>N(S.value),children:[t.jsx("span",{className:"urgency-icon",children:S.icon}),t.jsx("span",{children:S.label})]},S.value))})]}),t.jsxs("div",{className:"time-selection",children:[t.jsx("label",{children:"Available Time Slots"}),t.jsx("div",{className:"time-slots-grid",children:D.map(S=>t.jsxs("button",{className:`time-slot ${S.available?"":"disabled"} ${a===S.time?"selected":""}`,onClick:()=>S.available&&o(S.time),disabled:!S.available,children:[t.jsx("div",{className:"slot-time",children:S.time}),S.provider&&t.jsxs("div",{className:"slot-provider",children:["with ",S.provider]}),!S.available&&t.jsx("div",{className:"slot-unavailable",children:"Unavailable"})]},S.time))})]}),t.jsxs("div",{className:"special-requests",children:[t.jsx("label",{children:"Special Requests (Optional)"}),t.jsx("textarea",{value:j,onChange:S=>v(S.target.value),placeholder:"Any specific requirements or notes for the provider...",rows:4})]}),t.jsx("button",{className:"continue-btn",onClick:k,disabled:!i||!a,children:"Continue to Confirmation"})]})]}),d===4&&t.jsxs("div",{className:"booking-confirmation",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("button",{className:"back-btn",onClick:()=>h(3),children:" Back"}),t.jsx("h2",{children:"Confirm Your Booking"}),t.jsx("p",{children:"Please review your booking details"})]}),t.jsxs("div",{className:"confirmation-summary",children:[t.jsxs("div",{className:"summary-card",children:[t.jsx("h3",{children:"Service Details"}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"label",children:"Service:"}),t.jsx("span",{className:"value",children:e==null?void 0:e.title})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"label",children:"Provider:"}),t.jsx("span",{className:"value",children:l==null?void 0:l.name})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"label",children:"Date:"}),t.jsx("span",{className:"value",children:new Date(i).toLocaleDateString()})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"label",children:"Time:"}),t.jsx("span",{className:"value",children:a})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"label",children:"Duration:"}),t.jsxs("span",{className:"value",children:[e==null?void 0:e.duration," minutes"]})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"label",children:"Urgency:"}),t.jsx("span",{className:"value",children:b.charAt(0).toUpperCase()+b.slice(1)})]}),j&&t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"label",children:"Special Requests:"}),t.jsx("span",{className:"value",children:j})]})]}),t.jsxs("div",{className:"pricing-card",children:[t.jsx("h3",{children:"Pricing"}),t.jsxs("div",{className:"price-item",children:[t.jsx("span",{className:"label",children:"Service Cost:"}),t.jsxs("span",{className:"value",children:["",e==null?void 0:e.price]})]}),t.jsxs("div",{className:"price-item",children:[t.jsx("span",{className:"label",children:"Urgency Fee:"}),t.jsx("span",{className:"value",children:b==="emergency"?"500":b==="urgent"?"200":"0"})]}),t.jsxs("div",{className:"price-item total",children:[t.jsx("span",{className:"label",children:"Total:"}),t.jsxs("span",{className:"value",children:["",(e==null?void 0:e.price)+(b==="emergency"?500:b==="urgent"?200:0)]})]})]}),t.jsxs("div",{className:"payment-method",children:[t.jsx("h3",{children:"Payment Method"}),t.jsxs("div",{className:"payment-options",children:[t.jsxs("label",{className:"payment-option",children:[t.jsx("input",{type:"radio",name:"payment",value:"cash",defaultChecked:!0}),t.jsx("span",{className:"payment-icon",children:""}),t.jsx("span",{children:"Cash on Service"})]}),t.jsxs("label",{className:"payment-option",children:[t.jsx("input",{type:"radio",name:"payment",value:"online"}),t.jsx("span",{className:"payment-icon",children:""}),t.jsx("span",{children:"Pay Online"})]})]})]}),t.jsx("button",{className:"confirm-booking-btn",onClick:_,disabled:m,children:m?"Processing...":"Confirm Booking"})]})]})]})]})}function c$(){const s=Ct(),[e]=ay(),n=e.get("id"),[i,r]=f.useState(null),[a,o]=f.useState([]),[l,c]=f.useState(!0),[d,h]=f.useState(null),[m,p]=f.useState(0),[g,x]=f.useState(n||""),[j,v]=f.useState(n||""),b=[{id:"BK001",service:"Professional Plumbing",provider:"QuickFix Pro",customerName:"Rahul Sharma",date:"2024-11-23",time:"02:00 PM",status:"on_the_way",estimatedArrival:"2:30 PM",providerLocation:{lat:28.6139,lng:77.209},customerLocation:{lat:28.7041,lng:77.1025},price:1500,specialRequests:"Kitchen sink leak repair"},{id:"BK002",service:"Electrical Services",provider:"ElectroSafe",customerName:"Priya Patel",date:"2024-11-23",time:"10:00 AM",status:"in_progress",price:1800},{id:"BK003",service:"Deep Cleaning",provider:"Sparkle Clean",customerName:"Amit Kumar",date:"2024-11-22",time:"03:00 PM",status:"completed",price:2e3}];f.useEffect(()=>{n?N(n):c(!1)},[n]),f.useEffect(()=>{const E=setInterval(()=>{i&&(i.status==="on_the_way"||i.status==="in_progress")&&(p(k=>k+1),C())},5e3);return()=>clearInterval(E)},[i]);const N=E=>{c(!0),h(null),setTimeout(()=>{const k=b.find(_=>_.id===E);k?(r(k),C(k)):h("Booking not found. Please check your booking ID."),c(!1)},1e3)},C=E=>{const k=E||i;if(!k)return;const _=[{id:"confirmed",title:"Booking Confirmed",description:"Your booking has been confirmed and payment processed",completed:!0,timestamp:new Date(k.date+" "+k.time),duration:2},{id:"provider_assigned",title:"Provider Assigned",description:`${k.provider} has been assigned to your booking`,completed:["provider_assigned","on_the_way","in_progress","completed"].includes(k.status),timestamp:new Date(new Date(k.date+" "+k.time).getTime()+5*6e4),duration:3},{id:"on_the_way",title:"Provider On The Way",description:`${k.provider} is on the way to your location`,completed:["on_the_way","in_progress","completed"].includes(k.status),timestamp:new Date(new Date(k.date+" "+k.time).getTime()+15*6e4),duration:15},{id:"in_progress",title:"Service In Progress",description:"Provider has arrived and started working on your service",completed:["in_progress","completed"].includes(k.status),timestamp:new Date(new Date(k.date+" "+k.time).getTime()+30*6e4),duration:60},{id:"completed",title:"Service Completed",description:"Service has been completed successfully",completed:k.status==="completed",timestamp:new Date(new Date(k.date+" "+k.time).getTime()+90*6e4),duration:5}];o(_)},I=()=>{j.trim()&&(x(j.trim()),N(j.trim()))},D=E=>{switch(E){case"confirmed":return"#3b82f6";case"provider_assigned":return"#8b5cf6";case"on_the_way":return"#f59e0b";case"in_progress":return"#10b981";case"completed":return"#059669";case"cancelled":return"#ef4444";default:return"#6b7280"}},$=E=>{switch(E){case"confirmed":return"";case"provider_assigned":return"";case"on_the_way":return"";case"in_progress":return"";case"completed":return"";case"cancelled":return"";default:return""}};return l?t.jsx("div",{className:"track-booking",children:t.jsx("div",{className:"loading-state",children:t.jsxs("div",{className:"loading-spinner",children:[t.jsx("div",{className:"spinner"}),t.jsx("h2",{children:"Loading Booking Details..."}),t.jsx("p",{children:"Please wait while we fetch your tracking information"})]})})}):d?t.jsx("div",{className:"track-booking",children:t.jsxs("div",{className:"error-state",children:[t.jsx("div",{className:"error-icon",children:""}),t.jsx("h2",{children:"Booking Not Found"}),t.jsx("p",{children:d}),t.jsxs("div",{className:"search-section",children:[t.jsx("h3",{children:"Search Your Booking"}),t.jsxs("div",{className:"search-input-group",children:[t.jsx("input",{type:"text",value:j,onChange:E=>v(E.target.value),placeholder:"Enter your booking ID (e.g., BK001)",className:"search-input"}),t.jsx("button",{onClick:I,className:"search-btn",children:"Search"})]})]})]})}):i?t.jsxs("div",{className:"track-booking",children:[t.jsxs("div",{className:"tracking-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("button",{className:"back-btn",onClick:()=>s("/bookings"),children:" Back to Bookings"}),t.jsx("h1",{children:"Track Your Booking"}),t.jsxs("div",{className:"booking-id-display",children:[t.jsx("span",{className:"id-label",children:"Booking ID:"}),t.jsx("span",{className:"id-value",children:i.id})]})]}),t.jsxs("div",{className:"status-badge",style:{backgroundColor:D(i.status)},children:[t.jsx("span",{className:"status-icon",children:$(i.status)}),t.jsx("span",{className:"status-text",children:i.status.replace("_"," ").toUpperCase()})]})]}),t.jsxs("div",{className:"tracking-content",children:[t.jsxs("div",{className:"booking-overview",children:[t.jsxs("div",{className:"overview-card",children:[t.jsx("h2",{children:"Service Details"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Service:"}),t.jsx("span",{className:"value",children:i.service})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Provider:"}),t.jsx("span",{className:"value",children:i.provider})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Date:"}),t.jsx("span",{className:"value",children:new Date(i.date).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Time:"}),t.jsx("span",{className:"value",children:i.time})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Price:"}),t.jsxs("span",{className:"value",children:["",i.price]})]}),i.specialRequests&&t.jsxs("div",{className:"detail-item full-width",children:[t.jsx("span",{className:"label",children:"Special Requests:"}),t.jsx("span",{className:"value",children:i.specialRequests})]})]})]}),i.status==="on_the_way"&&i.estimatedArrival&&t.jsxs("div",{className:"arrival-card",children:[t.jsxs("div",{className:"arrival-header",children:[t.jsx("span",{className:"arrival-icon",children:""}),t.jsxs("div",{className:"arrival-info",children:[t.jsx("h3",{children:"Provider On The Way"}),t.jsxs("p",{children:["Estimated arrival: ",i.estimatedArrival]})]})]}),t.jsxs("div",{className:"arrival-progress",children:[t.jsx("div",{className:"progress-bar",children:t.jsx("div",{className:"progress-fill",style:{width:"65%"}})}),t.jsx("span",{className:"progress-text",children:"65% of the way"})]})]})]}),t.jsxs("div",{className:"tracking-timeline",children:[t.jsx("h2",{children:"Service Progress"}),t.jsx("div",{className:"timeline",children:a.map((E,k)=>t.jsxs("div",{className:`timeline-step ${E.completed?"completed":"pending"}`,children:[t.jsxs("div",{className:"timeline-marker",children:[t.jsx("div",{className:"marker-dot",children:E.completed&&t.jsx("span",{className:"checkmark",children:""})}),k<a.length-1&&t.jsx("div",{className:"timeline-line"})]}),t.jsxs("div",{className:"timeline-content",children:[t.jsxs("div",{className:"step-header",children:[t.jsx("h3",{children:E.title}),E.timestamp&&t.jsx("span",{className:"step-time",children:E.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),t.jsx("p",{children:E.description}),E.duration&&E.completed&&t.jsxs("div",{className:"step-duration",children:[t.jsx("span",{className:"duration-icon",children:""}),t.jsxs("span",{children:["Duration: ",E.duration," minutes"]})]})]})]},E.id))})]}),i.status==="on_the_way"&&t.jsxs("div",{className:"live-tracking",children:[t.jsx("h2",{children:"Live Tracking"}),t.jsx("div",{className:"map-placeholder",children:t.jsxs("div",{className:"map-content",children:[t.jsx("span",{className:"map-icon",children:""}),t.jsx("h3",{children:"Live Map View"}),t.jsx("p",{children:"Real-time tracking of your provider's location"}),t.jsxs("div",{className:"map-legend",children:[t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-dot provider"}),t.jsx("span",{children:"Provider Location"})]}),t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-dot customer"}),t.jsx("span",{children:"Your Location"})]})]})]})})]}),t.jsxs("div",{className:"booking-actions",children:[t.jsx("div",{className:"actions-header",children:t.jsx("h2",{children:"Actions"})}),t.jsxs("div",{className:"actions-grid",children:[t.jsxs("button",{className:"action-btn primary",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Contact Provider"})]}),t.jsxs("button",{className:"action-btn secondary",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Live Chat"})]}),t.jsxs("button",{className:"action-btn secondary",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Share Location"})]}),t.jsxs("button",{className:"action-btn secondary",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Add Notes"})]})]})]}),t.jsxs("div",{className:"emergency-contact",children:[t.jsxs("div",{className:"contact-header",children:[t.jsx("span",{className:"emergency-icon",children:""}),t.jsxs("div",{className:"contact-info",children:[t.jsx("h3",{children:"Need Help?"}),t.jsx("p",{children:"Contact our support team for immediate assistance"})]})]}),t.jsxs("div",{className:"contact-actions",children:[t.jsxs("button",{className:"contact-btn",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Call Support"})]}),t.jsxs("button",{className:"contact-btn",children:[t.jsx("span",{className:"btn-icon",children:""}),t.jsx("span",{children:"Chat Support"})]})]})]})]})]}):t.jsx("div",{className:"track-booking",children:t.jsxs("div",{className:"search-section",children:[t.jsxs("div",{className:"search-header",children:[t.jsx("h1",{children:"Track Your Booking"}),t.jsx("p",{children:"Enter your booking ID to track your service in real-time"})]}),t.jsxs("div",{className:"search-input-group",children:[t.jsx("input",{type:"text",value:j,onChange:E=>v(E.target.value),placeholder:"Enter your booking ID (e.g., BK001)",className:"search-input",onKeyPress:E=>E.key==="Enter"&&I()}),t.jsx("button",{onClick:I,className:"search-btn",children:"Search"})]}),t.jsxs("div",{className:"sample-bookings",children:[t.jsx("h3",{children:"Sample Booking IDs for Testing:"}),t.jsx("div",{className:"sample-list",children:b.map(E=>t.jsxs("button",{onClick:()=>{v(E.id),N(E.id)},className:"sample-btn",children:[E.id," - ",E.service]},E.id))})]})]})})}const Rj=f.createContext({});function Ij(s){const e=f.useRef(null);return e.current===null&&(e.current=s()),e.current}const Dj=typeof window<"u",uP=Dj?f.useLayoutEffect:f.useEffect,Cp=f.createContext(null);function Mj(s,e){s.indexOf(e)===-1&&s.push(e)}function Lj(s,e){const n=s.indexOf(e);n>-1&&s.splice(n,1)}const Yi=(s,e,n)=>n>e?e:n<s?s:n;let Oj=()=>{};const Ji={},hP=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function mP(s){return typeof s=="object"&&s!==null}const pP=s=>/^0[^.\s]+$/u.test(s);function Vj(s){let e;return()=>(e===void 0&&(e=s()),e)}const An=s=>s,d$=(s,e)=>n=>e(s(n)),Jd=(...s)=>s.reduce(d$),xd=(s,e,n)=>{const i=e-s;return i===0?1:(n-s)/i};class Fj{constructor(){this.subscriptions=[]}add(e){return Mj(this.subscriptions,e),()=>Lj(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ci=s=>s*1e3,Cn=s=>s/1e3;function fP(s,e){return e?s*(1e3/e):0}const gP=(s,e,n)=>(((1-3*n+3*e)*s+(3*n-6*e))*s+3*e)*s,u$=1e-7,h$=12;function m$(s,e,n,i,r){let a,o,l=0;do o=e+(n-e)/2,a=gP(o,i,r)-s,a>0?n=o:e=o;while(Math.abs(a)>u$&&++l<h$);return o}function Xd(s,e,n,i){if(s===e&&n===i)return An;const r=a=>m$(a,0,1,s,n);return a=>a===0||a===1?a:gP(r(a),e,i)}const vP=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,xP=s=>e=>1-s(1-e),yP=Xd(.33,1.53,.69,.99),Bj=xP(yP),jP=vP(Bj),NP=s=>(s*=2)<1?.5*Bj(s):.5*(2-Math.pow(2,-10*(s-1))),Uj=s=>1-Math.sin(Math.acos(s)),bP=xP(Uj),wP=vP(Uj),p$=Xd(.42,0,1,1),f$=Xd(0,0,.58,1),SP=Xd(.42,0,.58,1),g$=s=>Array.isArray(s)&&typeof s[0]!="number",kP=s=>Array.isArray(s)&&typeof s[0]=="number",v$={linear:An,easeIn:p$,easeInOut:SP,easeOut:f$,circIn:Uj,circInOut:wP,circOut:bP,backIn:Bj,backInOut:jP,backOut:yP,anticipate:NP},x$=s=>typeof s=="string",fS=s=>{if(kP(s)){Oj(s.length===4);const[e,n,i,r]=s;return Xd(e,n,i,r)}else if(x$(s))return v$[s];return s},Hu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function y$(s,e){let n=new Set,i=new Set,r=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(d.schedule(h),s()),h(l)}const d={schedule:(h,m=!1,p=!1)=>{const x=p&&r?n:i;return m&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{i.delete(h),o.delete(h)},process:h=>{if(l=h,r){a=!0;return}r=!0,[n,i]=[i,n],n.forEach(c),n.clear(),r=!1,a&&(a=!1,d.process(h))}};return d}const j$=40;function _P(s,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Hu.reduce((C,I)=>(C[I]=y$(a),C),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:m,preRender:p,render:g,postRender:x}=o,j=()=>{const C=Ji.useManualTiming?r.timestamp:performance.now();n=!1,Ji.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(C-r.timestamp,j$),1)),r.timestamp=C,r.isProcessing=!0,l.process(r),c.process(r),d.process(r),h.process(r),m.process(r),p.process(r),g.process(r),x.process(r),r.isProcessing=!1,n&&e&&(i=!1,s(j))},v=()=>{n=!0,i=!0,r.isProcessing||s(j)};return{schedule:Hu.reduce((C,I)=>{const D=o[I];return C[I]=($,E=!1,k=!1)=>(n||v(),D.schedule($,E,k)),C},{}),cancel:C=>{for(let I=0;I<Hu.length;I++)o[Hu[I]].cancel(C)},state:r,steps:o}}const{schedule:Bt,cancel:zr,state:Ns,steps:Mf}=_P(typeof requestAnimationFrame<"u"?requestAnimationFrame:An,!0);let jh;function N$(){jh=void 0}const sn={now:()=>(jh===void 0&&sn.set(Ns.isProcessing||Ji.useManualTiming?Ns.timestamp:performance.now()),jh),set:s=>{jh=s,queueMicrotask(N$)}},CP=s=>e=>typeof e=="string"&&e.startsWith(s),$j=CP("--"),b$=CP("var(--"),qj=s=>b$(s)?w$.test(s.split("/*")[0].trim()):!1,w$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_l={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},yd={..._l,transform:s=>Yi(0,1,s)},Gu={..._l,default:1},Ac=s=>Math.round(s*1e5)/1e5,zj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function S$(s){return s==null}const k$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wj=(s,e)=>n=>!!(typeof n=="string"&&k$.test(n)&&n.startsWith(s)||e&&!S$(n)&&Object.prototype.hasOwnProperty.call(n,e)),TP=(s,e,n)=>i=>{if(typeof i!="string")return i;const[r,a,o,l]=i.match(zj);return{[s]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},_$=s=>Yi(0,255,s),Lf={..._l,transform:s=>Math.round(_$(s))},pa={test:Wj("rgb","red"),parse:TP("red","green","blue"),transform:({red:s,green:e,blue:n,alpha:i=1})=>"rgba("+Lf.transform(s)+", "+Lf.transform(e)+", "+Lf.transform(n)+", "+Ac(yd.transform(i))+")"};function C$(s){let e="",n="",i="",r="";return s.length>5?(e=s.substring(1,3),n=s.substring(3,5),i=s.substring(5,7),r=s.substring(7,9)):(e=s.substring(1,2),n=s.substring(2,3),i=s.substring(3,4),r=s.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Ov={test:Wj("#"),parse:C$,transform:pa.transform},Zd=s=>({test:e=>typeof e=="string"&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),dr=Zd("deg"),di=Zd("%"),qe=Zd("px"),T$=Zd("vh"),E$=Zd("vw"),gS={...di,parse:s=>di.parse(s)/100,transform:s=>di.transform(s*100)},No={test:Wj("hsl","hue"),parse:TP("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(s)+", "+di.transform(Ac(e))+", "+di.transform(Ac(n))+", "+Ac(yd.transform(i))+")"},ss={test:s=>pa.test(s)||Ov.test(s)||No.test(s),parse:s=>pa.test(s)?pa.parse(s):No.test(s)?No.parse(s):Ov.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?pa.transform(s):No.transform(s),getAnimatableNone:s=>{const e=ss.parse(s);return e.alpha=0,ss.transform(e)}},P$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function A$(s){var e,n;return isNaN(s)&&typeof s=="string"&&(((e=s.match(zj))==null?void 0:e.length)||0)+(((n=s.match(P$))==null?void 0:n.length)||0)>0}const EP="number",PP="color",R$="var",I$="var(",vS="${}",D$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jd(s){const e=s.toString(),n=[],i={color:[],number:[],var:[]},r=[];let a=0;const l=e.replace(D$,c=>(ss.test(c)?(i.color.push(a),r.push(PP),n.push(ss.parse(c))):c.startsWith(I$)?(i.var.push(a),r.push(R$),n.push(c)):(i.number.push(a),r.push(EP),n.push(parseFloat(c))),++a,vS)).split(vS);return{values:n,split:l,indexes:i,types:r}}function AP(s){return jd(s).values}function RP(s){const{split:e,types:n}=jd(s),i=e.length;return r=>{let a="";for(let o=0;o<i;o++)if(a+=e[o],r[o]!==void 0){const l=n[o];l===EP?a+=Ac(r[o]):l===PP?a+=ss.transform(r[o]):a+=r[o]}return a}}const M$=s=>typeof s=="number"?0:ss.test(s)?ss.getAnimatableNone(s):s;function L$(s){const e=AP(s);return RP(s)(e.map(M$))}const Wr={test:A$,parse:AP,createTransformer:RP,getAnimatableNone:L$};function Of(s,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?s+(e-s)*6*n:n<1/2?e:n<2/3?s+(e-s)*(2/3-n)*6:s}function O$({hue:s,saturation:e,lightness:n,alpha:i}){s/=360,e/=100,n/=100;let r=0,a=0,o=0;if(!e)r=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=Of(c,l,s+1/3),a=Of(c,l,s),o=Of(c,l,s-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function wm(s,e){return n=>n>0?e:s}const $t=(s,e,n)=>s+(e-s)*n,Vf=(s,e,n)=>{const i=s*s,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},V$=[Ov,pa,No],F$=s=>V$.find(e=>e.test(s));function xS(s){const e=F$(s);if(!e)return!1;let n=e.parse(s);return e===No&&(n=O$(n)),n}const yS=(s,e)=>{const n=xS(s),i=xS(e);if(!n||!i)return wm(s,e);const r={...n};return a=>(r.red=Vf(n.red,i.red,a),r.green=Vf(n.green,i.green,a),r.blue=Vf(n.blue,i.blue,a),r.alpha=$t(n.alpha,i.alpha,a),pa.transform(r))},Vv=new Set(["none","hidden"]);function B$(s,e){return Vv.has(s)?n=>n<=0?s:e:n=>n>=1?e:s}function U$(s,e){return n=>$t(s,e,n)}function Hj(s){return typeof s=="number"?U$:typeof s=="string"?qj(s)?wm:ss.test(s)?yS:z$:Array.isArray(s)?IP:typeof s=="object"?ss.test(s)?yS:$$:wm}function IP(s,e){const n=[...s],i=n.length,r=s.map((a,o)=>Hj(a)(a,e[o]));return a=>{for(let o=0;o<i;o++)n[o]=r[o](a);return n}}function $$(s,e){const n={...s,...e},i={};for(const r in n)s[r]!==void 0&&e[r]!==void 0&&(i[r]=Hj(s[r])(s[r],e[r]));return r=>{for(const a in i)n[a]=i[a](r);return n}}function q$(s,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],o=s.indexes[a][i[a]],l=s.values[o]??0;n[r]=l,i[a]++}return n}const z$=(s,e)=>{const n=Wr.createTransformer(e),i=jd(s),r=jd(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Vv.has(s)&&!r.values.length||Vv.has(e)&&!i.values.length?B$(s,e):Jd(IP(q$(i,r),r.values),n):wm(s,e)};function DP(s,e,n){return typeof s=="number"&&typeof e=="number"&&typeof n=="number"?$t(s,e,n):Hj(s)(s,e)}const W$=s=>{const e=({timestamp:n})=>s(n);return{start:(n=!0)=>Bt.update(e,n),stop:()=>zr(e),now:()=>Ns.isProcessing?Ns.timestamp:sn.now()}},MP=(s,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let a=0;a<r;a++)i+=Math.round(s(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Sm=2e4;function Gj(s){let e=0;const n=50;let i=s.next(e);for(;!i.done&&e<Sm;)e+=n,i=s.next(e);return e>=Sm?1/0:e}function H$(s,e=100,n){const i=n({...s,keyframes:[0,e]}),r=Math.min(Gj(i),Sm);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:Cn(r)}}const G$=5;function LP(s,e,n){const i=Math.max(e-G$,0);return fP(n-s(i),e-i)}const Gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ff=.001;function K$({duration:s=Gt.duration,bounce:e=Gt.bounce,velocity:n=Gt.velocity,mass:i=Gt.mass}){let r,a,o=1-e;o=Yi(Gt.minDamping,Gt.maxDamping,o),s=Yi(Gt.minDuration,Gt.maxDuration,Cn(s)),o<1?(r=d=>{const h=d*o,m=h*s,p=h-n,g=Fv(d,o),x=Math.exp(-m);return Ff-p/g*x},a=d=>{const m=d*o*s,p=m*n+n,g=Math.pow(o,2)*Math.pow(d,2)*s,x=Math.exp(-m),j=Fv(Math.pow(d,2),o);return(-r(d)+Ff>0?-1:1)*((p-g)*x)/j}):(r=d=>{const h=Math.exp(-d*s),m=(d-n)*s+1;return-Ff+h*m},a=d=>{const h=Math.exp(-d*s),m=(n-d)*(s*s);return h*m});const l=5/s,c=Y$(r,a,l);if(s=ci(s),isNaN(c))return{stiffness:Gt.stiffness,damping:Gt.damping,duration:s};{const d=Math.pow(c,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:s}}}const Q$=12;function Y$(s,e,n){let i=n;for(let r=1;r<Q$;r++)i=i-s(i)/e(i);return i}function Fv(s,e){return s*Math.sqrt(1-e*e)}const J$=["duration","bounce"],X$=["stiffness","damping","mass"];function jS(s,e){return e.some(n=>s[n]!==void 0)}function Z$(s){let e={velocity:Gt.velocity,stiffness:Gt.stiffness,damping:Gt.damping,mass:Gt.mass,isResolvedFromDuration:!1,...s};if(!jS(s,X$)&&jS(s,J$))if(s.visualDuration){const n=s.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,a=2*Yi(.05,1,1-(s.bounce||0))*Math.sqrt(r);e={...e,mass:Gt.mass,stiffness:r,damping:a}}else{const n=K$(s);e={...e,...n,mass:Gt.mass},e.isResolvedFromDuration=!0}return e}function km(s=Gt.visualDuration,e=Gt.bounce){const n=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:e}:s;let{restSpeed:i,restDelta:r}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:h,duration:m,velocity:p,isResolvedFromDuration:g}=Z$({...n,velocity:-Cn(n.velocity||0)}),x=p||0,j=d/(2*Math.sqrt(c*h)),v=o-a,b=Cn(Math.sqrt(c/h)),N=Math.abs(v)<5;i||(i=N?Gt.restSpeed.granular:Gt.restSpeed.default),r||(r=N?Gt.restDelta.granular:Gt.restDelta.default);let C;if(j<1){const D=Fv(b,j);C=$=>{const E=Math.exp(-j*b*$);return o-E*((x+j*b*v)/D*Math.sin(D*$)+v*Math.cos(D*$))}}else if(j===1)C=D=>o-Math.exp(-b*D)*(v+(x+b*v)*D);else{const D=b*Math.sqrt(j*j-1);C=$=>{const E=Math.exp(-j*b*$),k=Math.min(D*$,300);return o-E*((x+j*b*v)*Math.sinh(k)+D*v*Math.cosh(k))/D}}const I={calculatedDuration:g&&m||null,next:D=>{const $=C(D);if(g)l.done=D>=m;else{let E=D===0?x:0;j<1&&(E=D===0?ci(x):LP(C,D,$));const k=Math.abs(E)<=i,_=Math.abs(o-$)<=r;l.done=k&&_}return l.value=l.done?o:$,l},toString:()=>{const D=Math.min(Gj(I),Sm),$=MP(E=>I.next(D*E).value,D,30);return D+"ms "+$},toTransition:()=>{}};return I}km.applyToOptions=s=>{const e=H$(s,100,km);return s.ease=e.ease,s.duration=ci(e.duration),s.type="keyframes",s};function Bv({keyframes:s,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=s[0],p={done:!1,value:m},g=k=>l!==void 0&&k<l||c!==void 0&&k>c,x=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let j=n*e;const v=m+j,b=o===void 0?v:o(v);b!==v&&(j=b-m);const N=k=>-j*Math.exp(-k/i),C=k=>b+N(k),I=k=>{const _=N(k),T=C(k);p.done=Math.abs(_)<=d,p.value=p.done?b:T};let D,$;const E=k=>{g(p.value)&&(D=k,$=km({keyframes:[p.value,x(p.value)],velocity:LP(C,k,p.value),damping:r,stiffness:a,restDelta:d,restSpeed:h}))};return E(0),{calculatedDuration:null,next:k=>{let _=!1;return!$&&D===void 0&&(_=!0,I(k),E(k)),D!==void 0&&k>=D?$.next(k-D):(!_&&I(k),p)}}}function e7(s,e,n){const i=[],r=n||Ji.mix||DP,a=s.length-1;for(let o=0;o<a;o++){let l=r(s[o],s[o+1]);if(e){const c=Array.isArray(e)?e[o]||An:e;l=Jd(c,l)}i.push(l)}return i}function t7(s,e,{clamp:n=!0,ease:i,mixer:r}={}){const a=s.length;if(Oj(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=s[0]===s[1];s[0]>s[a-1]&&(s=[...s].reverse(),e=[...e].reverse());const l=e7(e,i,r),c=l.length,d=h=>{if(o&&h<s[0])return e[0];let m=0;if(c>1)for(;m<s.length-2&&!(h<s[m+1]);m++);const p=xd(s[m],s[m+1],h);return l[m](p)};return n?h=>d(Yi(s[0],s[a-1],h)):d}function s7(s,e){const n=s[s.length-1];for(let i=1;i<=e;i++){const r=xd(0,e,i);s.push($t(n,1,r))}}function n7(s){const e=[0];return s7(e,s.length-1),e}function i7(s,e){return s.map(n=>n*e)}function r7(s,e){return s.map(()=>e||SP).splice(0,s.length-1)}function Rc({duration:s=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=g$(i)?i.map(fS):fS(i),a={done:!1,value:e[0]},o=i7(n&&n.length===e.length?n:n7(e),s),l=t7(o,e,{ease:Array.isArray(r)?r:r7(e,r)});return{calculatedDuration:s,next:c=>(a.value=l(c),a.done=c>=s,a)}}const a7=s=>s!==null;function Kj(s,{repeat:e,repeatType:n="loop"},i,r=1){const a=s.filter(a7),l=r<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const o7={decay:Bv,inertia:Bv,tween:Rc,keyframes:Rc,spring:km};function OP(s){typeof s.type=="string"&&(s.type=o7[s.type])}class Qj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const l7=s=>s/100;class Yj extends Qj{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:n}=this.options;n&&n.updatedAt!==sn.now()&&this.tick(sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;OP(e);const{type:n=Rc,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=n||Rc;c!==Rc&&typeof l[0]!="number"&&(this.mixKeyframes=Jd(l7,DP(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Gj(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:p,repeatDelay:g,type:x,onUpdate:j,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?b<0:b>r;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,I=i;if(m){const k=Math.min(this.currentTime,r)/l;let _=Math.floor(k),T=k%1;!T&&k>=1&&(T=1),T===1&&_--,_=Math.min(_,m+1),!!(_%2)&&(p==="reverse"?(T=1-T,g&&(T-=g/l)):p==="mirror"&&(I=o)),C=Yi(0,1,T)*l}const D=N?{done:!1,value:h[0]}:I.next(C);a&&(D.value=a(D.value));let{done:$}=D;!N&&c!==null&&($=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return E&&x!==Bv&&(D.value=Kj(h,this.options,v,this.speed)),j&&j(D.value),E&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Cn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cn(e)}get time(){return Cn(this.currentTime)}set time(e){var n;e=ci(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(sn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Cn(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:e=W$,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(r=this.options).onPlay)==null||a.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function c7(s){for(let e=1;e<s.length;e++)s[e]??(s[e]=s[e-1])}const fa=s=>s*180/Math.PI,Uv=s=>{const e=fa(Math.atan2(s[1],s[0]));return $v(e)},d7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:Uv,rotateZ:Uv,skewX:s=>fa(Math.atan(s[1])),skewY:s=>fa(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},$v=s=>(s=s%360,s<0&&(s+=360),s),NS=Uv,bS=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),wS=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),u7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bS,scaleY:wS,scale:s=>(bS(s)+wS(s))/2,rotateX:s=>$v(fa(Math.atan2(s[6],s[5]))),rotateY:s=>$v(fa(Math.atan2(-s[2],s[0]))),rotateZ:NS,rotate:NS,skewX:s=>fa(Math.atan(s[4])),skewY:s=>fa(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function qv(s){return s.includes("scale")?1:0}function zv(s,e){if(!s||s==="none")return qv(e);const n=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=u7,r=n;else{const l=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=d7,r=l}if(!r)return qv(e);const a=i[e],o=r[1].split(",").map(m7);return typeof a=="function"?a(o):o[a]}const h7=(s,e)=>{const{transform:n="none"}=getComputedStyle(s);return zv(n,e)};function m7(s){return parseFloat(s.trim())}const Cl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tl=new Set(Cl),SS=s=>s===_l||s===qe,p7=new Set(["x","y","z"]),f7=Cl.filter(s=>!p7.has(s));function g7(s){const e=[];return f7.forEach(n=>{const i=s.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ja={width:({x:s},{paddingLeft:e="0",paddingRight:n="0"})=>s.max-s.min-parseFloat(e)-parseFloat(n),height:({y:s},{paddingTop:e="0",paddingBottom:n="0"})=>s.max-s.min-parseFloat(e)-parseFloat(n),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:(s,{transform:e})=>zv(e,"x"),y:(s,{transform:e})=>zv(e,"y")};ja.translateX=ja.x;ja.translateY=ja.y;const Na=new Set;let Wv=!1,Hv=!1,Gv=!1;function VP(){if(Hv){const s=Array.from(Na).filter(i=>i.needsMeasurement),e=new Set(s.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=g7(i);r.length&&(n.set(i,r),i.render())}),s.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([a,o])=>{var l;(l=i.getValue(a))==null||l.set(o)})}),s.forEach(i=>i.measureEndState()),s.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Hv=!1,Wv=!1,Na.forEach(s=>s.complete(Gv)),Na.clear()}function FP(){Na.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Hv=!0)})}function v7(){Gv=!0,FP(),VP(),Gv=!1}class Jj{constructor(e,n,i,r,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Na.add(this),Wv||(Wv=!0,Bt.read(FP),Bt.resolveKeyframes(VP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const a=r==null?void 0:r.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const l=i.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&a===void 0&&r.set(e[0])}c7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Na.delete(this)}cancel(){this.state==="scheduled"&&(Na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const x7=s=>s.startsWith("--");function y7(s,e,n){x7(e)?s.style.setProperty(e,n):s.style[e]=n}const j7=Vj(()=>window.ScrollTimeline!==void 0),N7={};function b7(s,e){const n=Vj(s);return()=>N7[e]??n()}const BP=b7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hc=([s,e,n,i])=>`cubic-bezier(${s}, ${e}, ${n}, ${i})`,kS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hc([0,.65,.55,1]),circOut:hc([.55,0,1,.45]),backIn:hc([.31,.01,.66,-.59]),backOut:hc([.33,1.53,.69,.99])};function UP(s,e){if(s)return typeof s=="function"?BP()?MP(s,e):"ease-out":kP(s)?hc(s):Array.isArray(s)?s.map(n=>UP(n,e)||kS.easeOut):kS[s]}function w7(s,e,n,{delay:i=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:n};c&&(h.offset=c);const m=UP(l,r);Array.isArray(m)&&(h.easing=m);const p={delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),s.animate(h,p)}function $P(s){return typeof s=="function"&&"applyToOptions"in s}function S7({type:s,...e}){return $P(s)&&BP()?s.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class k7 extends Qj{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Oj(typeof e.type!="string");const d=S7(e);this.animation=w7(n,i,r,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=Kj(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):y7(n,i,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Cn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cn(e)}get time(){return Cn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ci(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&j7()?(this.animation.timeline=e,An):n(this)}}const qP={anticipate:NP,backInOut:jP,circInOut:wP};function _7(s){return s in qP}function C7(s){typeof s.ease=="string"&&_7(s.ease)&&(s.ease=qP[s.ease])}const _S=10;class T7 extends k7{constructor(e){C7(e),OP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new Yj({...o,autoplay:!1}),c=ci(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-_S).value,l.sample(c).value,_S),l.stop()}}const CS=(s,e)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Wr.test(s)||s==="0")&&!s.startsWith("url("));function E7(s){const e=s[0];if(s.length===1)return!0;for(let n=0;n<s.length;n++)if(s[n]!==e)return!0}function P7(s,e,n,i){const r=s[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=s[s.length-1],o=CS(r,e),l=CS(a,e);return!o||!l?!1:E7(s)||(n==="spring"||$P(n))&&i}function Kv(s){s.duration=0,s.type="keyframes"}const A7=new Set(["opacity","clipPath","filter","transform"]),R7=Vj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function I7(s){var h;const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:a,type:o}=s;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return R7()&&n&&A7.has(n)&&(n!=="transform"||!d)&&!c&&!i&&r!=="mirror"&&a!==0&&o!=="inertia"}const D7=40;class M7 extends Qj{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...m}){var x;super(),this.stop=()=>{var j,v;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=sn.now();const p={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:h,...m},g=(h==null?void 0:h.KeyframeResolver)||Jj;this.keyframeResolver=new g(l,(j,v,b)=>this.onKeyframesResolved(j,v,p,!b),c,d,h),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=i;this.resolvedAt=sn.now(),P7(e,a,o,l)||((Ji.instantAnimations||!c)&&(h==null||h(Kj(e,i,n))),e[0]=e[e.length-1],Kv(i),i.repeat=0);const p={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>D7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},g=!d&&I7(p)?new T7({...p,element:p.motionValue.owner.current}):new Yj(p);g.finished.then(()=>this.notifyFinished()).catch(An),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),v7()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const L7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function O7(s){const e=L7.exec(s);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function zP(s,e,n=1){const[i,r]=O7(s);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const o=a.trim();return hP(o)?parseFloat(o):o}return qj(r)?zP(r,e,n+1):r}function Xj(s,e){return(s==null?void 0:s[e])??(s==null?void 0:s.default)??s}const WP=new Set(["width","height","top","left","right","bottom",...Cl]),V7={test:s=>s==="auto",parse:s=>s},HP=s=>e=>e.test(s),GP=[_l,qe,di,dr,E$,T$,V7],TS=s=>GP.find(HP(s));function F7(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||pP(s):!0}const B7=new Set(["brightness","contrast","saturate","opacity"]);function U7(s){const[e,n]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[i]=n.match(zj)||[];if(!i)return s;const r=n.replace(i,"");let a=B7.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+r+")"}const $7=/\b([a-z-]*)\(.*?\)/gu,Qv={...Wr,getAnimatableNone:s=>{const e=s.match($7);return e?e.map(U7).join(" "):s}},ES={..._l,transform:Math.round},q7={rotate:dr,rotateX:dr,rotateY:dr,rotateZ:dr,scale:Gu,scaleX:Gu,scaleY:Gu,scaleZ:Gu,skew:dr,skewX:dr,skewY:dr,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:yd,originX:gS,originY:gS,originZ:qe},Zj={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe,...q7,zIndex:ES,fillOpacity:yd,strokeOpacity:yd,numOctaves:ES},z7={...Zj,color:ss,backgroundColor:ss,outlineColor:ss,fill:ss,stroke:ss,borderColor:ss,borderTopColor:ss,borderRightColor:ss,borderBottomColor:ss,borderLeftColor:ss,filter:Qv,WebkitFilter:Qv},KP=s=>z7[s];function QP(s,e){let n=KP(s);return n!==Qv&&(n=Wr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const W7=new Set(["auto","none","0"]);function H7(s,e,n){let i=0,r;for(;i<s.length&&!r;){const a=s[i];typeof a=="string"&&!W7.has(a)&&jd(a).values.length&&(r=s[i]),i++}if(r&&n)for(const a of e)s[a]=QP(n,r)}class G7 extends Jj{constructor(e,n,i,r,a){super(e,n,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),qj(d))){const h=zP(d,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!WP.has(i)||e.length!==2)return;const[r,a]=e,o=TS(r),l=TS(a);if(o!==l)if(SS(o)&&SS(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else ja[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||F7(e[r]))&&i.push(r);i.length&&H7(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ja[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=ja[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function K7(s,e,n){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let i=document;const r=(n==null?void 0:n[s])??i.querySelectorAll(s);return r?Array.from(r):[]}return Array.from(s)}const YP=(s,e)=>e&&typeof s=="number"?e.transform(s):s;function JP(s){return mP(s)&&"offsetHeight"in s}const PS=30,Q7=s=>!isNaN(parseFloat(s));class Y7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const r=sn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=sn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Q7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Fj);const i=this.events[e].add(n);return e==="change"?()=>{i(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>PS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PS);return fP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rl(s,e){return new Y7(s,e)}const{schedule:eN}=_P(queueMicrotask,!1),Vn={x:!1,y:!1};function XP(){return Vn.x||Vn.y}function J7(s){return s==="x"||s==="y"?Vn[s]?null:(Vn[s]=!0,()=>{Vn[s]=!1}):Vn.x||Vn.y?null:(Vn.x=Vn.y=!0,()=>{Vn.x=Vn.y=!1})}function ZP(s,e){const n=K7(s),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function AS(s){return!(s.pointerType==="touch"||XP())}function X7(s,e,n={}){const[i,r,a]=ZP(s,n),o=l=>{if(!AS(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=m=>{AS(m)&&(d(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,r)};return i.forEach(l=>{l.addEventListener("pointerenter",o,r)}),a}const eA=(s,e)=>e?s===e?!0:eA(s,e.parentElement):!1,tN=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,Z7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eq(s){return Z7.has(s.tagName)||s.tabIndex!==-1}const Nh=new WeakSet;function RS(s){return e=>{e.key==="Enter"&&s(e)}}function Bf(s,e){s.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tq=(s,e)=>{const n=s.currentTarget;if(!n)return;const i=RS(()=>{if(Nh.has(n))return;Bf(n,"down");const r=RS(()=>{Bf(n,"up")}),a=()=>Bf(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function IS(s){return tN(s)&&!XP()}function sq(s,e,n={}){const[i,r,a]=ZP(s,n),o=l=>{const c=l.currentTarget;if(!IS(l))return;Nh.add(c);const d=e(c,l),h=(g,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Nh.has(c)&&Nh.delete(c),IS(g)&&typeof d=="function"&&d(g,{success:x})},m=g=>{h(g,c===window||c===document||n.useGlobalTarget||eA(c,g.target))},p=g=>{h(g,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",p,r)};return i.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),JP(l)&&(l.addEventListener("focus",d=>tq(d,r)),!eq(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function tA(s){return mP(s)&&"ownerSVGElement"in s}function nq(s){return tA(s)&&s.tagName==="svg"}const $s=s=>!!(s&&s.getVelocity),iq=[...GP,ss,Wr],rq=s=>iq.find(HP(s)),sN=f.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function DS(s,e){if(typeof s=="function")return s(e);s!=null&&(s.current=e)}function aq(...s){return e=>{let n=!1;const i=s.map(r=>{const a=DS(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():DS(s[r],null)}}}}function oq(...s){return f.useCallback(aq(...s),s)}class lq extends f.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=JP(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cq({children:s,isPresent:e,anchorX:n,root:i}){const r=f.useId(),a=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=f.useContext(sN),c=oq(a,s==null?void 0:s.ref);return f.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:p,right:g}=o.current;if(e||!a.current||!d||!h)return;const x=n==="left"?`left: ${p}`:`right: ${g}`;a.current.dataset.motionPopId=r;const j=document.createElement("style");l&&(j.nonce=l);const v=i??document.head;return v.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{v.contains(j)&&v.removeChild(j)}},[e]),t.jsx(lq,{isPresent:e,childRef:a,sizeRef:o,children:f.cloneElement(s,{ref:c})})}const dq=({children:s,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const d=Ij(uq),h=f.useId();let m=!0,p=f.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:n,custom:r,onExitComplete:g=>{d.set(g,!0);for(const x of d.values())if(!x)return;i&&i()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[n,d,i]);return a&&m&&(p={...p}),f.useMemo(()=>{d.forEach((g,x)=>d.set(x,!1))},[n]),f.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),o==="popLayout"&&(s=t.jsx(cq,{isPresent:n,anchorX:l,root:c,children:s})),t.jsx(Cp.Provider,{value:p,children:s})};function uq(){return new Map}function sA(s=!0){const e=f.useContext(Cp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,a=f.useId();f.useEffect(()=>{if(s)return r(a)},[s]);const o=f.useCallback(()=>s&&i&&i(a),[a,i,s]);return!n&&i?[!1,o]:[!0]}const Ku=s=>s.key||"";function MS(s){const e=[];return f.Children.forEach(s,n=>{f.isValidElement(n)&&e.push(n)}),e}const Gs=({children:s,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,h]=sA(o),m=f.useMemo(()=>MS(s),[s]),p=o&&!d?[]:m.map(Ku),g=f.useRef(!0),x=f.useRef(m),j=Ij(()=>new Map),[v,b]=f.useState(m),[N,C]=f.useState(m);uP(()=>{g.current=!1,x.current=m;for(let $=0;$<N.length;$++){const E=Ku(N[$]);p.includes(E)?j.delete(E):j.get(E)!==!0&&j.set(E,!1)}},[N,p.length,p.join("-")]);const I=[];if(m!==v){let $=[...m];for(let E=0;E<N.length;E++){const k=N[E],_=Ku(k);p.includes(_)||($.splice(E,0,k),I.push(k))}return a==="wait"&&I.length&&($=I),C(MS($)),b(m),null}const{forceRender:D}=f.useContext(Rj);return t.jsx(t.Fragment,{children:N.map($=>{const E=Ku($),k=o&&!d?!1:m===N||p.includes(E),_=()=>{if(j.has(E))j.set(E,!0);else return;let T=!0;j.forEach(S=>{S||(T=!1)}),T&&(D==null||D(),C(x.current),o&&(h==null||h()),i&&i())};return t.jsx(dq,{isPresent:k,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:c,onExitComplete:k?void 0:_,anchorX:l,children:$},E)})})},nA=f.createContext({strict:!1}),LS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},al={};for(const s in LS)al[s]={isEnabled:e=>LS[s].some(n=>!!e[n])};function hq(s){for(const e in s)al[e]={...al[e],...s[e]}}const mq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _m(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||mq.has(s)}let iA=s=>!_m(s);function pq(s){typeof s=="function"&&(iA=e=>e.startsWith("on")?!_m(e):s(e))}try{pq(require("@emotion/is-prop-valid").default)}catch{}function fq(s,e,n){const i={};for(const r in s)r==="values"&&typeof s.values=="object"||(iA(r)||n===!0&&_m(r)||!e&&!_m(r)||s.draggable&&r.startsWith("onDrag"))&&(i[r]=s[r]);return i}const Tp=f.createContext({});function Ep(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function Nd(s){return typeof s=="string"||Array.isArray(s)}const nN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iN=["initial",...nN];function Pp(s){return Ep(s.animate)||iN.some(e=>Nd(s[e]))}function rA(s){return!!(Pp(s)||s.variants)}function gq(s,e){if(Pp(s)){const{initial:n,animate:i}=s;return{initial:n===!1||Nd(n)?n:void 0,animate:Nd(i)?i:void 0}}return s.inherit!==!1?e:{}}function vq(s){const{initial:e,animate:n}=gq(s,f.useContext(Tp));return f.useMemo(()=>({initial:e,animate:n}),[OS(e),OS(n)])}function OS(s){return Array.isArray(s)?s.join(" "):s}const bd={};function xq(s){for(const e in s)bd[e]=s[e],$j(e)&&(bd[e].isCSSVariable=!0)}function aA(s,{layout:e,layoutId:n}){return Tl.has(s)||s.startsWith("origin")||(e||n!==void 0)&&(!!bd[s]||s==="opacity")}const yq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jq=Cl.length;function Nq(s,e,n){let i="",r=!0;for(let a=0;a<jq;a++){const o=Cl[a],l=s[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=YP(l,Zj[o]);if(!c){r=!1;const h=yq[o]||o;i+=`${h}(${d}) `}n&&(e[o]=d)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function rN(s,e,n){const{style:i,vars:r,transformOrigin:a}=s;let o=!1,l=!1;for(const c in e){const d=e[c];if(Tl.has(c)){o=!0;continue}else if($j(c)){r[c]=d;continue}else{const h=YP(d,Zj[c]);c.startsWith("origin")?(l=!0,a[c]=h):i[c]=h}}if(e.transform||(o||n?i.transform=Nq(e,s.transform,n):i.transform&&(i.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=a;i.transformOrigin=`${c} ${d} ${h}`}}const aN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oA(s,e,n){for(const i in e)!$s(e[i])&&!aA(i,n)&&(s[i]=e[i])}function bq({transformTemplate:s},e){return f.useMemo(()=>{const n=aN();return rN(n,e,s),Object.assign({},n.vars,n.style)},[e])}function wq(s,e){const n=s.style||{},i={};return oA(i,n,s),Object.assign(i,bq(s,e)),i}function Sq(s,e){const n={},i=wq(s,e);return s.drag&&s.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(n.tabIndex=0),n.style=i,n}const kq={offset:"stroke-dashoffset",array:"stroke-dasharray"},_q={offset:"strokeDashoffset",array:"strokeDasharray"};function Cq(s,e,n=1,i=0,r=!0){s.pathLength=1;const a=r?kq:_q;s[a.offset]=qe.transform(-i);const o=qe.transform(e),l=qe.transform(n);s[a.array]=`${o} ${l}`}function lA(s,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:o=0,...l},c,d,h){if(rN(s,l,d),c){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:m,style:p}=s;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),r!==void 0&&Cq(m,r,a,o,!1)}const cA=()=>({...aN(),attrs:{}}),dA=s=>typeof s=="string"&&s.toLowerCase()==="svg";function Tq(s,e,n,i){const r=f.useMemo(()=>{const a=cA();return lA(a,e,dA(i),s.transformTemplate,s.style),{...a.attrs,style:{...a.style}}},[e]);if(s.style){const a={};oA(a,s.style,s),r.style={...a,...r.style}}return r}const Eq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oN(s){return typeof s!="string"||s.includes("-")?!1:!!(Eq.indexOf(s)>-1||/[A-Z]/u.test(s))}function Pq(s,e,n,{latestValues:i},r,a=!1){const l=(oN(s)?Tq:Sq)(e,i,r,s),c=fq(e,typeof s=="string",a),d=s!==f.Fragment?{...c,...l,ref:n}:{},{children:h}=e,m=f.useMemo(()=>$s(h)?h.get():h,[h]);return f.createElement(s,{...d,children:m})}function VS(s){const e=[{},{}];return s==null||s.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function lN(s,e,n,i){if(typeof e=="function"){const[r,a]=VS(i);e=e(n!==void 0?n:s.custom,r,a)}if(typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"){const[r,a]=VS(i);e=e(n!==void 0?n:s.custom,r,a)}return e}function bh(s){return $s(s)?s.get():s}function Aq({scrapeMotionValuesFromProps:s,createRenderState:e},n,i,r){return{latestValues:Rq(n,i,r,s),renderState:e()}}function Rq(s,e,n,i){const r={},a=i(s,{});for(const p in a)r[p]=bh(a[p]);let{initial:o,animate:l}=s;const c=Pp(s),d=rA(s);e&&d&&!c&&s.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Ep(m)){const p=Array.isArray(m)?m:[m];for(let g=0;g<p.length;g++){const x=lN(s,p[g]);if(x){const{transitionEnd:j,transition:v,...b}=x;for(const N in b){let C=b[N];if(Array.isArray(C)){const I=h?C.length-1:0;C=C[I]}C!==null&&(r[N]=C)}for(const N in j)r[N]=j[N]}}}return r}const uA=s=>(e,n)=>{const i=f.useContext(Tp),r=f.useContext(Cp),a=()=>Aq(s,e,i,r);return n?a():Ij(a)};function cN(s,e,n){var a;const{style:i}=s,r={};for(const o in i)($s(i[o])||e.style&&$s(e.style[o])||aA(o,s)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(r[o]=i[o]);return r}const Iq=uA({scrapeMotionValuesFromProps:cN,createRenderState:aN});function hA(s,e,n){const i=cN(s,e,n);for(const r in s)if($s(s[r])||$s(e[r])){const a=Cl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=s[r]}return i}const Dq=uA({scrapeMotionValuesFromProps:hA,createRenderState:cA}),Mq=Symbol.for("motionComponentSymbol");function bo(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function Lq(s,e,n){return f.useCallback(i=>{i&&s.onMount&&s.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):bo(n)&&(n.current=i))},[e])}const dN=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Oq="framerAppearId",mA="data-"+dN(Oq),pA=f.createContext({});function Vq(s,e,n,i,r){var j,v;const{visualElement:a}=f.useContext(Tp),o=f.useContext(nA),l=f.useContext(Cp),c=f.useContext(sN).reducedMotion,d=f.useRef(null);i=i||o.renderer,!d.current&&i&&(d.current=i(s,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=f.useContext(pA);h&&!h.projection&&r&&(h.type==="html"||h.type==="svg")&&Fq(d.current,n,r,m);const p=f.useRef(!1);f.useInsertionEffect(()=>{h&&p.current&&h.update(n,l)});const g=n[mA],x=f.useRef(!!g&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,g))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,g)));return uP(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),x.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,g)}),x.current=!1),h.enteringChildren=void 0)}),h}function Fq(s,e,n,i){const{layoutId:r,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;s.projection=new n(s.latestValues,e["data-framer-portal-id"]?void 0:fA(s.parent)),s.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||l&&bo(l),visualElement:s,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:c,layoutRoot:d})}function fA(s){if(s)return s.options.allowProjection!==!1?s.projection:fA(s.parent)}function Uf(s,{forwardMotionProps:e=!1}={},n,i){n&&hq(n);const r=oN(s)?Dq:Iq;function a(l,c){let d;const h={...f.useContext(sN),...l,layoutId:Bq(l)},{isStatic:m}=h,p=vq(l),g=r(l,m);if(!m&&Dj){Uq();const x=$q(h);d=x.MeasureLayout,p.visualElement=Vq(s,g,h,i,x.ProjectionNode)}return t.jsxs(Tp.Provider,{value:p,children:[d&&p.visualElement?t.jsx(d,{visualElement:p.visualElement,...h}):null,Pq(s,l,Lq(g,p.visualElement,c),g,m,e)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=f.forwardRef(a);return o[Mq]=s,o}function Bq({layoutId:s}){const e=f.useContext(Rj).id;return e&&s!==void 0?e+"-"+s:s}function Uq(s,e){f.useContext(nA).strict}function $q(s){const{drag:e,layout:n}=al;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(s)||n!=null&&n.isEnabled(s)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function qq(s,e){if(typeof Proxy>"u")return Uf;const n=new Map,i=(a,o)=>Uf(a,o,s,e),r=(a,o)=>i(a,o);return new Proxy(r,{get:(a,o)=>o==="create"?i:(n.has(o)||n.set(o,Uf(o,void 0,s,e)),n.get(o))})}function gA({top:s,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:s,max:i}}}function zq({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function Wq(s,e){if(!e)return s;const n=e({x:s.left,y:s.top}),i=e({x:s.right,y:s.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function $f(s){return s===void 0||s===1}function Yv({scale:s,scaleX:e,scaleY:n}){return!$f(s)||!$f(e)||!$f(n)}function ra(s){return Yv(s)||vA(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function vA(s){return FS(s.x)||FS(s.y)}function FS(s){return s&&s!=="0%"}function Cm(s,e,n){const i=s-n,r=e*i;return n+r}function BS(s,e,n,i,r){return r!==void 0&&(s=Cm(s,r,i)),Cm(s,n,i)+e}function Jv(s,e=0,n=1,i,r){s.min=BS(s.min,e,n,i,r),s.max=BS(s.max,e,n,i,r)}function xA(s,{x:e,y:n}){Jv(s.x,e.translate,e.scale,e.originPoint),Jv(s.y,n.translate,n.scale,n.originPoint)}const US=.999999999999,$S=1.0000000000001;function Hq(s,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&So(s,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,xA(s,o)),i&&ra(a.latestValues)&&So(s,a.latestValues))}e.x<$S&&e.x>US&&(e.x=1),e.y<$S&&e.y>US&&(e.y=1)}function wo(s,e){s.min=s.min+e,s.max=s.max+e}function qS(s,e,n,i,r=.5){const a=$t(s.min,s.max,r);Jv(s,e,n,a,i)}function So(s,e){qS(s.x,e.x,e.scaleX,e.scale,e.originX),qS(s.y,e.y,e.scaleY,e.scale,e.originY)}function yA(s,e){return gA(Wq(s.getBoundingClientRect(),e))}function Gq(s,e,n){const i=yA(s,n),{scroll:r}=e;return r&&(wo(i.x,r.offset.x),wo(i.y,r.offset.y)),i}const zS=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:zS(),y:zS()}),WS=()=>({min:0,max:0}),Jt=()=>({x:WS(),y:WS()}),Xv={current:null},jA={current:!1};function Kq(){if(jA.current=!0,!!Dj)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xv.current=s.matches;s.addEventListener("change",e),e()}else Xv.current=!1}const Qq=new WeakMap;function Yq(s,e,n){for(const i in e){const r=e[i],a=n[i];if($s(r))s.addValue(i,r);else if($s(a))s.addValue(i,rl(r,{owner:s}));else if(a!==r)if(s.hasValue(i)){const o=s.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=s.getStaticValue(i);s.addValue(i,rl(o!==void 0?o:r,{owner:s}))}}for(const i in n)e[i]===void 0&&s.removeValue(i);return e}const HS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Jq{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=sn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Bt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Pp(n),this.isVariantNode=rA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const g=m[p];c[p]!==void 0&&$s(g)&&g.set(c[p])}}mount(e){var n;this.current=e,Qq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),jA.current||Kq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xv.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Tl.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in al){const n=al[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<HS.length;i++){const r=HS[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=e[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Yq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=rl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(hP(i)||pP(i))?i=parseFloat(i):!rq(i)&&Wr.test(n)&&(i=QP(e,n)),this.setBaseTarget(e,$s(i)?i.get():i)),$s(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=lN(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!$s(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Fj),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){eN.render(this.render)}}class NA extends Jq{constructor(){super(...arguments),this.KeyframeResolver=G7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$s(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bA(s,{style:e,vars:n},i,r){const a=s.style;let o;for(o in e)a[o]=e[o];r==null||r.applyProjectionStyles(a,i);for(o in n)a.setProperty(o,n[o])}function Xq(s){return window.getComputedStyle(s)}class Zq extends NA{constructor(){super(...arguments),this.type="html",this.renderInstance=bA}readValueFromInstance(e,n){var i;if(Tl.has(n))return(i=this.projection)!=null&&i.isProjecting?qv(n):h7(e,n);{const r=Xq(e),a=($j(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yA(e,n)}build(e,n,i){rN(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return cN(e,n,i)}}const wA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ez(s,e,n,i){bA(s,e,void 0,i);for(const r in e.attrs)s.setAttribute(wA.has(r)?r:dN(r),e.attrs[r])}class tz extends NA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tl.has(n)){const i=KP(n);return i&&i.default||0}return n=wA.has(n)?n:dN(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return hA(e,n,i)}build(e,n,i){lA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){ez(e,n,i,r)}mount(e){this.isSVGTag=dA(e.tagName),super.mount(e)}}const sz=(s,e)=>oN(s)?new tz(e):new Zq(e,{allowProjection:s!==f.Fragment});function Vo(s,e,n){const i=s.getProps();return lN(i,e,n!==void 0?n:i.custom,s)}const Zv=s=>Array.isArray(s);function nz(s,e,n){s.hasValue(e)?s.getValue(e).set(n):s.addValue(e,rl(n))}function iz(s){return Zv(s)?s[s.length-1]||0:s}function rz(s,e){const n=Vo(s,e);let{transitionEnd:i={},transition:r={},...a}=n||{};a={...a,...i};for(const o in a){const l=iz(a[o]);nz(s,o,l)}}function az(s){return!!($s(s)&&s.add)}function ex(s,e){const n=s.getValue("willChange");if(az(n))return n.add(e);if(!n&&Ji.WillChange){const i=new Ji.WillChange("auto");s.addValue("willChange",i),i.add(e)}}function SA(s){return s.props[mA]}const oz=s=>s!==null;function lz(s,{repeat:e,repeatType:n="loop"},i){const r=s.filter(oz),a=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[a]}const cz={type:"spring",stiffness:500,damping:25,restSpeed:10},dz=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),uz={type:"keyframes",duration:.8},hz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mz=(s,{keyframes:e})=>e.length>2?uz:Tl.has(s)?s.startsWith("scale")?dz(e[1]):cz:hz;function pz({when:s,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const uN=(s,e,n,i={},r,a)=>o=>{const l=Xj(i,s)||{},c=l.delay||i.delay||0;let{elapsed:d=0}=i;d=d-ci(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:s,motionValue:e,element:a?void 0:r};pz(l)||Object.assign(h,mz(s,h)),h.duration&&(h.duration=ci(h.duration)),h.repeatDelay&&(h.repeatDelay=ci(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Kv(h),h.delay===0&&(m=!0)),(Ji.instantAnimations||Ji.skipAnimations)&&(m=!0,Kv(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!a&&e.get()!==void 0){const p=lz(h.keyframes,l);if(p!==void 0){Bt.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new Yj(h):new M7(h)};function fz({protectedKeys:s,needsAnimating:e},n){const i=s.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function kA(s,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:a=s.getDefaultTransition(),transitionEnd:o,...l}=e;i&&(a=i);const c=[],d=r&&s.animationState&&s.animationState.getState()[r];for(const h in l){const m=s.getValue(h,s.latestValues[h]??null),p=l[h];if(p===void 0||d&&fz(d,h))continue;const g={delay:n,...Xj(a||{},h)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const b=SA(s);if(b){const N=window.MotionHandoffAnimation(b,h,Bt);N!==null&&(g.startTime=N,j=!0)}}ex(s,h),m.start(uN(h,m,p,s.shouldReduceMotion&&WP.has(h)?{type:!1}:g,s,j));const v=m.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{Bt.update(()=>{o&&rz(s,o)})}),c}function _A(s,e,n,i=0,r=1){const a=Array.from(s).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),o=s.size,l=(o-1)*i;return typeof n=="function"?n(a,o):r===1?a*i:l-a*i}function tx(s,e,n={}){var c;const i=Vo(s,e,n.type==="exit"?(c=s.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=s.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const a=i?()=>Promise.all(kA(s,i,n)):()=>Promise.resolve(),o=s.variantChildren&&s.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:p}=r;return gz(s,e,d,h,m,p,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[d,h]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>h())}else return Promise.all([a(),o(n.delay)])}function gz(s,e,n=0,i=0,r=0,a=1,o){const l=[];for(const c of s.variantChildren)c.notify("AnimationStart",e),l.push(tx(c,e,{...o,delay:n+(typeof i=="function"?0:i)+_A(s.variantChildren,c,i,r,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function vz(s,e,n={}){s.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>tx(s,a,n));i=Promise.all(r)}else if(typeof e=="string")i=tx(s,e,n);else{const r=typeof e=="function"?Vo(s,e,n.custom):e;i=Promise.all(kA(s,r,n))}return i.then(()=>{s.notify("AnimationComplete",e)})}function CA(s,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==s.length)return!1;for(let i=0;i<n;i++)if(e[i]!==s[i])return!1;return!0}const xz=iN.length;function TA(s){if(!s)return;if(!s.isControllingVariants){const n=s.parent?TA(s.parent)||{}:{};return s.props.initial!==void 0&&(n.initial=s.props.initial),n}const e={};for(let n=0;n<xz;n++){const i=iN[n],r=s.props[i];(Nd(r)||r===!1)&&(e[i]=r)}return e}const yz=[...nN].reverse(),jz=nN.length;function Nz(s){return e=>Promise.all(e.map(({animation:n,options:i})=>vz(s,n,i)))}function bz(s){let e=Nz(s),n=GS(),i=!0;const r=c=>(d,h)=>{var p;const m=Vo(s,h,c==="exit"?(p=s.presenceContext)==null?void 0:p.custom:void 0);if(m){const{transition:g,transitionEnd:x,...j}=m;d={...d,...j,...x}}return d};function a(c){e=c(s)}function o(c){const{props:d}=s,h=TA(s.parent)||{},m=[],p=new Set;let g={},x=1/0;for(let v=0;v<jz;v++){const b=yz[v],N=n[b],C=d[b]!==void 0?d[b]:h[b],I=Nd(C),D=b===c?N.isActive:null;D===!1&&(x=v);let $=C===h[b]&&C!==d[b]&&I;if($&&i&&s.manuallyAnimateOnMount&&($=!1),N.protectedKeys={...g},!N.isActive&&D===null||!C&&!N.prevProp||Ep(C)||typeof C=="boolean")continue;const E=wz(N.prevProp,C);let k=E||b===c&&N.isActive&&!$&&I||v>x&&I,_=!1;const T=Array.isArray(C)?C:[C];let S=T.reduce(r(b),{});D===!1&&(S={});const{prevResolvedValues:F={}}=N,L={...F,...S},oe=Q=>{k=!0,p.has(Q)&&(_=!0,p.delete(Q)),N.needsAnimating[Q]=!0;const q=s.getValue(Q);q&&(q.liveStyle=!1)};for(const Q in L){const q=S[Q],P=F[Q];if(g.hasOwnProperty(Q))continue;let G=!1;Zv(q)&&Zv(P)?G=!CA(q,P):G=q!==P,G?q!=null?oe(Q):p.add(Q):q!==void 0&&p.has(Q)?oe(Q):N.protectedKeys[Q]=!0}N.prevProp=C,N.prevResolvedValues=S,N.isActive&&(g={...g,...S}),i&&s.blockInitialAnimation&&(k=!1);const A=$&&E;k&&(!A||_)&&m.push(...T.map(Q=>{const q={type:b};if(typeof Q=="string"&&i&&!A&&s.manuallyAnimateOnMount&&s.parent){const{parent:P}=s,G=Vo(P,Q);if(P.enteringChildren&&G){const{delayChildren:U}=G.transition||{};q.delay=_A(P.enteringChildren,s,U)}}return{animation:Q,options:q}}))}if(p.size){const v={};if(typeof d.initial!="boolean"){const b=Vo(s,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(v.transition=b.transition)}p.forEach(b=>{const N=s.getBaseTarget(b),C=s.getValue(b);C&&(C.liveStyle=!0),v[b]=N??null}),m.push({animation:v})}let j=!!m.length;return i&&(d.initial===!1||d.initial===d.animate)&&!s.manuallyAnimateOnMount&&(j=!1),i=!1,j?e(m):Promise.resolve()}function l(c,d){var m;if(n[c].isActive===d)return Promise.resolve();(m=s.variantChildren)==null||m.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(c,d)}),n[c].isActive=d;const h=o(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=GS()}}}function wz(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!CA(e,s):!1}function ea(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GS(){return{animate:ea(!0),whileInView:ea(),whileHover:ea(),whileTap:ea(),whileDrag:ea(),whileFocus:ea(),exit:ea()}}class Qr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Sz extends Qr{constructor(e){super(e),e.animationState||(e.animationState=bz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ep(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let kz=0;class _z extends Qr{constructor(){super(...arguments),this.id=kz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Cz={animation:{Feature:Sz},exit:{Feature:_z}};function wd(s,e,n,i={passive:!0}){return s.addEventListener(e,n,i),()=>s.removeEventListener(e,n)}function eu(s){return{point:{x:s.pageX,y:s.pageY}}}const Tz=s=>e=>tN(e)&&s(e,eu(e));function Ic(s,e,n,i){return wd(s,e,Tz(n),i)}const EA=1e-4,Ez=1-EA,Pz=1+EA,PA=.01,Az=0-PA,Rz=0+PA;function Ks(s){return s.max-s.min}function Iz(s,e,n){return Math.abs(s-e)<=n}function KS(s,e,n,i=.5){s.origin=i,s.originPoint=$t(e.min,e.max,s.origin),s.scale=Ks(n)/Ks(e),s.translate=$t(n.min,n.max,s.origin)-s.originPoint,(s.scale>=Ez&&s.scale<=Pz||isNaN(s.scale))&&(s.scale=1),(s.translate>=Az&&s.translate<=Rz||isNaN(s.translate))&&(s.translate=0)}function Dc(s,e,n,i){KS(s.x,e.x,n.x,i?i.originX:void 0),KS(s.y,e.y,n.y,i?i.originY:void 0)}function QS(s,e,n){s.min=n.min+e.min,s.max=s.min+Ks(e)}function Dz(s,e,n){QS(s.x,e.x,n.x),QS(s.y,e.y,n.y)}function YS(s,e,n){s.min=e.min-n.min,s.max=s.min+Ks(e)}function Mc(s,e,n){YS(s.x,e.x,n.x),YS(s.y,e.y,n.y)}function Nn(s){return[s("x"),s("y")]}const AA=({current:s})=>s?s.ownerDocument.defaultView:null,JS=(s,e)=>Math.abs(s-e);function Mz(s,e){const n=JS(s.x,e.x),i=JS(s.y,e.y);return Math.sqrt(n**2+i**2)}class RA{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=zf(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=Mz(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:j}=p,{timestamp:v}=Ns;this.history.push({...j,timestamp:v});const{onStart:b,onMove:N}=this.handlers;g||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=qf(g,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:j,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=zf(p.type==="pointercancel"?this.lastMoveEventInfo:qf(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,b),j&&j(p,b)},!tN(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const l=eu(e),c=qf(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Ns;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=n;m&&m(e,zf(c,this.history)),this.removeListeners=Jd(Ic(this.contextWindow,"pointermove",this.handlePointerMove),Ic(this.contextWindow,"pointerup",this.handlePointerUp),Ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function qf(s,e){return e?{point:e(s.point)}:s}function XS(s,e){return{x:s.x-e.x,y:s.y-e.y}}function zf({point:s},e){return{point:s,delta:XS(s,IA(e)),offset:XS(s,Lz(e)),velocity:Oz(e,.1)}}function Lz(s){return s[0]}function IA(s){return s[s.length-1]}function Oz(s,e){if(s.length<2)return{x:0,y:0};let n=s.length-1,i=null;const r=IA(s);for(;n>=0&&(i=s[n],!(r.timestamp-i.timestamp>ci(e)));)n--;if(!i)return{x:0,y:0};const a=Cn(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Vz(s,{min:e,max:n},i){return e!==void 0&&s<e?s=i?$t(e,s,i.min):Math.max(s,e):n!==void 0&&s>n&&(s=i?$t(n,s,i.max):Math.min(s,n)),s}function ZS(s,e,n){return{min:e!==void 0?s.min+e:void 0,max:n!==void 0?s.max+n-(s.max-s.min):void 0}}function Fz(s,{top:e,left:n,bottom:i,right:r}){return{x:ZS(s.x,n,r),y:ZS(s.y,e,i)}}function e1(s,e){let n=e.min-s.min,i=e.max-s.max;return e.max-e.min<s.max-s.min&&([n,i]=[i,n]),{min:n,max:i}}function Bz(s,e){return{x:e1(s.x,e.x),y:e1(s.y,e.y)}}function Uz(s,e){let n=.5;const i=Ks(s),r=Ks(e);return r>i?n=xd(e.min,e.max-i,s.min):i>r&&(n=xd(s.min,s.max-r,e.min)),Yi(0,1,n)}function $z(s,e){const n={};return e.min!==void 0&&(n.min=e.min-s.min),e.max!==void 0&&(n.max=e.max-s.min),n}const sx=.35;function qz(s=sx){return s===!1?s=0:s===!0&&(s=sx),{x:t1(s,"left","right"),y:t1(s,"top","bottom")}}function t1(s,e,n){return{min:s1(s,e),max:s1(s,n)}}function s1(s,e){return typeof s=="number"?s:s[e]||0}const zz=new WeakMap;class Wz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(eu(m).point)},o=(m,p)=>{const{drag:g,dragPropagation:x,onDragStart:j}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=J7(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nn(b=>{let N=this.getAxisMotionValue(b).get()||0;if(di.test(N)){const{projection:C}=this.visualElement;if(C&&C.layout){const I=C.layout.layoutBox[b];I&&(N=Ks(I)*(parseFloat(N)/100))}}this.originPoint[b]=N}),j&&Bt.postRender(()=>j(m,p)),ex(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:j,onDrag:v}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:b}=p;if(x&&this.currentDirection===null){this.currentDirection=Hz(b),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",p.point,b),this.updateAxis("y",p.point,b),this.visualElement.render(),v&&v(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Nn(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new RA(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:i,contextWindow:AA(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Bt.postRender(()=>l(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Qu(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Vz(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;e&&bo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Fz(i.layoutBox,e):this.constraints=!1,this.elastic=qz(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Nn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=$z(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!bo(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=Gq(i,r.root,this.visualElement.getTransformPagePoint());let o=Bz(r.layout.layoutBox,a);if(n){const l=n(zq(o));this.hasMutatedConstraints=!!l,l&&(o=gA(l))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Nn(h=>{if(!Qu(h,n,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const p=r?200:1e6,g=r?40:1e7,x={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(h,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ex(this.visualElement,e),i.start(uN(e,i,0,n,this.visualElement,!1))}stopAnimation(){Nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Nn(n=>{const{drag:i}=this.getProps();if(!Qu(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(e[n]-$t(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!bo(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Nn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=Uz({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Nn(o=>{if(!Qu(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set($t(c,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;zz.set(this.visualElement,this);const e=this.visualElement.current,n=Ic(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();bo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Bt.read(i);const o=wd(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Nn(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=sx,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Qu(s,e,n){return(e===!0||e===s)&&(n===null||n===s)}function Hz(s,e=10){let n=null;return Math.abs(s.y)>e?n="y":Math.abs(s.x)>e&&(n="x"),n}class Gz extends Qr{constructor(e){super(e),this.removeGroupControls=An,this.removeListeners=An,this.controls=new Wz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||An}unmount(){this.removeGroupControls(),this.removeListeners()}}const n1=s=>(e,n)=>{s&&Bt.postRender(()=>s(e,n))};class Kz extends Qr{constructor(){super(...arguments),this.removePointerDownListener=An}onPointerDown(e){this.session=new RA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:n1(e),onStart:n1(n),onMove:i,onEnd:(a,o)=>{delete this.session,r&&Bt.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=Ic(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i1(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const sc={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(qe.test(s))s=parseFloat(s);else return s;const n=i1(s,e.target.x),i=i1(s,e.target.y);return`${n}% ${i}%`}},Qz={correct:(s,{treeScale:e,projectionDelta:n})=>{const i=s,r=Wr.parse(s);if(r.length>5)return i;const a=Wr.createTransformer(s),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=c;const d=$t(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),a(r)}};let Wf=!1;class Yz extends f.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;xq(Jz),a&&(n.group&&n.group.add(a),i&&i.register&&r&&i.register(a),Wf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),wh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:a}=this.props,{projection:o}=i;return o&&(o.isPresent=a,Wf=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Bt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;Wf=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DA(s){const[e,n]=sA(),i=f.useContext(Rj);return t.jsx(Yz,{...s,layoutGroup:i,switchLayoutGroup:f.useContext(pA),isPresent:e,safeToRemove:n})}const Jz={borderRadius:{...sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sc,borderTopRightRadius:sc,borderBottomLeftRadius:sc,borderBottomRightRadius:sc,boxShadow:Qz};function Xz(s,e,n){const i=$s(s)?s:rl(s);return i.start(uN("",i,e,n)),i.animation}const Zz=(s,e)=>s.depth-e.depth;class eW{constructor(){this.children=[],this.isDirty=!1}add(e){Mj(this.children,e),this.isDirty=!0}remove(e){Lj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zz),this.isDirty=!1,this.children.forEach(e)}}function tW(s,e){const n=sn.now(),i=({timestamp:r})=>{const a=r-n;a>=e&&(zr(i),s(a-e))};return Bt.setup(i,!0),()=>zr(i)}const MA=["TopLeft","TopRight","BottomLeft","BottomRight"],sW=MA.length,r1=s=>typeof s=="string"?parseFloat(s):s,a1=s=>typeof s=="number"||qe.test(s);function nW(s,e,n,i,r,a){r?(s.opacity=$t(0,n.opacity??1,iW(i)),s.opacityExit=$t(e.opacity??1,0,rW(i))):a&&(s.opacity=$t(e.opacity??1,n.opacity??1,i));for(let o=0;o<sW;o++){const l=`border${MA[o]}Radius`;let c=o1(e,l),d=o1(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||a1(c)===a1(d)?(s[l]=Math.max($t(r1(c),r1(d),i),0),(di.test(d)||di.test(c))&&(s[l]+="%")):s[l]=d}(e.rotate||n.rotate)&&(s.rotate=$t(e.rotate||0,n.rotate||0,i))}function o1(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const iW=LA(0,.5,bP),rW=LA(.5,.95,An);function LA(s,e,n){return i=>i<s?0:i>e?1:n(xd(s,e,i))}function l1(s,e){s.min=e.min,s.max=e.max}function jn(s,e){l1(s.x,e.x),l1(s.y,e.y)}function c1(s,e){s.translate=e.translate,s.scale=e.scale,s.originPoint=e.originPoint,s.origin=e.origin}function d1(s,e,n,i,r){return s-=e,s=Cm(s,1/n,i),r!==void 0&&(s=Cm(s,1/r,i)),s}function aW(s,e=0,n=1,i=.5,r,a=s,o=s){if(di.test(e)&&(e=parseFloat(e),e=$t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=$t(a.min,a.max,i);s===a&&(l-=e),s.min=d1(s.min,e,n,l,r),s.max=d1(s.max,e,n,l,r)}function u1(s,e,[n,i,r],a,o){aW(s,e[n],e[i],e[r],e.scale,a,o)}const oW=["x","scaleX","originX"],lW=["y","scaleY","originY"];function h1(s,e,n,i){u1(s.x,e,oW,n?n.x:void 0,i?i.x:void 0),u1(s.y,e,lW,n?n.y:void 0,i?i.y:void 0)}function m1(s){return s.translate===0&&s.scale===1}function OA(s){return m1(s.x)&&m1(s.y)}function p1(s,e){return s.min===e.min&&s.max===e.max}function cW(s,e){return p1(s.x,e.x)&&p1(s.y,e.y)}function f1(s,e){return Math.round(s.min)===Math.round(e.min)&&Math.round(s.max)===Math.round(e.max)}function VA(s,e){return f1(s.x,e.x)&&f1(s.y,e.y)}function g1(s){return Ks(s.x)/Ks(s.y)}function v1(s,e){return s.translate===e.translate&&s.scale===e.scale&&s.originPoint===e.originPoint}class dW{constructor(){this.members=[]}add(e){Mj(this.members,e),e.scheduleRender()}remove(e){if(Lj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uW(s,e,n){let i="";const r=s.x.translate/e.x,a=s.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||a||o)&&(i=`translate3d(${r}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:p,skewX:g,skewY:x}=n;d&&(i=`perspective(${d}px) ${i}`),h&&(i+=`rotate(${h}deg) `),m&&(i+=`rotateX(${m}deg) `),p&&(i+=`rotateY(${p}deg) `),g&&(i+=`skewX(${g}deg) `),x&&(i+=`skewY(${x}deg) `)}const l=s.x.scale*e.x,c=s.y.scale*e.y;return(l!==1||c!==1)&&(i+=`scale(${l}, ${c})`),i||"none"}const Hf=["","X","Y","Z"],hW=1e3;let mW=0;function Gf(s,e,n,i){const{latestValues:r}=e;r[s]&&(n[s]=r[s],e.setStaticValue(s,0),i&&(i[s]=0))}function FA(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:e}=s.options;if(!e)return;const n=SA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=s.options;window.MotionCancelOptimisedAnimation(n,"transform",Bt,!(r||a))}const{parent:i}=s;i&&!i.hasCheckedOptimisedAppear&&FA(i)}function BA({attachResizeListener:s,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=mW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gW),this.nodes.forEach(jW),this.nodes.forEach(NW),this.nodes.forEach(vW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new eW)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Fj),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=tA(o)&&!nq(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),s){let h,m=0;const p=()=>this.root.updateBlockedByResize=!1;Bt.read(()=>{m=window.innerWidth}),s(o,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,h&&h(),h=tW(p,250),wh.hasAnimatedSinceResize&&(wh.hasAnimatedSinceResize=!1,this.nodes.forEach(j1)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||_W,{onLayoutAnimationStart:j,onLayoutAnimationComplete:v}=d.getProps(),b=!this.targetLayout||!VA(this.targetLayout,g),N=!m&&p;if(this.options.layoutRoot||this.resumeFrom||N||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Xj(x,"layout"),onPlay:j,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(h,N)}else m||j1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(x1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(y1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yW),this.nodes.forEach(pW),this.nodes.forEach(fW)):this.nodes.forEach(y1),this.clearAllSnapshots();const l=sn.now();Ns.delta=Yi(0,1e3/60,l-Ns.timestamp),Ns.timestamp=l,Ns.isProcessing=!0,Mf.update.process(Ns),Mf.preRender.process(Ns),Mf.render.process(Ns),Ns.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xW),this.sharedNodes.forEach(wW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ks(this.snapshot.measuredBox.x)&&!Ks(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!OA(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ra(this.latestValues)||h)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),CW(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Jt();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(TW))){const{scroll:h}=this.root;h&&(wo(l.x,h.offset.x),wo(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=Jt();if(jn(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:p}=h;h!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&jn(l,o),wo(l.x,m.offset.x),wo(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Jt();jn(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&So(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ra(h.latestValues)&&So(c,h.latestValues)}return ra(this.latestValues)&&So(c,this.latestValues),c}removeTransform(o){const l=Jt();jn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ra(d.latestValues))continue;Yv(d.latestValues)&&d.updateSnapshot();const h=Jt(),m=d.measurePageBox();jn(h,m),h1(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return ra(this.latestValues)&&h1(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ns.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Ns.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),Mc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jt(),this.targetWithTransforms=Jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Dz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),xA(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),Mc(this.relativeTargetOrigin,this.target,g.target),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Yv(this.parent.latestValues)||vA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ns.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;jn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;Hq(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Jt());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c1(this.prevProjectionDelta.x,this.projectionDelta.x),c1(this.prevProjectionDelta.y,this.projectionDelta.y)),Dc(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!v1(this.projectionDelta.x,this.prevProjectionDelta.x)||!v1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Jt(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,j=g!==x,v=this.getStack(),b=!v||v.members.length<=1,N=!!(j&&!b&&this.options.crossfade===!0&&!this.path.some(kW));this.animationProgress=0;let C;this.mixTargetDelta=I=>{const D=I/1e3;N1(m.x,o.x,D),N1(m.y,o.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mc(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SW(this.relativeTarget,this.relativeTargetOrigin,p,D),C&&cW(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Jt()),jn(C,this.relativeTarget)),j&&(this.animationValues=h,nW(h,d,this.latestValues,D,N,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{wh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=rl(0)),this.currentAnimation=Xz(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&UA(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Jt();const m=Ks(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=Ks(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}jn(l,c),So(l,h),Dc(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dW),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Gf("z",o,d,this.animationValues);for(let h=0;h<Hf.length;h++)Gf(`rotate${Hf[h]}`,o,d,this.animationValues),Gf(`skew${Hf[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=bh(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=bh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ra(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=uW(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x:p,y:g}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in bd){if(h[x]===void 0)continue;const{correct:j,applyTo:v,isCSSVariable:b}=bd[x],N=m==="none"?h[x]:j(h[x],d);if(v){const C=v.length;for(let I=0;I<C;I++)o[v[I]]=N}else b?this.options.visualElement.renderState.vars[x]=N:o[x]=N}this.options.layoutId&&(o.pointerEvents=d===this?bh(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(x1),this.root.sharedNodes.clear()}}}function pW(s){s.updateLayout()}function fW(s){var n;const e=((n=s.resumeFrom)==null?void 0:n.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&e&&s.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=s.layout,{animationType:a}=s.options,o=e.source!==s.layout.source;a==="size"?Nn(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],g=Ks(p);p.min=i[m].min,p.max=p.min+g}):UA(a,e.layoutBox,i)&&Nn(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],g=Ks(i[m]);p.max=p.min+g,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[m].max=s.relativeTarget[m].min+g)});const l=ko();Dc(l,i,e.layoutBox);const c=ko();o?Dc(c,s.applyTransform(r,!0),e.measuredBox):Dc(c,i,e.layoutBox);const d=!OA(l);let h=!1;if(!s.resumeFrom){const m=s.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:g}=m;if(p&&g){const x=Jt();Mc(x,e.layoutBox,p.layoutBox);const j=Jt();Mc(j,i,g.layoutBox),VA(x,j)||(h=!0),m.options.layoutRoot&&(s.relativeTarget=j,s.relativeTargetOrigin=x,s.relativeParent=m)}}}s.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(s.isLead()){const{onExitComplete:i}=s.options;i&&i()}s.options.transition=void 0}function gW(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function vW(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function xW(s){s.clearSnapshot()}function x1(s){s.clearMeasurements()}function y1(s){s.isLayoutDirty=!1}function yW(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function j1(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function jW(s){s.resolveTargetDelta()}function NW(s){s.calcProjection()}function bW(s){s.resetSkewAndRotation()}function wW(s){s.removeLeadSnapshot()}function N1(s,e,n){s.translate=$t(e.translate,0,n),s.scale=$t(e.scale,1,n),s.origin=e.origin,s.originPoint=e.originPoint}function b1(s,e,n,i){s.min=$t(e.min,n.min,i),s.max=$t(e.max,n.max,i)}function SW(s,e,n,i){b1(s.x,e.x,n.x,i),b1(s.y,e.y,n.y,i)}function kW(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const _W={duration:.45,ease:[.4,0,.1,1]},w1=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),S1=w1("applewebkit/")&&!w1("chrome/")?Math.round:An;function k1(s){s.min=S1(s.min),s.max=S1(s.max)}function CW(s){k1(s.x),k1(s.y)}function UA(s,e,n){return s==="position"||s==="preserve-aspect"&&!Iz(g1(e),g1(n),.2)}function TW(s){var e;return s!==s.root&&((e=s.scroll)==null?void 0:e.wasRoot)}const EW=BA({attachResizeListener:(s,e)=>wd(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kf={current:void 0},$A=BA({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Kf.current){const s=new EW({});s.mount(window),s.setOptions({layoutScroll:!0}),Kf.current=s}return Kf.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),PW={pan:{Feature:Kz},drag:{Feature:Gz,ProjectionNode:$A,MeasureLayout:DA}};function _1(s,e,n){const{props:i}=s;s.animationState&&i.whileHover&&s.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=i[r];a&&Bt.postRender(()=>a(e,eu(e)))}class AW extends Qr{mount(){const{current:e}=this.node;e&&(this.unmount=X7(e,(n,i)=>(_1(this.node,i,"Start"),r=>_1(this.node,r,"End"))))}unmount(){}}class RW extends Qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jd(wd(this.node.current,"focus",()=>this.onFocus()),wd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function C1(s,e,n){const{props:i}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&i.whileTap&&s.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=i[r];a&&Bt.postRender(()=>a(e,eu(e)))}class IW extends Qr{mount(){const{current:e}=this.node;e&&(this.unmount=sq(e,(n,i)=>(C1(this.node,i,"Start"),(r,{success:a})=>C1(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nx=new WeakMap,Qf=new WeakMap,DW=s=>{const e=nx.get(s.target);e&&e(s)},MW=s=>{s.forEach(DW)};function LW({root:s,...e}){const n=s||document;Qf.has(n)||Qf.set(n,{});const i=Qf.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(MW,{root:s,...e})),i[r]}function OW(s,e,n){const i=LW(e);return nx.set(s,n),i.observe(s),()=>{nx.delete(s),i.unobserve(s)}}const VW={some:0,all:1};class FW extends Qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:VW[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),p=d?h:m;p&&p(c)};return OW(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BW(e,n))&&this.startObserver()}unmount(){}}function BW({viewport:s={}},{viewport:e={}}={}){return n=>s[n]!==e[n]}const UW={inView:{Feature:FW},tap:{Feature:IW},focus:{Feature:RW},hover:{Feature:AW}},$W={layout:{ProjectionNode:$A,MeasureLayout:DA}},qW={...Cz,...UW,...PW,...$W},Xe=qq(qW,sz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WW=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),T1=s=>{const e=WW(s);return e.charAt(0).toUpperCase()+e.slice(1)},qA=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),HW=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=f.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...GW,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:qA("lucide",r),...!a&&!HW(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>f.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(s,e)=>{const n=f.forwardRef(({className:i,...r},a)=>f.createElement(KW,{ref:a,iconNode:e,className:qA(`lucide-${zW(T1(s))}`,`lucide-${s}`,i),...r}));return n.displayName=T1(s),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Tm=ve("activity",QW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],JW=ve("arrow-down-wide-narrow",YW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zA=ve("arrow-left",XW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],eH=ve("arrow-up-narrow-wide",ZW);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Em=ve("award",tH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M6 14v-4",key:"14a6bd"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],WA=ve("battery-low",sH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Pm=ve("battery",nH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],rH=ve("bookmark",iH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],E1=ve("briefcase",aH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ba=ve("calendar",oH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M14.564 14.558a3 3 0 1 1-4.122-4.121",key:"1rnrzw"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M20 20H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 .819-.175",key:"1x3arw"}],["path",{d:"M9.695 4.024A2 2 0 0 1 10.004 4h3.993a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v7.344",key:"1i84u0"}]],cH=ve("camera-off",lH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],uH=ve("camera",dH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],mH=ve("chart-column",hH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],P1=ve("check-check",pH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gH=ve("check",fH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hN=ve("circle-alert",vH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ui=ve("circle-check-big",xH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],A1=ve("circle",yH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lr=ve("clock",jH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bH=ve("compass",NH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Sd=ve("dollar-sign",wH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],HA=ve("download",SH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],_H=ve("ellipsis-vertical",kH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TH=ve("eye",CH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],PH=ve("file-text",EH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]],RH=ve("fullscreen",AH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],DH=ve("funnel",IH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],GA=ve("globe",MH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Am=ve("grid-3x3",LH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],VH=ve("heart",OH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],BH=ve("history",FH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$H=ve("image",UH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],KA=ve("layers",qH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],QA=ve("list",zH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ol=ve("mail",WH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Tn=ve("map-pin",HH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ix=ve("map",GH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],QH=ve("maximize-2",KH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],wa=ve("message-circle",YH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],XH=ve("message-square",JH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],ao=ve("mic-off",ZH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],rx=ve("mic",eG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],sG=ve("minimize-2",tG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["path",{d:"M5 12h14",key:"1ays0h"}]],iG=ve("minus",nG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["path",{d:"M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2",key:"k0q8oc"}],["path",{d:"M22 15V5a2 2 0 0 0-2-2H9",key:"cp1ac0"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],aG=ve("monitor-off",rG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],lG=ve("monitor",oG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["polygon",{points:"12 2 19 21 12 17 5 21 12 2",key:"x8c0qg"}]],Yf=ve("navigation-2",cG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],uG=ve("navigation",dG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],YA=ve("paperclip",hG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],pG=ve("pause",mG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],as=ve("phone",fG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],R1=ve("play",gG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xG=ve("plus",vG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jG=ve("refresh-cw",yG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],bG=ve("rotate-cw",NG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],ax=ve("route",wG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["path",{d:"m13.5 6.5-3.148-3.148a1.205 1.205 0 0 0-1.704 0L6.352 5.648a1.205 1.205 0 0 0 0 1.704L9.5 10.5",key:"dzhfyz"}],["path",{d:"M16.5 7.5 19 5",key:"1ltcjm"}],["path",{d:"m17.5 10.5 3.148 3.148a1.205 1.205 0 0 1 0 1.704l-2.296 2.296a1.205 1.205 0 0 1-1.704 0L13.5 14.5",key:"nfoymv"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}],["path",{d:"M9.352 10.648a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l4.296-4.296a1.205 1.205 0 0 0 0-1.704l-2.296-2.296a1.205 1.205 0 0 0-1.704 0z",key:"nv9zqy"}]],kG=ve("satellite",SG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],CG=ve("save",_G);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3",key:"i8wdob"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m17 8 5-5",key:"fqif7o"}],["path",{d:"M17 3h5v5",key:"1o3tu8"}]],I1=ve("screen-share",TG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ll=ve("search",EG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JA=ve("send",PG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XA=ve("settings",AG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Rm=ve("share-2",RG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kd=ve("shield",IG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],Mi=ve("signal",DG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],LG=ve("sliders-horizontal",MG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],VG=ve("sliders-vertical",OG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],BG=ve("smile",FG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],$G=ve("square",UG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],un=ve("star",qG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Lc=ve("target",zG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],HG=ve("thumbs-up",WG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],KG=ve("trending-up",GG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],YG=ve("triangle-alert",QG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],XG=ve("user-check",JG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZA=ve("user",ZG);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fi=ve("users",eK);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],D1=ve("video-off",tK);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],nn=ve("video",sK);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ox=ve("volume-2",nK);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],eR=ve("volume-x",iK);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tR=ve("wifi-off",rK);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hi=ve("x",aK);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lx=ve("zap",oK);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],cK=ve("zoom-in",lK);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],uK=ve("zoom-out",dK),hK=[{id:"1",name:"John Smith",category:"Plumbing",rating:4.9,reviews:342,verified:!0,available:!0,emergency:!0,experience:"15+ years",location:"Downtown District",distance:"2.3 km",price:"$80-120/hr",image:"",phone:"+1 234-567-8901",email:"john.smith@services.com",specialties:["Emergency Repairs","Pipe Installation","Drain Cleaning"],certifications:["Licensed Plumber","OSHA Certified","Green Plumbing"],responseTime:"15 mins",completedJobs:1250,languages:["English","Spanish"],about:"Professional plumber with over 15 years of experience.",workingHours:"Mon-Sat: 8AM-8PM",insurance:!0,backgroundCheck:!0,onlineBooking:!0,videoConsultation:!0,freeEstimate:!0,warranty:!0,lastActive:"2 mins ago",responseRate:98,acceptanceRate:95,cancellationRate:2,averageResponseTime:"15 mins",premiumServices:["24/7 Emergency","Eco-Friendly Solutions"],equipment:["Pipe Inspection Camera","Hydro Jetting"],serviceAreas:["Downtown","Midtown","Uptown"],paymentMethods:["Credit Card","Cash","Bank Transfer"],website:"www.johnsmithplumbing.com",reviewsSummary:{recent:45,positive:310,neutral:25,negative:7},trending:!0,featured:!0,topRated:!0,quickResponder:!0},{id:"2",name:"Sarah Johnson",category:"Electrical",rating:4.8,reviews:289,verified:!0,available:!0,emergency:!0,experience:"12+ years",location:"West Side",distance:"3.7 km",price:"$90-150/hr",image:"",phone:"+1 234-567-8902",email:"sarah.j@electrical.com",specialties:["Circuit Repair","Installation","Safety Inspection"],certifications:["Master Electrician","Safety Certified"],responseTime:"20 mins",completedJobs:980,languages:["English","French"],about:"Certified master electrician specializing in smart homes.",workingHours:"Mon-Fri: 7AM-7PM",insurance:!0,backgroundCheck:!0,onlineBooking:!0,videoConsultation:!1,freeEstimate:!0,warranty:!0,lastActive:"5 mins ago",responseRate:95,acceptanceRate:92,cancellationRate:3,averageResponseTime:"20 mins",premiumServices:["Smart Home Installation","Solar Panel Setup"],equipment:["Multimeter","Circuit Testers"],serviceAreas:["West Side","North End"],paymentMethods:["Credit Card","Bank Transfer"],website:"www.sarahjohnsonelectrical.com",reviewsSummary:{recent:38,positive:265,neutral:18,negative:6},trending:!1,featured:!0,topRated:!0,quickResponder:!0},{id:"3",name:"Emily Davis",category:"Painting",rating:4.9,reviews:423,verified:!0,available:!0,emergency:!1,experience:"10+ years",location:"East End",distance:"4.2 km",price:"$35-60/hr",image:"",phone:"+1 234-567-8904",email:"emily.d@paint.com",specialties:["Interior Painting","Exterior Painting","Decorative Finishes"],certifications:["Licensed Painter","Color Specialist"],responseTime:"30 mins",completedJobs:890,languages:["English","Italian"],about:"Professional painter with expertise in color coordination.",workingHours:"Mon-Fri: 8AM-6PM",insurance:!0,backgroundCheck:!0,onlineBooking:!0,videoConsultation:!0,freeEstimate:!0,warranty:!0,lastActive:"30 mins ago",responseRate:96,acceptanceRate:94,cancellationRate:2,averageResponseTime:"30 mins",premiumServices:["Color Consultation","Faux Finishing"],equipment:["Professional Brushes","Spray Systems"],serviceAreas:["East End","Downtown"],paymentMethods:["Credit Card","Bank Transfer"],website:"www.emilydavispainting.com",reviewsSummary:{recent:58,positive:395,neutral:22,negative:6},trending:!0,featured:!0,topRated:!0,quickResponder:!0}];function mK({providers:s=hK,onClose:e}){const n=Ct(),[i,r]=f.useState(null),[a,o]=f.useState(s),[l,c]=f.useState("table"),[d,h]=f.useState(!1),m=v=>{let b=0;return v.verified&&(b+=15),v.available&&(b+=10),v.emergency&&(b+=10),v.insurance&&(b+=10),v.onlineBooking&&(b+=5),v.videoConsultation&&(b+=5),v.freeEstimate&&(b+=5),v.warranty&&(b+=5),b+=v.rating/5*20,b+=v.responseRate/100*15,b+=Math.min(v.reviews/50,1)*10,b+=v.acceptanceRate/100*10,b-=v.cancellationRate*2,Math.round(b)},p=()=>a.reduce((v,b)=>m(v)>m(b)?v:b),g=(v,b)=>{switch(b){case"call":window.open(`tel:${v.phone}`);break;case"email":window.open(`mailto:${v.email}`);break;case"book":n(`/book/${v.category.toLowerCase()}?provider=${v.id}`);break;case"video":v.videoConsultation&&alert(`Video consultation requested with ${v.name}`);break}},x=()=>{const v=[["Name","Category","Rating","Reviews","Price","Response Rate","Experience","Score"],...a.map(I=>[I.name,I.category,I.rating,I.reviews,I.price,`${I.responseRate}%`,I.experience,m(I)])].map(I=>I.join(",")).join(`
`),b=new Blob([v],{type:"text/csv"}),N=window.URL.createObjectURL(b),C=document.createElement("a");C.href=N,C.download="provider-comparison.csv",C.click(),window.URL.revokeObjectURL(N)},j=d?p():null;return t.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"provider-comparison-overlay",children:t.jsxs(Xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"comparison-container",children:[t.jsxs("div",{className:"comparison-header",children:[t.jsxs("div",{className:"header-left",children:[t.jsx("h2",{children:"Provider Comparison"}),t.jsxs("p",{children:["Compare ",a.length," professionals side by side"]})]}),t.jsxs("div",{className:"header-right",children:[t.jsxs("div",{className:"view-toggle",children:[t.jsxs("button",{className:`view-btn ${l==="table"?"active":""}`,onClick:()=>c("table"),children:[t.jsx(TH,{size:16}),"Table View"]}),t.jsxs("button",{className:`view-btn ${l==="cards"?"active":""}`,onClick:()=>c("cards"),children:[t.jsx(fi,{size:16}),"Card View"]})]}),t.jsxs("button",{className:`winner-toggle ${d?"active":""}`,onClick:()=>h(!d),children:[t.jsx(Jf,{size:16}),d?"Hide Winner":"Show Winner"]}),t.jsxs("button",{className:"export-btn",onClick:x,children:[t.jsx(HA,{size:16}),"Export"]}),t.jsx("button",{className:"close-btn",onClick:e,children:t.jsx(hi,{size:20})})]})]}),j&&t.jsx(Xe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"winner-announcement",children:t.jsxs("div",{className:"winner-content",children:[t.jsx(Jf,{className:"trophy-icon",size:24}),t.jsxs("div",{className:"winner-info",children:[t.jsxs("h3",{children:[" Best Match: ",j.name]}),t.jsxs("p",{children:["Score: ",m(j),"/100  ",j.category,"  ",j.rating,""]})]}),t.jsx("button",{className:"select-winner-btn",onClick:()=>g(j,"book"),children:"Select Provider"})]})}),t.jsx("div",{className:"comparison-content",children:l==="table"?t.jsxs("div",{className:"comparison-table",children:[t.jsxs("div",{className:"table-header",children:[t.jsx("div",{className:"provider-column",children:"Provider"}),t.jsx("div",{className:"rating-column",children:"Rating"}),t.jsx("div",{className:"price-column",children:"Price"}),t.jsx("div",{className:"response-column",children:"Response"}),t.jsx("div",{className:"experience-column",children:"Experience"}),t.jsx("div",{className:"features-column",children:"Features"}),t.jsx("div",{className:"score-column",children:"Score"}),t.jsx("div",{className:"actions-column",children:"Actions"})]}),a.map(v=>t.jsxs(Xe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`table-row ${(j==null?void 0:j.id)===v.id?"winner-row":""}`,children:[t.jsx("div",{className:"provider-column",children:t.jsxs("div",{className:"provider-info",children:[t.jsxs("div",{className:"provider-avatar",children:[t.jsx("span",{children:v.image}),v.verified&&t.jsx(ui,{className:"verified-badge",size:12})]}),t.jsxs("div",{className:"provider-details",children:[t.jsx("h4",{children:v.name}),t.jsx("p",{children:v.category}),t.jsxs("div",{className:"provider-badges",children:[v.featured&&t.jsx("span",{className:"badge featured",children:"Featured"}),v.trending&&t.jsx("span",{className:"badge trending",children:"Trending"})]})]})]})}),t.jsx("div",{className:"rating-column",children:t.jsxs("div",{className:"rating-display",children:[t.jsx(un,{size:14,fill:"#fbbf24",color:"#fbbf24"}),t.jsx("span",{children:v.rating}),t.jsxs("small",{children:["(",v.reviews,")"]})]})}),t.jsx("div",{className:"price-column",children:t.jsx("span",{className:"price",children:v.price})}),t.jsx("div",{className:"response-column",children:t.jsxs("div",{className:"response-rate",children:[t.jsxs("span",{children:[v.responseRate,"%"]}),t.jsx("small",{children:v.averageResponseTime})]})}),t.jsx("div",{className:"experience-column",children:t.jsx("span",{children:v.experience})}),t.jsx("div",{className:"features-column",children:t.jsxs("div",{className:"feature-list",children:[v.onlineBooking&&t.jsx(ba,{size:12}),v.videoConsultation&&t.jsx(nn,{size:12}),v.freeEstimate&&t.jsx(Sd,{size:12}),v.warranty&&t.jsx(kd,{size:12}),v.emergency&&t.jsx(hN,{size:12})]})}),t.jsx("div",{className:"score-column",children:t.jsxs("div",{className:"score-display",children:[t.jsx("span",{className:"score",children:m(v)}),t.jsx("div",{className:"score-bar",children:t.jsx("div",{className:"score-fill",style:{width:`${m(v)}%`}})})]})}),t.jsx("div",{className:"actions-column",children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{onClick:()=>g(v,"call"),children:t.jsx(as,{size:14})}),t.jsx("button",{onClick:()=>g(v,"email"),children:t.jsx(ol,{size:14})}),t.jsx("button",{onClick:()=>g(v,"book"),children:t.jsx(ba,{size:14})})]})})]},v.id))]}):t.jsx("div",{className:"comparison-cards",children:a.map(v=>t.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`comparison-card ${(j==null?void 0:j.id)===v.id?"winner-card":""}`,children:[(j==null?void 0:j.id)===v.id&&t.jsxs("div",{className:"winner-badge",children:[t.jsx(Jf,{size:16}),"Best Match"]}),t.jsxs("div",{className:"card-header",children:[t.jsxs("div",{className:"provider-avatar-large",children:[t.jsx("span",{children:v.image}),v.verified&&t.jsx(ui,{className:"verified-badge",size:16})]}),t.jsxs("div",{className:"provider-info",children:[t.jsx("h3",{children:v.name}),t.jsx("p",{children:v.category}),t.jsxs("div",{className:"rating",children:[t.jsx(un,{size:14,fill:"#fbbf24",color:"#fbbf24"}),t.jsx("span",{children:v.rating}),t.jsxs("small",{children:["(",v.reviews," reviews)"]})]})]})]}),t.jsxs("div",{className:"card-stats",children:[t.jsxs("div",{className:"stat",children:[t.jsx(Tn,{size:14}),t.jsx("span",{children:v.distance})]}),t.jsxs("div",{className:"stat",children:[t.jsx(Lr,{size:14}),t.jsx("span",{children:v.responseTime})]}),t.jsxs("div",{className:"stat",children:[t.jsx(fi,{size:14}),t.jsxs("span",{children:[v.completedJobs," jobs"]})]})]}),t.jsxs("div",{className:"card-features",children:[t.jsx("h4",{children:"Services"}),t.jsxs("div",{className:"feature-tags",children:[v.onlineBooking&&t.jsx("span",{className:"tag",children:"Online Booking"}),v.videoConsultation&&t.jsx("span",{className:"tag",children:"Video Call"}),v.freeEstimate&&t.jsx("span",{className:"tag",children:"Free Estimate"}),v.warranty&&t.jsx("span",{className:"tag",children:"Warranty"}),v.emergency&&t.jsx("span",{className:"tag emergency",children:"24/7"})]})]}),t.jsxs("div",{className:"card-specialties",children:[t.jsx("h4",{children:"Specialties"}),t.jsx("div",{className:"specialty-list",children:v.specialties.slice(0,3).map((b,N)=>t.jsx("span",{className:"specialty",children:b},N))})]}),t.jsxs("div",{className:"card-score",children:[t.jsxs("div",{className:"score-info",children:[t.jsx("span",{className:"score-label",children:"Match Score"}),t.jsxs("span",{className:"score-value",children:[m(v),"/100"]})]}),t.jsx("div",{className:"score-bar",children:t.jsx("div",{className:"score-fill",style:{width:`${m(v)}%`}})})]}),t.jsxs("div",{className:"card-actions",children:[t.jsx("button",{className:"primary-btn",onClick:()=>g(v,"book"),children:"Book Now"}),t.jsxs("div",{className:"secondary-actions",children:[t.jsx("button",{onClick:()=>g(v,"call"),children:t.jsx(as,{size:14})}),t.jsx("button",{onClick:()=>g(v,"email"),children:t.jsx(ol,{size:14})}),v.videoConsultation&&t.jsx("button",{onClick:()=>g(v,"video"),children:t.jsx(nn,{size:14})})]})]})]},v.id))})})]})})}const Jf=({size:s})=>t.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12 2C13.1 2 14 2.9 14 4V5H16C17.1 5 18 5.9 18 7V19C18 20.1 17.1 21 16 21H8C6.9 21 6 20.1 6 19V7C6 5.9 6.9 5 8 5H10V4C10 2.9 10.9 2 12 2ZM12 4C11.4 4 11 4.4 11 5V6H13V5C13 4.4 12.6 4 12 4ZM8 7V19H16V7H8Z",fill:"#fbbf24"}),t.jsx("path",{d:"M9 9H15V11H9V9ZM9 13H15V15H9V13Z",fill:"#fbbf24"})]}),pK=[{id:"1",name:"John Smith",category:"Plumbing",rating:4.9,reviews:342,verified:!0,available:!0,emergency:!0,experience:"15+ years",location:"Downtown District",distance:"2.3 km",price:"$80-120/hr",image:"",phone:"+1 234-567-8901",email:"john.smith@services.com",specialties:["Emergency Repairs","Pipe Installation","Drain Cleaning"],certifications:["Licensed Plumber","OSHA Certified"],responseTime:"15 mins",completedJobs:1250,languages:["English","Spanish"],about:"Professional plumber with over 15 years of experience.",workingHours:"Mon-Sat: 8AM-8PM",insurance:!0,backgroundCheck:!0,onlineBooking:!0,videoConsultation:!0,freeEstimate:!0,warranty:!0,lastActive:"2 mins ago",responseRate:98,acceptanceRate:95,cancellationRate:2,averageResponseTime:"15 mins",serviceAreas:["Downtown","Midtown","Uptown"],paymentMethods:["Credit Card","Cash","Bank Transfer"],website:"www.johnsmithplumbing.com",reviewsSummary:{recent:45,positive:310,neutral:25,negative:7},trending:!0,featured:!0,topRated:!0,quickResponder:!0,coordinates:{lat:40.758,lng:-73.9855},address:"123 Main St, New York, NY 10001",serviceRadius:15},{id:"2",name:"Sarah Johnson",category:"Electrical",rating:4.8,reviews:289,verified:!0,available:!0,emergency:!0,experience:"12+ years",location:"West Side",distance:"3.7 km",price:"$90-150/hr",image:"",phone:"+1 234-567-8902",email:"sarah.j@electrical.com",specialties:["Circuit Repair","Installation","Safety Inspection"],certifications:["Master Electrician","Safety Certified"],responseTime:"20 mins",completedJobs:980,languages:["English","French"],about:"Certified master electrician specializing in smart homes.",workingHours:"Mon-Fri: 7AM-7PM",insurance:!0,backgroundCheck:!0,onlineBooking:!0,videoConsultation:!1,freeEstimate:!0,warranty:!0,lastActive:"5 mins ago",responseRate:95,acceptanceRate:92,cancellationRate:3,averageResponseTime:"20 mins",serviceAreas:["West Side","North End"],paymentMethods:["Credit Card","Bank Transfer"],website:"www.sarahjohnsonelectrical.com",reviewsSummary:{recent:38,positive:265,neutral:18,negative:6},trending:!1,featured:!0,topRated:!0,quickResponder:!0,coordinates:{lat:40.7614,lng:-73.9776},address:"456 West 34th St, New York, NY 10001",serviceRadius:20},{id:"3",name:"Emily Davis",category:"Painting",rating:4.9,reviews:423,verified:!0,available:!0,emergency:!1,experience:"10+ years",location:"East End",distance:"4.2 km",price:"$35-60/hr",image:"",phone:"+1 234-567-8904",email:"emily.d@paint.com",specialties:["Interior Painting","Exterior Painting","Decorative Finishes"],certifications:["Licensed Painter","Color Specialist"],responseTime:"30 mins",completedJobs:890,languages:["English","Italian"],about:"Professional painter with expertise in color coordination.",workingHours:"Mon-Fri: 8AM-6PM",insurance:!0,backgroundCheck:!0,onlineBooking:!0,videoConsultation:!0,freeEstimate:!0,warranty:!0,lastActive:"30 mins ago",responseRate:96,acceptanceRate:94,cancellationRate:2,averageResponseTime:"30 mins",serviceAreas:["East End","Downtown"],paymentMethods:["Credit Card","Bank Transfer"],website:"www.emilydavispainting.com",reviewsSummary:{recent:58,positive:395,neutral:22,negative:6},trending:!0,featured:!0,topRated:!0,quickResponder:!0,coordinates:{lat:40.7489,lng:-73.968},address:"789 East 42nd St, New York, NY 10017",serviceRadius:12},{id:"4",name:"Mike Chen",category:"Cleaning",rating:4.7,reviews:156,verified:!0,available:!1,emergency:!1,experience:"8+ years",location:"North Area",distance:"5.1 km",price:"$25-40/hr",image:"",phone:"+1 234-567-8903",email:"mike.chen@clean.com",specialties:["Deep Cleaning","Office Cleaning","Eco-Friendly"],certifications:["Cleaning Professional","Green Certified"],responseTime:"1 hour",completedJobs:620,languages:["English","Mandarin"],about:"Professional cleaning service provider.",workingHours:"Mon-Sat: 9AM-6PM",insurance:!0,backgroundCheck:!0,onlineBooking:!0,videoConsultation:!1,freeEstimate:!0,warranty:!1,lastActive:"1 hour ago",responseRate:88,acceptanceRate:90,cancellationRate:5,averageResponseTime:"1 hour",serviceAreas:["North Area","East Side"],paymentMethods:["Credit Card","Cash","Digital Wallet"],reviewsSummary:{recent:22,positive:140,neutral:12,negative:4},trending:!1,featured:!1,topRated:!1,quickResponder:!1,coordinates:{lat:40.7831,lng:-73.9712},address:"321 Upper West Side, New York, NY 10023",serviceRadius:10}];function fK({providers:s=pK,onClose:e,initialCenter:n={lat:40.758,lng:-73.9855},initialZoom:i=13}){const r=Ct(),[a,o]=f.useState(null),[l,c]=f.useState(null),[d,h]=f.useState(n),[m,p]=f.useState(i),[g,x]=f.useState("standard"),[j,v]=f.useState(!0),[b,N]=f.useState(!1),[C,I]=f.useState(""),[D,$]=f.useState("all"),[E,k]=f.useState(!1),[_,T]=f.useState(null),[S,F]=f.useState(!1),[L,oe]=f.useState(null);f.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(W=>{T({lat:W.coords.latitude,lng:W.coords.longitude})},W=>{console.error("Error getting location:",W)})},[]);const A=f.useMemo(()=>s.filter(W=>{const xe=W.name.toLowerCase().includes(C.toLowerCase())||W.category.toLowerCase().includes(C.toLowerCase())||W.specialties.some(Fe=>Fe.toLowerCase().includes(C.toLowerCase())),Ce=D==="all"||W.category.toLowerCase()===D.toLowerCase();return xe&&Ce}),[s,C,D]),Z=(W,xe)=>{const Fe=(xe.lat-W.lat)*Math.PI/180,Me=(xe.lng-W.lng)*Math.PI/180,Ie=Math.sin(Fe/2)*Math.sin(Fe/2)+Math.cos(W.lat*Math.PI/180)*Math.cos(xe.lat*Math.PI/180)*Math.sin(Me/2)*Math.sin(Me/2);return 6371*(2*Math.atan2(Math.sqrt(Ie),Math.sqrt(1-Ie)))},Q=()=>A.filter(W=>Z(d,W.coordinates)<=50/m),q=(W,xe)=>{switch(xe){case"call":window.open(`tel:${W.phone}`);break;case"email":window.open(`mailto:${W.email}`);break;case"book":r(`/book/${W.category.toLowerCase()}?provider=${W.id}`);break;case"video":W.videoConsultation&&alert(`Video consultation requested with ${W.name}`);break;case"directions":oe(W),F(!0);break}},P=()=>{p(W=>Math.min(W+1,20))},G=()=>{p(W=>Math.max(W-1,1))},U=()=>{_&&(h(_),p(15))},re=[{id:"all",name:"All Services",icon:""},{id:"plumbing",name:"Plumbing",icon:""},{id:"electrical",name:"Electrical",icon:""},{id:"cleaning",name:"Cleaning",icon:""},{id:"painting",name:"Painting",icon:""}];return t.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"map-view-overlay",children:t.jsxs(Xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"map-container",children:[t.jsxs("div",{className:"map-header",children:[t.jsxs("div",{className:"header-left",children:[t.jsx("h2",{children:"Provider Map"}),t.jsxs("p",{children:[A.length," providers in your area"]})]}),t.jsxs("div",{className:"header-right",children:[t.jsxs("div",{className:"map-controls",children:[t.jsx("button",{className:"control-btn",onClick:P,children:t.jsx(cK,{size:16})}),t.jsx("button",{className:"control-btn",onClick:G,children:t.jsx(uK,{size:16})}),t.jsx("button",{className:"control-btn",onClick:U,children:t.jsx(Lc,{size:16})})]}),t.jsx("div",{className:"map-style-selector",children:t.jsxs("select",{value:g,onChange:W=>x(W.target.value),className:"style-select",children:[t.jsx("option",{value:"standard",children:"Standard"}),t.jsx("option",{value:"satellite",children:"Satellite"}),t.jsx("option",{value:"terrain",children:"Terrain"})]})}),t.jsxs("div",{className:"layer-controls",children:[t.jsxs("button",{className:`layer-btn ${j?"active":""}`,onClick:()=>v(!j),children:[t.jsx(KA,{size:16}),"Service Areas"]}),t.jsxs("button",{className:`layer-btn ${b?"active":""}`,onClick:()=>N(!b),children:[t.jsx(Tm,{size:16}),"Heatmap"]})]}),t.jsx("button",{className:"close-btn",onClick:e,children:t.jsx(hi,{size:20})})]})]}),t.jsxs("div",{className:"map-search-bar",children:[t.jsxs("div",{className:"search-container",children:[t.jsx(ll,{size:20,className:"search-icon"}),t.jsx("input",{type:"text",placeholder:"Search providers, services, or areas...",value:C,onChange:W=>I(W.target.value),className:"search-input"}),t.jsxs("button",{className:"filter-toggle",onClick:()=>k(!E),children:[t.jsx(DH,{size:16}),"Filters"]})]}),t.jsx(Gs,{children:E&&t.jsx(Xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"filter-panel",children:t.jsx("div",{className:"category-filters",children:re.map(W=>t.jsxs("button",{className:`category-filter ${D===W.id?"active":""}`,onClick:()=>$(W.id),children:[t.jsx("span",{children:W.icon}),W.name]},W.id))})})})]}),t.jsx("div",{className:"map-view",children:t.jsxs("div",{className:"map-surface",children:[t.jsx("div",{className:"map-grid"}),j&&A.map(W=>t.jsx("div",{className:"service-area",style:{left:`${50+(W.coordinates.lng-d.lng)*m*2}%`,top:`${50-(W.coordinates.lat-d.lat)*m*2}%`,width:`${W.serviceRadius*m*.5}%`,height:`${W.serviceRadius*m*.5}%`,transform:"translate(-50%, -50%)",opacity:l===W.id?.3:.15}},`area-${W.id}`)),Q().map(W=>t.jsxs(Xe.div,{className:`provider-marker ${W.available?"available":"busy"} ${l===W.id?"hovered":""}`,style:{left:`${50+(W.coordinates.lng-d.lng)*m*2}%`,top:`${50-(W.coordinates.lat-d.lat)*m*2}%`,transform:"translate(-50%, -50%)"},whileHover:{scale:1.2},onClick:()=>o(W),onHoverStart:()=>c(W.id),onHoverEnd:()=>c(null),children:[t.jsxs("div",{className:"marker-icon",children:[t.jsx("span",{children:W.image}),W.verified&&t.jsx(ui,{className:"verified-badge",size:12}),W.available&&t.jsx("div",{className:"availability-dot"})]}),t.jsx("div",{className:"marker-tooltip",children:t.jsxs("div",{className:"tooltip-content",children:[t.jsx("h4",{children:W.name}),t.jsx("p",{children:W.category}),t.jsxs("div",{className:"tooltip-rating",children:[t.jsx(un,{size:12,fill:"#fbbf24",color:"#fbbf24"}),t.jsx("span",{children:W.rating})]}),t.jsxs("p",{children:[W.distance," away"]})]})})]},W.id)),_&&t.jsxs("div",{className:"user-location",style:{left:`${50+(_.lng-d.lng)*m*2}%`,top:`${50-(_.lat-d.lat)*m*2}%`,transform:"translate(-50%, -50%)"},children:[t.jsx(Lc,{size:20}),t.jsx("div",{className:"location-pulse"})]}),S&&L&&t.jsx("svg",{className:"route-overlay",children:t.jsx("path",{d:`M ${50+((_==null?void 0:_.lng)||d.lng-d.lng)*m*2} ${50-((_==null?void 0:_.lat)||d.lat-d.lat)*m*2} L ${50+(L.coordinates.lng-d.lng)*m*2} ${50-(L.coordinates.lat-d.lat)*m*2}`,stroke:"#667eea",strokeWidth:"3",fill:"none",strokeDasharray:"5,5"})})]})}),t.jsxs("div",{className:"provider-sidebar",children:[t.jsxs("div",{className:"sidebar-header",children:[t.jsx("h3",{children:"Nearby Providers"}),t.jsxs("span",{className:"provider-count",children:[Q().length," in view"]})]}),t.jsx("div",{className:"provider-list",children:Q().map(W=>t.jsxs(Xe.div,{className:`provider-card ${(a==null?void 0:a.id)===W.id?"selected":""}`,onClick:()=>o(W),whileHover:{scale:1.02},children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("div",{className:"provider-avatar",children:[t.jsx("span",{children:W.image}),W.verified&&t.jsx(ui,{className:"verified-badge",size:12}),W.available&&t.jsx("div",{className:"availability-dot"})]}),t.jsxs("div",{className:"provider-info",children:[t.jsx("h4",{children:W.name}),t.jsx("p",{children:W.category}),t.jsxs("div",{className:"rating",children:[t.jsx(un,{size:12,fill:"#fbbf24",color:"#fbbf24"}),t.jsx("span",{children:W.rating}),t.jsxs("small",{children:["(",W.reviews,")"]})]})]}),t.jsxs("div",{className:"provider-distance",children:[t.jsx(Tn,{size:14}),t.jsx("span",{children:W.distance})]})]}),t.jsxs("div",{className:"card-stats",children:[t.jsxs("div",{className:"stat",children:[t.jsx(Lr,{size:12}),t.jsx("span",{children:W.responseTime})]}),t.jsxs("div",{className:"stat",children:[t.jsx(fi,{size:12}),t.jsxs("span",{children:[W.completedJobs," jobs"]})]}),t.jsxs("div",{className:"stat",children:[t.jsx(Tm,{size:12}),t.jsxs("span",{children:[W.responseRate,"%"]})]})]}),t.jsxs("div",{className:"card-actions",children:[t.jsxs("button",{onClick:xe=>{xe.stopPropagation(),q(W,"directions")},children:[t.jsx(ax,{size:14}),"Directions"]}),t.jsx("button",{onClick:xe=>{xe.stopPropagation(),q(W,"call")},children:t.jsx(as,{size:14})}),t.jsx("button",{onClick:xe=>{xe.stopPropagation(),q(W,"book")},children:t.jsx(ba,{size:14})})]})]},W.id))})]}),t.jsx(Gs,{children:a&&t.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"provider-detail-modal",onClick:()=>o(null),children:t.jsxs(Xe.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"modal-content",onClick:W=>W.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("div",{className:"provider-info",children:[t.jsxs("div",{className:"provider-avatar-large",children:[t.jsx("span",{children:a.image}),a.verified&&t.jsx(ui,{className:"verified-badge",size:16}),a.available&&t.jsx("div",{className:"availability-dot"})]}),t.jsxs("div",{children:[t.jsx("h3",{children:a.name}),t.jsx("p",{children:a.category}),t.jsxs("div",{className:"rating",children:[t.jsx(un,{size:14,fill:"#fbbf24",color:"#fbbf24"}),t.jsx("span",{children:a.rating}),t.jsxs("small",{children:["(",a.reviews," reviews)"]})]})]})]}),t.jsx("button",{className:"close-modal",onClick:()=>o(null),children:t.jsx(hi,{size:20})})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"provider-details",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h4",{children:"Contact & Location"}),t.jsxs("div",{className:"detail-item",children:[t.jsx(Tn,{size:14}),t.jsx("span",{children:a.address})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx(as,{size:14}),t.jsx("span",{children:a.phone})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx(ol,{size:14}),t.jsx("span",{children:a.email})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h4",{children:"Services"}),t.jsx("div",{className:"specialty-list",children:a.specialties.map((W,xe)=>t.jsx("span",{className:"specialty-tag",children:W},xe))})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h4",{children:"Features"}),t.jsxs("div",{className:"feature-list",children:[a.onlineBooking&&t.jsx("div",{className:"feature",children:"Online Booking"}),a.videoConsultation&&t.jsx("div",{className:"feature",children:"Video Consultation"}),a.freeEstimate&&t.jsx("div",{className:"feature",children:"Free Estimate"}),a.warranty&&t.jsx("div",{className:"feature",children:"Warranty"}),a.emergency&&t.jsx("div",{className:"feature emergency",children:"24/7 Emergency"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("div",{className:"price",children:a.price}),t.jsxs("div",{className:"action-buttons",children:[t.jsxs("button",{onClick:()=>q(a,"directions"),children:[t.jsx(ax,{size:16}),"Get Directions"]}),t.jsxs("button",{onClick:()=>q(a,"call"),children:[t.jsx(as,{size:16}),"Call"]}),a.videoConsultation&&t.jsxs("button",{onClick:()=>q(a,"video"),children:[t.jsx(nn,{size:16}),"Video Call"]}),t.jsx("button",{className:"primary-btn",onClick:()=>q(a,"book"),children:"Book Now"})]})]})]})})})]})})}const gK=[{id:"1",name:"John Smith",category:"Plumbing",rating:4.9,reviews:342,verified:!0,available:!0,emergency:!0,experience:"15+ years",location:"Downtown District",distance:"2.3 km",price:"$80-120/hr",image:"",phone:"+1 234-567-8901",email:"john.smith@services.com",specialties:["Emergency Repairs","Pipe Installation","Drain Cleaning"],certifications:["Licensed Plumber","OSHA Certified"],responseTime:"15 mins",completedJobs:1250,languages:["English","Spanish"],about:"Professional plumber with over 15 years of experience.",workingHours:"Mon-Sat: 8AM-8PM",insurance:!0,backgroundCheck:!0,onlineBooking:!0,videoConsultation:!0,freeEstimate:!0,warranty:!0,lastActive:"2 mins ago",responseRate:98,acceptanceRate:95,cancellationRate:2,averageResponseTime:"15 mins",premiumServices:["24/7 Emergency","Eco-Friendly Solutions"],equipment:["Pipe Inspection Camera","Hydro Jetting"],serviceAreas:["Downtown","Midtown","Uptown"],paymentMethods:["Credit Card","Cash","Bank Transfer"],website:"www.johnsmithplumbing.com",reviewsSummary:{recent:45,positive:310,neutral:25,negative:7},trending:!0,featured:!0,topRated:!0,quickResponder:!0},{id:"2",name:"Sarah Johnson",category:"Electrical",rating:4.8,reviews:289,verified:!0,available:!0,emergency:!0,experience:"12+ years",location:"West Side",distance:"3.7 km",price:"$90-150/hr",image:"",phone:"+1 234-567-8902",email:"sarah.j@electrical.com",specialties:["Circuit Repair","Installation","Safety Inspection"],certifications:["Master Electrician","Safety Certified"],responseTime:"20 mins",completedJobs:980,languages:["English","French"],about:"Certified master electrician specializing in smart homes.",workingHours:"Mon-Fri: 7AM-7PM",insurance:!0,backgroundCheck:!0,onlineBooking:!0,videoConsultation:!1,freeEstimate:!0,warranty:!0,lastActive:"5 mins ago",responseRate:95,acceptanceRate:92,cancellationRate:3,averageResponseTime:"20 mins",premiumServices:["Smart Home Installation","Solar Panel Setup"],equipment:["Multimeter","Circuit Testers"],serviceAreas:["West Side","North End"],paymentMethods:["Credit Card","Bank Transfer"],website:"www.sarahjohnsonelectrical.com",reviewsSummary:{recent:38,positive:265,neutral:18,negative:6},trending:!1,featured:!0,topRated:!0,quickResponder:!0},{id:"3",name:"Emily Davis",category:"Painting",rating:4.9,reviews:423,verified:!0,available:!0,emergency:!1,experience:"10+ years",location:"East End",distance:"4.2 km",price:"$35-60/hr",image:"",phone:"+1 234-567-8904",email:"emily.d@paint.com",specialties:["Interior Painting","Exterior Painting","Decorative Finishes"],certifications:["Licensed Painter","Color Specialist"],responseTime:"30 mins",completedJobs:890,languages:["English","Italian"],about:"Professional painter with expertise in color coordination.",workingHours:"Mon-Fri: 8AM-6PM",insurance:!0,backgroundCheck:!0,onlineBooking:!0,videoConsultation:!0,freeEstimate:!0,warranty:!0,lastActive:"30 mins ago",responseRate:96,acceptanceRate:94,cancellationRate:2,averageResponseTime:"30 mins",premiumServices:["Color Consultation","Faux Finishing"],equipment:["Professional Brushes","Spray Systems"],serviceAreas:["East End","Downtown"],paymentMethods:["Credit Card","Bank Transfer"],website:"www.emilydavispainting.com",reviewsSummary:{recent:58,positive:395,neutral:22,negative:6},trending:!0,featured:!0,topRated:!0,quickResponder:!0}];function vK(){Ct();const[s,e]=f.useState(""),[n,i]=f.useState({categories:[],priceRange:[0,200],rating:0,distance:10,verified:!1,available:!1,emergency:!1,onlineBooking:!1,videoConsultation:!1,freeEstimate:!1,warranty:!1,insurance:!1,backgroundCheck:!1,responseRate:0,responseTime:"any",acceptanceRate:0,cancellationRate:100,minExperience:0,maxExperience:30,completedJobs:0,serviceAreas:[],languages:[],paymentMethods:[],trending:!1,featured:!1,topRated:!1,quickResponder:!1,premiumServices:[]}),[r,a]=f.useState("grid"),[o,l]=f.useState(!1),[c,d]=f.useState([]),[h,m]=f.useState([]),[p,g]=f.useState(!1),[x,j]=f.useState(""),[v,b]=f.useState("basic"),[N,C]=f.useState(["basic"]),I=[{id:"plumbing",name:"Plumbing",icon:""},{id:"electrical",name:"Electrical",icon:""},{id:"cleaning",name:"Cleaning",icon:""},{id:"painting",name:"Painting",icon:""},{id:"carpentry",name:"Carpentry",icon:""},{id:"hvac",name:"HVAC",icon:""},{id:"landscaping",name:"Landscaping",icon:""},{id:"moving",name:"Moving",icon:""}],D=["Downtown","Midtown","Uptown","West Side","East End","North End","South Bay","Central District","Waterfront","Suburbs"],$=["English","Spanish","French","German","Italian","Portuguese","Chinese","Japanese","Korean","Arabic"],E=["Credit Card","Debit Card","Cash","Bank Transfer","Digital Wallet","PayPal","Venmo","Zelle","Cryptocurrency"],k=["24/7 Emergency","Eco-Friendly","Smart Home","Commercial","Industrial","High-Rise","Historic Buildings","Luxury"],_=f.useMemo(()=>gK.filter(A=>{const Z=!s||A.name.toLowerCase().includes(s.toLowerCase())||A.category.toLowerCase().includes(s.toLowerCase())||A.specialties.some(ce=>ce.toLowerCase().includes(s.toLowerCase())),Q=n.categories.length===0||n.categories.includes(A.category.toLowerCase()),q=parseInt(A.price.split("-")[0].replace("$","")),P=parseInt(A.price.split("-")[1].replace("$","").replace("/hr","")),G=q>=n.priceRange[0]&&P<=n.priceRange[1],U=A.rating>=n.rating,re=parseFloat(A.distance)<=n.distance,W=!n.verified||A.verified,xe=!n.available||A.available,Ce=!n.emergency||A.emergency,Fe=!n.onlineBooking||A.onlineBooking,Me=!n.videoConsultation||A.videoConsultation,Ie=!n.freeEstimate||A.freeEstimate,Ze=!n.warranty||A.warranty,we=!n.insurance||A.insurance,Le=!n.backgroundCheck||A.backgroundCheck,bt=A.responseRate>=n.responseRate,wt=A.acceptanceRate>=n.acceptanceRate,Et=A.cancellationRate<=n.cancellationRate,gt=parseInt(A.experience.replace("+ years","").replace(" years","")),ge=gt>=n.minExperience&&gt<=n.maxExperience,J=A.completedJobs>=n.completedJobs,Ee=n.serviceAreas.length===0||n.serviceAreas.some(ce=>A.serviceAreas.includes(ce)),$e=n.languages.length===0||n.languages.some(ce=>A.languages.includes(ce)),vt=n.paymentMethods.length===0||n.paymentMethods.some(ce=>A.paymentMethods.includes(ce)),xt=!n.trending||A.trending,At=!n.featured||A.featured,K=!n.topRated||A.topRated,O=!n.quickResponder||A.quickResponder,se=n.premiumServices.length===0||n.premiumServices.some(ce=>A.premiumServices.some(ke=>ke.toLowerCase().includes(ce.toLowerCase())));return Z&&Q&&G&&U&&re&&W&&xe&&Ce&&Fe&&Me&&Ie&&Ze&&we&&Le&&bt&&wt&&Et&&ge&&J&&Ee&&$e&&vt&&xt&&At&&K&&O&&se}),[s,n]),T=f.useCallback(()=>{const A={query:s||"All Providers",timestamp:new Date().toISOString(),resultCount:_.length};m(Z=>[A,...Z.slice(0,9)])},[s,_]),S=f.useCallback(()=>{if(!x.trim())return;const A={id:Date.now().toString(),name:x,filters:{...n},createdAt:new Date().toISOString(),lastUsed:new Date().toISOString(),resultCount:_.length};d(Z=>[...Z,A]),g(!1),j("")},[x,n,_]);f.useCallback(A=>{i(A.filters),e("")},[]);const F=f.useCallback(()=>{i({categories:[],priceRange:[0,200],rating:0,distance:10,verified:!1,available:!1,emergency:!1,onlineBooking:!1,videoConsultation:!1,freeEstimate:!1,warranty:!1,insurance:!1,backgroundCheck:!1,responseRate:0,responseTime:"any",acceptanceRate:0,cancellationRate:100,minExperience:0,maxExperience:30,completedJobs:0,serviceAreas:[],languages:[],paymentMethods:[],trending:!1,featured:!1,topRated:!1,quickResponder:!1,premiumServices:[]}),e("")},[]);f.useCallback(A=>{C(Z=>Z.includes(A)?Z.filter(Q=>Q!==A):[...Z,A])},[]);const L=f.useCallback(A=>{i(Z=>({...Z,categories:Z.categories.includes(A)?Z.categories.filter(Q=>Q!==A):[...Z.categories,A]}))},[]),oe=f.useCallback((A,Z)=>{i(Q=>({...Q,[A]:Q[A].includes(Z)?Q[A].filter(q=>q!==Z):[...Q[A],Z]}))},[]);return t.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"advanced-search-container",children:[t.jsxs("div",{className:"search-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h1",{children:"Advanced Search"}),t.jsx("p",{children:"Find the perfect provider with detailed filters"})]}),t.jsxs("div",{className:"header-actions",children:[t.jsxs("button",{className:`advanced-toggle ${o?"active":""}`,onClick:()=>l(!o),children:[t.jsx(VG,{size:16}),o?"Simple":"Advanced"]}),t.jsxs("button",{className:"save-search-btn",onClick:()=>g(!0),children:[t.jsx(CG,{size:16}),"Save Search"]})]})]}),t.jsxs("div",{className:"search-bar",children:[t.jsxs("div",{className:"search-input-container",children:[t.jsx(ll,{size:20,className:"search-icon"}),t.jsx("input",{type:"text",placeholder:"Search providers, services, or specialties...",value:s,onChange:A=>e(A.target.value),className:"search-input"}),t.jsx("button",{className:"search-btn",onClick:T,children:"Search"})]}),t.jsxs("div",{className:"quick-actions",children:[t.jsxs("button",{className:"quick-action-btn",onClick:F,children:[t.jsx(jG,{size:14}),"Reset"]}),t.jsxs("button",{className:"quick-action-btn",children:[t.jsx(BH,{size:14}),"History"]}),t.jsxs("button",{className:"quick-action-btn",children:[t.jsx(rH,{size:14}),"Saved"]})]})]}),t.jsxs("div",{className:"results-summary",children:[t.jsxs("div",{className:"summary-left",children:[t.jsxs("h2",{children:[_.length," Providers Found"]}),t.jsx("p",{children:"Matching your criteria"})]}),t.jsx("div",{className:"summary-right",children:t.jsxs("div",{className:"view-toggle",children:[t.jsx("button",{className:`view-btn ${r==="grid"?"active":""}`,onClick:()=>a("grid"),children:t.jsx(Am,{size:16})}),t.jsx("button",{className:`view-btn ${r==="list"?"active":""}`,onClick:()=>a("list"),children:t.jsx(QA,{size:16})})]})})]}),t.jsxs("div",{className:"search-content",children:[t.jsxs("div",{className:"filters-panel",children:[t.jsx("div",{className:"filter-tabs",children:["basic","advanced","location","features"].map(A=>t.jsx("button",{className:`tab-btn ${v===A?"active":""}`,onClick:()=>b(A),children:A.charAt(0).toUpperCase()+A.slice(1)},A))}),t.jsxs("div",{className:"tab-content",children:[v==="basic"&&t.jsxs("div",{className:"filter-section",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("h4",{children:"Categories"}),t.jsx("div",{className:"category-grid",children:I.map(A=>t.jsxs("button",{className:`category-chip ${n.categories.includes(A.id)?"active":""}`,onClick:()=>L(A.id),children:[t.jsx("span",{children:A.icon}),A.name]},A.id))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("h4",{children:"Price Range"}),t.jsxs("div",{className:"range-slider",children:[t.jsxs("div",{className:"range-inputs",children:[t.jsx("input",{type:"number",value:n.priceRange[0],onChange:A=>i(Z=>({...Z,priceRange:[parseInt(A.target.value)||0,Z.priceRange[1]]})),placeholder:"Min"}),t.jsx("span",{children:"-"}),t.jsx("input",{type:"number",value:n.priceRange[1],onChange:A=>i(Z=>({...Z,priceRange:[Z.priceRange[0],parseInt(A.target.value)||200]})),placeholder:"Max"})]}),t.jsx("div",{className:"range-track",children:t.jsx("div",{className:"range-fill",style:{left:`${n.priceRange[0]/200*100}%`,width:`${(n.priceRange[1]-n.priceRange[0])/200*100}%`}})})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("h4",{children:"Minimum Rating"}),t.jsxs("div",{className:"rating-selector",children:[[1,2,3,4,5].map(A=>t.jsx("button",{className:`rating-star ${A<=n.rating?"active":""}`,onClick:()=>i(Z=>({...Z,rating:A})),children:t.jsx(un,{size:20,fill:A<=n.rating?"#fbbf24":"none",color:"#fbbf24"})},A)),t.jsx("span",{children:n.rating>0&&`${n.rating}+ stars`})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("h4",{children:"Distance"}),t.jsxs("div",{className:"distance-slider",children:[t.jsx("input",{type:"range",min:"1",max:"50",value:n.distance,onChange:A=>i(Z=>({...Z,distance:parseInt(A.target.value)}))}),t.jsxs("span",{children:[n.distance," km"]})]})]})]}),v==="advanced"&&t.jsxs("div",{className:"filter-section",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("h4",{children:"Provider Quality"}),t.jsx("div",{className:"checkbox-grid",children:[{key:"verified",label:"Verified Providers",icon:ui},{key:"available",label:"Available Now",icon:lx},{key:"emergency",label:"Emergency Service",icon:hN},{key:"featured",label:"Featured",icon:un},{key:"trending",label:"Trending",icon:KG},{key:"topRated",label:"Top Rated",icon:Em}].map(({key:A,label:Z,icon:Q})=>t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:n[A],onChange:q=>i(P=>({...P,[A]:q.target.checked}))}),t.jsx(Q,{size:16}),t.jsx("span",{children:Z})]},A))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("h4",{children:"Service Features"}),t.jsx("div",{className:"checkbox-grid",children:[{key:"onlineBooking",label:"Online Booking",icon:ba},{key:"videoConsultation",label:"Video Consultation",icon:nn},{key:"freeEstimate",label:"Free Estimate",icon:Sd},{key:"warranty",label:"Warranty",icon:kd},{key:"insurance",label:"Insurance",icon:kd},{key:"backgroundCheck",label:"Background Check",icon:ui}].map(({key:A,label:Z,icon:Q})=>t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:n[A],onChange:q=>i(P=>({...P,[A]:q.target.checked}))}),t.jsx(Q,{size:16}),t.jsx("span",{children:Z})]},A))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("h4",{children:"Response Metrics"}),t.jsxs("div",{className:"metric-inputs",children:[t.jsxs("div",{className:"metric-input",children:[t.jsxs("label",{children:["Response Rate: ",n.responseRate,"%+"]}),t.jsx("input",{type:"range",min:"0",max:"100",value:n.responseRate,onChange:A=>i(Z=>({...Z,responseRate:parseInt(A.target.value)}))})]}),t.jsxs("div",{className:"metric-input",children:[t.jsxs("label",{children:["Acceptance Rate: ",n.acceptanceRate,"%+"]}),t.jsx("input",{type:"range",min:"0",max:"100",value:n.acceptanceRate,onChange:A=>i(Z=>({...Z,acceptanceRate:parseInt(A.target.value)}))})]}),t.jsxs("div",{className:"metric-input",children:[t.jsxs("label",{children:["Cancellation Rate: ",n.cancellationRate,"%-"]}),t.jsx("input",{type:"range",min:"0",max:"100",value:n.cancellationRate,onChange:A=>i(Z=>({...Z,cancellationRate:parseInt(A.target.value)}))})]})]})]})]}),v==="location"&&t.jsxs("div",{className:"filter-section",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("h4",{children:"Service Areas"}),t.jsx("div",{className:"area-grid",children:D.map(A=>t.jsx("button",{className:`area-chip ${n.serviceAreas.includes(A)?"active":""}`,onClick:()=>oe("serviceAreas",A),children:A},A))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("h4",{children:"Languages"}),t.jsx("div",{className:"language-grid",children:$.map(A=>t.jsxs("button",{className:`language-chip ${n.languages.includes(A)?"active":""}`,onClick:()=>oe("languages",A),children:[t.jsx(GA,{size:14}),A]},A))})]})]}),v==="features"&&t.jsxs("div",{className:"filter-section",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("h4",{children:"Premium Services"}),t.jsx("div",{className:"premium-grid",children:k.map(A=>t.jsxs("button",{className:`premium-chip ${n.premiumServices.includes(A)?"active":""}`,onClick:()=>oe("premiumServices",A),children:[t.jsx(Em,{size:14}),A]},A))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("h4",{children:"Payment Methods"}),t.jsx("div",{className:"payment-grid",children:E.map(A=>t.jsxs("button",{className:`payment-chip ${n.paymentMethods.includes(A)?"active":""}`,onClick:()=>oe("paymentMethods",A),children:[t.jsx(Sd,{size:14}),A]},A))})]})]})]})]}),t.jsx("div",{className:"results-panel",children:_.length===0?t.jsxs("div",{className:"no-results",children:[t.jsx("div",{className:"no-results-icon",children:""}),t.jsx("h3",{children:"No providers found"}),t.jsx("p",{children:"Try adjusting your filters or search terms"}),t.jsx("button",{className:"reset-btn",onClick:F,children:"Reset All Filters"})]}):t.jsx("div",{className:`provider-results ${r}`,children:_.map(A=>t.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"provider-result-card",children:[t.jsxs("div",{className:"provider-header",children:[t.jsxs("div",{className:"provider-avatar",children:[t.jsx("span",{children:A.image}),A.verified&&t.jsx(ui,{className:"verified-badge",size:12}),A.available&&t.jsx("div",{className:"availability-dot"})]}),t.jsxs("div",{className:"provider-info",children:[t.jsx("h3",{children:A.name}),t.jsx("p",{children:A.category}),t.jsxs("div",{className:"rating",children:[t.jsx(un,{size:14,fill:"#fbbf24",color:"#fbbf24"}),t.jsx("span",{children:A.rating}),t.jsxs("small",{children:["(",A.reviews,")"]})]})]}),t.jsx("div",{className:"provider-price",children:t.jsx("span",{children:A.price})})]}),t.jsxs("div",{className:"provider-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx(Tn,{size:14}),t.jsxs("span",{children:[A.distance,"  ",A.location]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx(Lr,{size:14}),t.jsxs("span",{children:[A.responseTime," response"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx(fi,{size:14}),t.jsxs("span",{children:[A.completedJobs," jobs"]})]})]}),t.jsxs("div",{className:"provider-features",children:[A.onlineBooking&&t.jsx("span",{className:"feature",children:"Online Booking"}),A.videoConsultation&&t.jsx("span",{className:"feature",children:"Video Call"}),A.freeEstimate&&t.jsx("span",{className:"feature",children:"Free Estimate"}),A.emergency&&t.jsx("span",{className:"feature emergency",children:"24/7"})]}),t.jsxs("div",{className:"provider-actions",children:[t.jsx("button",{className:"action-btn primary",children:"View Details"}),t.jsx("button",{className:"action-btn secondary",children:t.jsx(as,{size:14})}),t.jsx("button",{className:"action-btn secondary",children:t.jsx(ol,{size:14})})]})]},A.id))})})]}),t.jsx(Gs,{children:p&&t.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"dialog-overlay",onClick:()=>g(!1),children:t.jsxs(Xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"dialog-content",onClick:A=>A.stopPropagation(),children:[t.jsx("h3",{children:"Save Search"}),t.jsx("input",{type:"text",placeholder:"Enter search name...",value:x,onChange:A=>j(A.target.value),className:"dialog-input"}),t.jsxs("div",{className:"dialog-actions",children:[t.jsx("button",{className:"cancel-btn",onClick:()=>g(!1),children:"Cancel"}),t.jsx("button",{className:"save-btn",onClick:S,disabled:!x.trim(),children:"Save Search"})]})]})})})]})}const Si=[{id:"1",name:"John Smith",category:"Plumbing",rating:4.9,reviews:342,verified:!0,available:!0,emergency:!0,experience:"15+ years",location:"Downtown District",distance:"2.3 km",price:"$80-120/hr",image:"",phone:"+1 234-567-8901",email:"john.smith@services.com",specialties:["Emergency Repairs","Pipe Installation","Drain Cleaning"],certifications:["Licensed Plumber","OSHA Certified","Green Plumbing"],responseTime:"15 mins",completedJobs:1250,languages:["English","Spanish"],about:"Professional plumber with over 15 years of experience in residential and commercial plumbing. Specialized in emergency repairs and eco-friendly solutions.",workingHours:"Mon-Sat: 8AM-8PM, Sun: 10AM-6PM",insurance:!0,backgroundCheck:!0,portfolio:["plumbing1.jpg","plumbing2.jpg"],badges:["Top Rated","Quick Response","Verified"],availability:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!0,sunday:!1},onlineBooking:!0,videoConsultation:!0,freeEstimate:!0,warranty:!0,lastActive:"2 mins ago",responseRate:98,acceptanceRate:95,cancellationRate:2,averageResponseTime:"15 mins",premiumServices:["24/7 Emergency","Eco-Friendly Solutions","Commercial Plumbing"],equipment:["Pipe Inspection Camera","Hydro Jetting","Leak Detection Tools"],serviceAreas:["Downtown","Midtown","Uptown","Westside"],paymentMethods:["Credit Card","Cash","Bank Transfer","Digital Wallet"],website:"www.johnsmithplumbing.com",socialMedia:{facebook:"johnsmithplumbing",instagram:"@johnsmith_plumbing"},reviewsSummary:{recent:45,positive:310,neutral:25,negative:7},trending:!0,featured:!0,topRated:!0,quickResponder:!0,coordinates:{lat:40.758,lng:-73.9855},address:"123 Main St, New York, NY 10001",serviceRadius:15},{id:"2",name:"Sarah Johnson",category:"Electrical",rating:4.8,reviews:289,verified:!0,available:!0,emergency:!0,experience:"12+ years",location:"West Side",distance:"3.7 km",price:"$90-150/hr",image:"",phone:"+1 234-567-8902",email:"sarah.j@electrical.com",specialties:["Circuit Repair","Installation","Safety Inspection"],certifications:["Master Electrician","Safety Certified","Solar Panel Expert"],responseTime:"20 mins",completedJobs:980,languages:["English","French"],about:"Certified master electrician specializing in both residential and commercial projects. Expert in modern smart home installations.",workingHours:"Mon-Fri: 7AM-7PM, Sat: 9AM-5PM",insurance:!0,backgroundCheck:!0,portfolio:["electrical1.jpg","electrical2.jpg"],badges:["Expert","Insured","Background Checked"],availability:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1},onlineBooking:!0,videoConsultation:!1,freeEstimate:!0,warranty:!0,lastActive:"5 mins ago",responseRate:95,acceptanceRate:92,cancellationRate:3,averageResponseTime:"20 mins",premiumServices:["Smart Home Installation","Solar Panel Setup","Commercial Electrical"],equipment:["Multimeter","Circuit Testers","Wire Strippers","Safety Gear"],serviceAreas:["West Side","North End","Central District"],paymentMethods:["Credit Card","Bank Transfer","Financing Available"],website:"www.sarahjohnsonelectrical.com",socialMedia:{linkedin:"sarah-johnson-electrical"},reviewsSummary:{recent:38,positive:265,neutral:18,negative:6},trending:!1,featured:!0,topRated:!0,quickResponder:!0,coordinates:{lat:40.7614,lng:-73.9776},address:"456 West 34th St, New York, NY 10001",serviceRadius:20},{id:"3",name:"Mike Chen",category:"Cleaning",rating:4.7,reviews:156,verified:!0,available:!1,emergency:!1,experience:"8+ years",location:"North Area",distance:"5.1 km",price:"$25-40/hr",image:"",phone:"+1 234-567-8903",email:"mike.chen@clean.com",specialties:["Deep Cleaning","Office Cleaning","Eco-Friendly"],certifications:["Cleaning Professional","Green Certified","COVID-19 Trained"],responseTime:"1 hour",completedJobs:620,languages:["English","Mandarin"],about:"Professional cleaning service provider with expertise in both residential and commercial spaces. Uses eco-friendly products.",workingHours:"Mon-Sat: 9AM-6PM",insurance:!0,backgroundCheck:!0,portfolio:["cleaning1.jpg","cleaning2.jpg"],badges:["Eco Friendly","Trusted","Professional"],availability:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!0,sunday:!1},onlineBooking:!0,videoConsultation:!1,freeEstimate:!0,warranty:!1,lastActive:"1 hour ago",responseRate:88,acceptanceRate:90,cancellationRate:5,averageResponseTime:"1 hour",premiumServices:["Post-Construction Cleaning","COVID-19 Sanitization","Green Cleaning"],equipment:["HEPA Vacuums","Steam Cleaners","Eco-Friendly Supplies"],serviceAreas:["North Area","East Side","Central"],paymentMethods:["Credit Card","Cash","Digital Wallet"],reviewsSummary:{recent:22,positive:140,neutral:12,negative:4},trending:!1,featured:!1,topRated:!1,quickResponder:!1,coordinates:{lat:40.7614,lng:-73.9776},address:"456 West 34th St, New York, NY 10001",serviceRadius:20},{id:"4",name:"Emily Davis",category:"Painting",rating:4.9,reviews:423,verified:!0,available:!0,emergency:!1,experience:"10+ years",location:"East End",distance:"4.2 km",price:"$35-60/hr",image:"",phone:"+1 234-567-8904",email:"emily.d@paint.com",specialties:["Interior Painting","Exterior Painting","Decorative Finishes"],certifications:["Licensed Painter","Color Specialist"],responseTime:"30 mins",completedJobs:890,languages:["English","Italian"],about:"Professional painter with expertise in color coordination.",workingHours:"Mon-Fri: 8AM-6PM",insurance:!0,backgroundCheck:!0,portfolio:["interior-project.jpg","exterior-finish.jpg"],badges:["Color Expert","Eco-Friendly"],availability:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!0,sunday:!1},onlineBooking:!0,videoConsultation:!0,freeEstimate:!0,warranty:!0,lastActive:"30 mins ago",responseRate:96,acceptanceRate:94,cancellationRate:2,averageResponseTime:"30 mins",premiumServices:["Color Consultation","Faux Finishing"],equipment:["Professional Brushes","Spray Systems","Color Matching Tools"],serviceAreas:["East End","Downtown","Waterfront"],paymentMethods:["Credit Card","Bank Transfer","Payment Plans"],website:"www.emilydavispainting.com",socialMedia:{instagram:"@emily_davis_painting",facebook:"emilydavispainting"},reviewsSummary:{recent:58,positive:395,neutral:22,negative:6},trending:!0,featured:!0,topRated:!0,quickResponder:!0,coordinates:{lat:40.7489,lng:-73.968},address:"789 East 42nd St, New York, NY 10017",serviceRadius:12}],xK=[{id:"all",name:"All Services",icon:"",color:"#6b7280"},{id:"plumbing",name:"Plumbing",icon:"",color:"#3b82f6"},{id:"electrical",name:"Electrical",icon:"",color:"#f59e0b"},{id:"cleaning",name:"Cleaning",icon:"",color:"#10b981"},{id:"painting",name:"Painting",icon:"",color:"#8b5cf6"},{id:"carpentry",name:"Carpentry",icon:"",color:"#ef4444"},{id:"hvac",name:"HVAC",icon:"",color:"#06b6d4"},{id:"pest",name:"Pest Control",icon:"",color:"#84cc16"}],yK=[{id:"rating",name:"Highest Rated",icon:un},{id:"distance",name:"Nearest",icon:Tn},{id:"price-low",name:"Price Low to High",icon:eH},{id:"price-high",name:"Price High to Low",icon:JW},{id:"experience",name:"Most Experienced",icon:Em},{id:"reviews",name:"Most Reviews",icon:wa}];function jK(){const[s]=ay(),e=Ct(),[n,i]=f.useState(s.get("search")||""),[r,a]=f.useState("all"),[o,l]=f.useState("rating"),[c,d]=f.useState("grid"),[h,m]=f.useState(!1),[p,g]=f.useState(null),[x,j]=f.useState(!1),[v,b]=f.useState(!1),[N,C]=f.useState([]),[I,D]=f.useState(!1),[$,E]=f.useState(""),[k,_]=f.useState(!1),[T,S]=f.useState(!1),[F,L]=f.useState(null),[oe,A]=f.useState(!1),[Z,Q]=f.useState([]),[q,P]=f.useState(!1),[G,U]=f.useState([]),[re,W]=f.useState(!1),[xe,Ce]=f.useState([]),[Fe,Me]=f.useState(!1),[Ie,Ze]=f.useState({total:0,online:0,new:0}),[we,Le]=f.useState("main"),[bt,wt]=f.useState(!0),[Et,gt]=f.useState(new Date),[ge,J]=f.useState({verifiedOnly:!1,availableOnly:!1,emergencyOnly:!1,onlineBookingOnly:!1,videoConsultationOnly:!1,freeEstimateOnly:!1,warrantyOnly:!1,priceRange:[0,200],minRating:0,distance:10,responseRate:0,languages:[],serviceAreas:[],paymentMethods:[]}),[Ee,$e]=f.useState([]),vt=f.useCallback(V=>{if(!V)return[];const ee=Si,de=new Set;return ee.forEach(We=>{We.name.toLowerCase().includes(V.toLowerCase())&&de.add(We.name),We.specialties.forEach(jt=>{jt.toLowerCase().includes(V.toLowerCase())&&de.add(jt)}),We.category.toLowerCase().includes(V.toLowerCase())&&de.add(We.category),We.serviceAreas.forEach(jt=>{jt.toLowerCase().includes(V.toLowerCase())&&de.add(jt)})}),Array.from(de).slice(0,5)},[]);f.useEffect(()=>{if(n.length>2){const V=vt(n);Q(V),P(V.length>0)}else P(!1),Q([])},[n,vt]),f.useEffect(()=>{if(!bt)return;const V=setInterval(()=>{gt(new Date);const ee=Si[Math.floor(Math.random()*Si.length)];Math.random()>.8&&Ce(de=>[...de,`${ee.name} is now ${ee.available?"available":"busy"}`].slice(-3))},3e4);return()=>clearInterval(V)},[bt]),f.useEffect(()=>{const V=Si.filter(de=>de.available).length,ee=Math.floor(Si.length*.2);Ze({total:Si.length,online:V,new:ee})},[]),f.useCallback(()=>{const V=new URLSearchParams;n&&V.set("search",n),r!=="all"&&V.set("category",r),o!=="rating"&&V.set("sort",o);const ee=`${window.location.origin}${window.location.pathname}?${V.toString()}`;E(ee),D(!0)},[n,r,o]),f.useCallback(async()=>{try{await navigator.clipboard.writeText($),_(!0),setTimeout(()=>_(!1),2e3)}catch(V){console.error("Failed to copy link:",V)}},[$]),f.useCallback(()=>{n.trim()&&U(V=>[...new Set([n,...V])].slice(0,5))},[n]),f.useEffect(()=>{const V=localStorage.getItem("savedSearches");V&&U(JSON.parse(V));const ee=localStorage.getItem("savedProviders");ee&&$e(JSON.parse(ee))},[]),f.useEffect(()=>{G.length>0&&localStorage.setItem("savedSearches",JSON.stringify(G))},[G]),f.useEffect(()=>{Ee.length>0&&localStorage.setItem("savedProviders",JSON.stringify(Ee))},[Ee]);const xt=f.useMemo(()=>Si.filter(ee=>{const de=ee.name.toLowerCase().includes(n.toLowerCase())||ee.category.toLowerCase().includes(n.toLowerCase())||ee.specialties.some(Be=>Be.toLowerCase().includes(n.toLowerCase()))||ee.serviceAreas.some(Be=>Be.toLowerCase().includes(n.toLowerCase())),We=r==="all"||ee.category.toLowerCase()===r.toLowerCase(),jt=!ge.verifiedOnly||ee.verified,B=!ge.availableOnly||ee.available,z=!ge.emergencyOnly||ee.emergency,ye=!ge.onlineBookingOnly||ee.onlineBooking,pe=!ge.videoConsultationOnly||ee.videoConsultation,it=!ge.freeEstimateOnly||ee.freeEstimate,ie=!ge.warrantyOnly||ee.warranty,st=ee.price.includes("$")&&parseInt(ee.price.split("-")[0].replace("$",""))>=ge.priceRange[0]&&parseInt(ee.price.split("-")[1].replace("$","").replace("/hr",""))<=ge.priceRange[1],Rt=ee.rating>=ge.minRating,_e=parseFloat(ee.distance)<=ge.distance,rt=ee.responseRate>=ge.responseRate,Ue=ge.languages.length===0||ge.languages.some(Be=>ee.languages.includes(Be)),ne=ge.serviceAreas.length===0||ge.serviceAreas.some(Be=>ee.serviceAreas.includes(Be)),je=ge.paymentMethods.length===0||ge.paymentMethods.some(Be=>ee.paymentMethods.includes(Be));return de&&We&&jt&&B&&z&&ye&&pe&&it&&ie&&st&&Rt&&_e&&rt&&Ue&&ne&&je}).sort((ee,de)=>{switch(o){case"rating":return de.rating-ee.rating;case"distance":return parseFloat(ee.distance)-parseFloat(de.distance);case"price-low":return parseInt(ee.price.split("-")[0].replace("$",""))-parseInt(de.price.split("-")[0].replace("$",""));case"price-high":return parseInt(de.price.split("-")[1].replace("$","").replace("/hr",""))-parseInt(ee.price.split("-")[1].replace("$","").replace("/hr",""));case"experience":return parseInt(de.experience.split("+")[0])-parseInt(ee.experience.split("+")[0]);case"reviews":return de.reviews-ee.reviews;default:return 0}}),[n,r,o,ge]),At=V=>{g(V),j(!0)},K=V=>{$e(ee=>ee.includes(V)?ee.filter(de=>de!==V):[...ee,V])},O=V=>{C(ee=>ee.includes(V)?ee.filter(de=>de!==V):ee.length<3?[...ee,V]:(Ce(de=>[...de,"Maximum 3 providers can be compared"].slice(-3)),ee))},se=(V,ee)=>{switch(ee){case"call":window.open(`tel:${V.phone}`);break;case"email":window.open(`mailto:${V.email}`);break;case"book":e(`/book/${V.category.toLowerCase()}?provider=${V.id}`);break;case"video":V.videoConsultation&&Ce(de=>[...de,`Video consultation requested with ${V.name}`].slice(-3));break}},ce=V=>{L({lat:40.7128,lng:-74.006}),Le("map")},ke=()=>{N.length>0?Le("comparison"):Ce(V=>[...V,"Please add providers to comparison list"].slice(-3))},tt=()=>{Le("advanced")},yt=()=>{J({verifiedOnly:!1,availableOnly:!1,emergencyOnly:!1,onlineBookingOnly:!1,videoConsultationOnly:!1,freeEstimateOnly:!1,warrantyOnly:!1,priceRange:[0,200],minRating:0,distance:10,responseRate:0,languages:[],serviceAreas:[],paymentMethods:[]})},ht=mx.forwardRef(({provider:V},ee)=>t.jsxs(Xe.div,{ref:ee,layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},whileHover:{y:-5},className:`provider-card ${V.featured?"featured":""} ${V.trending?"trending":""}`,onClick:()=>At(V),children:[(V.featured||V.trending)&&t.jsxs("div",{className:"provider-badges-top",children:[V.featured&&t.jsx("span",{className:"badge featured-badge",children:" Featured"}),V.trending&&t.jsx("span",{className:"badge trending-badge",children:" Trending"})]}),t.jsxs("div",{className:"provider-header",children:[t.jsxs("div",{className:"provider-avatar",children:[t.jsx("span",{className:"avatar-emoji",children:V.image}),V.verified&&t.jsx("div",{className:"verified-badge",children:t.jsx(ui,{size:16})}),V.available&&t.jsx("div",{className:"available-dot"}),V.quickResponder&&t.jsx("div",{className:"quick-responder-badge",children:t.jsx(lx,{size:12})})]}),t.jsxs("div",{className:"provider-info",children:[t.jsx("h3",{className:"provider-name",children:V.name}),t.jsx("p",{className:"provider-category",children:V.category}),t.jsxs("div",{className:"provider-meta",children:[t.jsxs("div",{className:"rating",children:[t.jsx(un,{className:"star-icon",size:14,fill:"#fbbf24",color:"#fbbf24"}),t.jsx("span",{children:V.rating}),t.jsxs("span",{className:"reviews",children:["(",V.reviews,")"]})]}),t.jsxs("div",{className:"location",children:[t.jsx(Tn,{size:14}),t.jsx("span",{children:V.distance})]}),t.jsxs("div",{className:"last-active",children:[t.jsx(Tm,{size:14}),t.jsx("span",{children:V.lastActive})]})]})]}),t.jsxs("div",{className:"provider-actions",children:[t.jsx("button",{className:"save-btn",onClick:de=>{de.stopPropagation(),K(V.id)},children:t.jsx(VH,{size:20,fill:Ee.includes(V.id)?"#ef4444":"none",color:Ee.includes(V.id)?"#ef4444":"#6b7280"})}),t.jsx("button",{className:"compare-btn",onClick:de=>{de.stopPropagation(),O(V.id)},children:t.jsx(Rm,{size:20,color:N.includes(V.id)?"#667eea":"#6b7280"})})]})]}),t.jsxs("div",{className:"provider-stats",children:[t.jsxs("div",{className:"stat",children:[t.jsx(E1,{size:14}),t.jsx("span",{children:V.experience})]}),t.jsxs("div",{className:"stat",children:[t.jsx(Lr,{size:14}),t.jsx("span",{children:V.responseTime})]}),t.jsxs("div",{className:"stat",children:[t.jsx(fi,{size:14}),t.jsxs("span",{children:[V.completedJobs," jobs"]})]}),t.jsxs("div",{className:"stat",children:[t.jsx(HG,{size:14}),t.jsxs("span",{children:[V.responseRate,"% response"]})]})]}),t.jsxs("div",{className:"provider-specialties",children:[V.specialties.slice(0,2).map((de,We)=>t.jsx("span",{className:"specialty-tag",children:de},We)),V.specialties.length>2&&t.jsxs("span",{className:"specialty-tag more",children:["+",V.specialties.length-2]})]}),t.jsxs("div",{className:"provider-features",children:[V.onlineBooking&&t.jsxs("div",{className:"feature-badge",children:[t.jsx(ba,{size:12})," Online Booking"]}),V.videoConsultation&&t.jsxs("div",{className:"feature-badge",children:[t.jsx(nn,{size:12})," Video Call"]}),V.freeEstimate&&t.jsxs("div",{className:"feature-badge",children:[t.jsx(Sd,{size:12})," Free Estimate"]}),V.warranty&&t.jsxs("div",{className:"feature-badge",children:[t.jsx(kd,{size:12})," Warranty"]}),V.emergency&&t.jsxs("div",{className:"feature-badge emergency",children:[t.jsx(hN,{size:12})," 24/7"]})]}),t.jsxs("div",{className:"provider-activity",children:[t.jsxs("div",{className:"activity-item",children:[t.jsx("span",{className:"activity-label",children:"Recent Reviews:"}),t.jsx("span",{className:"activity-value",children:V.reviewsSummary.recent})]}),t.jsxs("div",{className:"activity-item",children:[t.jsx("span",{className:"activity-label",children:"Acceptance Rate:"}),t.jsxs("span",{className:"activity-value",children:[V.acceptanceRate,"%"]})]})]}),t.jsxs("div",{className:"provider-footer",children:[t.jsx("div",{className:"price",children:V.price}),t.jsxs("div",{className:"actions",children:[t.jsx("button",{className:"action-btn call",onClick:de=>{de.stopPropagation(),se(V,"call")},children:t.jsx(as,{size:16})}),V.videoConsultation&&t.jsx("button",{className:"action-btn video",onClick:de=>{de.stopPropagation(),se(V,"video")},children:t.jsx(nn,{size:16})}),t.jsx("button",{className:"action-btn map",onClick:de=>{de.stopPropagation(),ce()},children:t.jsx(ix,{size:16})}),t.jsx("button",{className:"action-btn book",onClick:de=>{de.stopPropagation(),se(V,"book")},children:t.jsx(ba,{size:16})})]})]})]}));return t.jsx("div",{className:"find-provider-advanced",children:we==="comparison"?t.jsx(mK,{providers:Si.filter(V=>N.includes(V.id)),onClose:()=>Le("main")}):we==="map"?t.jsx(fK,{providers:Si,onClose:()=>Le("main")}):we==="advanced"?t.jsx(vK,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"search-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h1",{children:"Find Professional Service Providers"}),t.jsx("p",{children:"Connect with verified and experienced professionals in your area"})]}),t.jsxs("div",{className:"view-navigation",children:[t.jsxs("button",{className:"view-nav-btn active",onClick:()=>Le("main"),children:[t.jsx(Am,{size:16}),"Browse"]}),t.jsxs("button",{className:"view-nav-btn",onClick:()=>Le("map"),children:[t.jsx(ix,{size:16}),"Map View"]}),t.jsxs("button",{className:"view-nav-btn",onClick:ke,disabled:N.length===0,children:[t.jsx(mH,{size:16}),"Compare (",N.length,")"]}),t.jsxs("button",{className:"view-nav-btn",onClick:tt,children:[t.jsx(ll,{size:16}),"Advanced Search"]}),t.jsxs("button",{className:"view-nav-btn",onClick:()=>e("/communication-hub"),children:[t.jsx(wa,{size:16}),"Chat"]}),t.jsxs("button",{className:"view-nav-btn",onClick:()=>e("/advanced-map-tracking"),children:[t.jsx(uG,{size:16}),"Live Tracking"]}),t.jsxs("button",{className:"view-nav-btn",onClick:()=>e("/video-call/demo"),children:[t.jsx(nn,{size:16}),"Video Call"]})]}),t.jsxs("div",{className:"search-container",children:[t.jsxs("div",{className:"search-input-wrapper",children:[t.jsx(ll,{className:"search-icon",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name, category, or specialty...",value:n,onChange:V=>i(V.target.value),className:"search-input"}),n&&t.jsx("button",{className:"clear-search",onClick:()=>i(""),children:t.jsx(hi,{size:18})})]}),t.jsxs("button",{className:`filter-toggle ${h?"active":""}`,onClick:()=>m(!h),children:[t.jsx(LG,{size:20}),t.jsx("span",{children:"Filters"}),(ge.verifiedOnly||ge.availableOnly||ge.emergencyOnly)&&t.jsx("div",{className:"filter-indicator"})]})]}),t.jsx("div",{className:"categories-scroll",children:xK.map(V=>t.jsxs("button",{className:`category-btn ${r===V.id?"active":""}`,onClick:()=>a(V.id),style:{"--category-color":V.color},children:[t.jsx("span",{className:"category-icon",children:V.icon}),t.jsx("span",{className:"category-name",children:V.name})]},V.id))})]}),t.jsx(Gs,{children:h&&t.jsx(Xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"filters-panel",children:t.jsxs("div",{className:"filters-grid",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{className:"filter-label",children:"Quick Filters"}),t.jsxs("div",{className:"checkbox-group",children:[t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:ge.verifiedOnly,onChange:V=>J(ee=>({...ee,verifiedOnly:V.target.checked}))}),t.jsx(XG,{size:16}),t.jsx("span",{children:"Verified Only"})]}),t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:ge.availableOnly,onChange:V=>J(ee=>({...ee,availableOnly:V.target.checked}))}),t.jsx(lx,{size:16}),t.jsx("span",{children:"Available Now"})]}),t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:ge.emergencyOnly,onChange:V=>J(ee=>({...ee,emergencyOnly:V.target.checked}))}),t.jsx(kd,{size:16}),t.jsx("span",{children:"Emergency Service"})]})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsxs("label",{className:"filter-label",children:["Price Range: $",ge.priceRange[0]," - $",ge.priceRange[1]]}),t.jsxs("div",{className:"range-slider",children:[t.jsx("input",{type:"range",min:"0",max:"200",value:ge.priceRange[0],onChange:V=>J(ee=>({...ee,priceRange:[parseInt(V.target.value),ee.priceRange[1]]}))}),t.jsx("input",{type:"range",min:"0",max:"200",value:ge.priceRange[1],onChange:V=>J(ee=>({...ee,priceRange:[ee.priceRange[0],parseInt(V.target.value)]}))})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsxs("label",{className:"filter-label",children:["Minimum Rating: ",ge.minRating,"+"]}),t.jsx("div",{className:"rating-filter",children:[1,2,3,4,5].map(V=>t.jsx("button",{className:`rating-star ${V<=ge.minRating?"active":""}`,onClick:()=>J(ee=>({...ee,minRating:V})),children:t.jsx(un,{size:20,fill:V<=ge.minRating?"#fbbf24":"none",color:"#fbbf24"})},V))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsxs("label",{className:"filter-label",children:["Max Distance: ",ge.distance,"km"]}),t.jsx("input",{type:"range",min:"1",max:"50",value:ge.distance,onChange:V=>J(ee=>({...ee,distance:parseInt(V.target.value)})),className:"distance-slider"})]})]})})}),t.jsxs("div",{className:"results-section",children:[t.jsxs("div",{className:"results-header",children:[t.jsxs("div",{className:"results-info",children:[t.jsxs("h2",{children:["Found ",xt.length," Providers"]}),t.jsx("p",{children:"Showing professionals matching your criteria"})]}),t.jsxs("div",{className:"results-controls",children:[t.jsx("div",{className:"sort-dropdown",children:t.jsx("select",{value:o,onChange:V=>l(V.target.value),className:"sort-select",children:yK.map(V=>t.jsx("option",{value:V.id,children:V.name},V.id))})}),t.jsxs("div",{className:"view-toggle",children:[t.jsx("button",{className:`view-btn ${c==="grid"?"active":""}`,onClick:()=>d("grid"),children:t.jsx(Am,{size:18})}),t.jsx("button",{className:`view-btn ${c==="list"?"active":""}`,onClick:()=>d("list"),children:t.jsx(QA,{size:18})})]})]})]}),t.jsx("div",{className:`providers-container ${c}`,children:t.jsx(Gs,{mode:"popLayout",children:xt.map(V=>t.jsx(ht,{provider:V},V.id))})}),xt.length===0&&t.jsxs("div",{className:"no-results",children:[t.jsx("div",{className:"no-results-icon",children:""}),t.jsx("h3",{children:"No providers found"}),t.jsx("p",{children:"Try adjusting your search or filters to find more professionals"}),t.jsx("button",{className:"reset-filters",onClick:()=>{i(""),a("all"),yt()},children:"Reset All Filters"})]})]}),t.jsx(Gs,{children:x&&p&&t.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:()=>j(!1),children:t.jsxs(Xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"modal-content",onClick:V=>V.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("div",{className:"provider-header-info",children:[t.jsxs("div",{className:"provider-avatar-large",children:[t.jsx("span",{className:"avatar-emoji-large",children:p.image}),p.verified&&t.jsx("div",{className:"verified-badge-large",children:t.jsx(ui,{size:20})})]}),t.jsxs("div",{className:"provider-details",children:[t.jsx("h2",{children:p.name}),t.jsx("p",{className:"provider-category-large",children:p.category}),t.jsxs("div",{className:"provider-rating-large",children:[t.jsx(un,{className:"star-icon",size:18,fill:"#fbbf24",color:"#fbbf24"}),t.jsx("span",{children:p.rating}),t.jsxs("span",{className:"reviews",children:["(",p.reviews," reviews)"]})]}),t.jsxs("div",{className:"provider-location-large",children:[t.jsx(Tn,{size:16}),t.jsxs("span",{children:[p.location,"  ",p.distance," away"]})]})]})]}),t.jsx("button",{className:"close-modal",onClick:()=>j(!1),children:t.jsx(hi,{size:24})})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"provider-section",children:[t.jsx("h3",{children:"About"}),t.jsx("p",{children:p.about})]}),t.jsxs("div",{className:"provider-section",children:[t.jsx("h3",{children:"Services & Specialties"}),t.jsx("div",{className:"specialties-grid",children:p.specialties.map((V,ee)=>t.jsx("span",{className:"specialty-card",children:V},ee))})]}),t.jsxs("div",{className:"provider-section",children:[t.jsx("h3",{children:"Certifications & Badges"}),t.jsx("div",{className:"certifications-grid",children:p.certifications.map((V,ee)=>t.jsxs("div",{className:"certification-card",children:[t.jsx(Em,{size:16}),t.jsx("span",{children:V})]},ee))})]}),t.jsxs("div",{className:"provider-stats-grid",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx(E1,{size:24}),t.jsxs("div",{className:"stat-info",children:[t.jsx("span",{className:"stat-value",children:p.experience}),t.jsx("span",{className:"stat-label",children:"Experience"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx(fi,{size:24}),t.jsxs("div",{className:"stat-info",children:[t.jsx("span",{className:"stat-value",children:p.completedJobs}),t.jsx("span",{className:"stat-label",children:"Completed Jobs"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx(Lr,{size:24}),t.jsxs("div",{className:"stat-info",children:[t.jsx("span",{className:"stat-value",children:p.responseTime}),t.jsx("span",{className:"stat-label",children:"Response Time"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx(Sd,{size:24}),t.jsxs("div",{className:"stat-info",children:[t.jsx("span",{className:"stat-value",children:p.price}),t.jsx("span",{className:"stat-label",children:"Hourly Rate"})]})]})]}),t.jsxs("div",{className:"provider-section",children:[t.jsx("h3",{children:"Contact Information"}),t.jsxs("div",{className:"contact-info",children:[t.jsxs("div",{className:"contact-item",children:[t.jsx(as,{size:18}),t.jsx("span",{children:p.phone})]}),t.jsxs("div",{className:"contact-item",children:[t.jsx(ol,{size:18}),t.jsx("span",{children:p.email})]}),t.jsxs("div",{className:"contact-item",children:[t.jsx(Lr,{size:18}),t.jsx("span",{children:p.workingHours})]})]})]}),t.jsxs("div",{className:"provider-section",children:[t.jsx("h3",{children:"Languages"}),t.jsx("div",{className:"languages-list",children:p.languages.map((V,ee)=>t.jsx("span",{className:"language-tag",children:V},ee))})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsxs("button",{className:"contact-btn secondary",onClick:()=>se(p,"call"),children:[t.jsx(as,{size:18}),"Call Now"]}),t.jsxs("button",{className:"contact-btn secondary",onClick:()=>se(p,"email"),children:[t.jsx(ol,{size:18}),"Send Message"]}),t.jsxs("button",{className:"contact-btn primary",onClick:()=>se(p,"book"),children:[t.jsx(ba,{size:18}),"Book Service"]})]})]})})})]})})}function NK(){Ct();const[s,e]=f.useState("help"),[n,i]=f.useState(""),[r,a]=f.useState("all"),[o,l]=f.useState(null),[c,d]=f.useState({subject:"",description:"",category:"general",priority:"medium"}),[h,m]=f.useState([]),[p,g]=f.useState(!1),[x,j]=f.useState(!1),v=[{id:"faq1",question:"How do I book a service?",answer:"To book a service, navigate to the Book Service page, select your desired service, choose a provider, pick a convenient date and time, and confirm your booking. You can also book directly from the provider's profile.",category:"booking",helpful:245},{id:"faq2",question:"What payment methods are accepted?",answer:"We accept multiple payment methods including cash on service, credit/debit cards, UPI, net banking, and digital wallets. You can choose your preferred payment method during the booking process.",category:"payment",helpful:189},{id:"faq3",question:"Can I cancel or reschedule my booking?",answer:"Yes, you can cancel or reschedule your booking up to 2 hours before the scheduled time without any charges. Go to My Bookings page, select the booking, and choose the cancel or reschedule option.",category:"booking",helpful:156},{id:"faq4",question:"How are service providers verified?",answer:"All our service providers go through a rigorous verification process including background checks, skill verification, document verification, and customer reference checks. Only verified providers are listed on our platform.",category:"providers",helpful:203},{id:"faq5",question:"What if I'm not satisfied with the service?",answer:"If you're not satisfied with the service, you can raise a complaint within 24 hours of service completion. Our support team will investigate the issue and work towards a resolution, which may include refund or rework.",category:"issues",helpful:134},{id:"faq6",question:"Is there a warranty on services?",answer:"Yes, most services come with a 7-day workmanship warranty. If you face any issues with the service within this period, the provider will fix it free of charge. Specific warranty periods may vary by service type.",category:"warranty",helpful:178}],b=[{id:"article1",title:"Getting Started with Our Platform",category:"getting-started",content:"Learn how to navigate our platform, book services, and manage your appointments effectively.",readTime:5,views:1250,helpful:89},{id:"article2",title:"Understanding Service Categories",category:"services",content:"Detailed guide about different service categories available and what each service includes.",readTime:8,views:890,helpful:76},{id:"article3",title:"Payment and Billing Guide",category:"payment",content:"Complete guide to payment methods, billing process, invoices, and refund policies.",readTime:6,views:1100,helpful:92},{id:"article4",title:"Provider Selection Tips",category:"providers",content:"How to choose the right service provider based on ratings, experience, and specialties.",readTime:4,views:750,helpful:68},{id:"article5",title:"Emergency Services Guide",category:"emergency",content:"What to do in emergency situations and how to access our 24/7 emergency services.",readTime:3,views:1450,helpful:112}],N=[{value:"all",label:"All Categories",icon:""},{value:"booking",label:"Booking",icon:""},{value:"payment",label:"Payment",icon:""},{value:"providers",label:"Providers",icon:""},{value:"issues",label:"Issues",icon:""},{value:"warranty",label:"Warranty",icon:""},{value:"emergency",label:"Emergency",icon:""},{value:"getting-started",label:"Getting Started",icon:""}],C=[{id:"TK001",subject:"Plumbing service not completed properly",description:"The plumber left without fixing the main issue",category:"service",priority:"high",status:"in_progress",createdAt:new Date(Date.now()-24*60*60*1e3),updatedAt:new Date(Date.now()-12*60*60*1e3),responses:[{id:"r1",message:"We apologize for the inconvenience. Our team is looking into this matter.",sender:"support",timestamp:new Date(Date.now()-18*60*60*1e3)}]},{id:"TK002",subject:"Question about refund policy",description:"I need to understand the refund process for cancelled bookings",category:"billing",priority:"medium",status:"resolved",createdAt:new Date(Date.now()-3*24*60*60*1e3),updatedAt:new Date(Date.now()-2*24*60*60*1e3),responses:[{id:"r2",message:"Refunds are processed within 5-7 business days. You can track the status in your account.",sender:"support",timestamp:new Date(Date.now()-2.5*24*60*60*1e3)}]}];f.useEffect(()=>{m(C)},[]);const I=v.filter(T=>{const S=T.question.toLowerCase().includes(n.toLowerCase())||T.answer.toLowerCase().includes(n.toLowerCase()),F=r==="all"||T.category===r;return S&&F}),D=b.filter(T=>{const S=T.title.toLowerCase().includes(n.toLowerCase())||T.content.toLowerCase().includes(n.toLowerCase()),F=r==="all"||T.category===r;return S&&F}),$=T=>{T.preventDefault(),j(!0),setTimeout(()=>{const S={id:`TK${String(h.length+1).padStart(3,"0")}`,subject:c.subject,description:c.description,category:c.category,priority:c.priority,status:"open",createdAt:new Date,updatedAt:new Date,responses:[]};m([S,...h]),d({subject:"",description:"",category:"general",priority:"medium"}),g(!1),j(!1),e("tickets")},1500)},E=(T,S)=>{console.log(`FAQ ${T} marked as ${S?"helpful":"not helpful"}`)},k=T=>{switch(T){case"open":return"#3b82f6";case"in_progress":return"#f59e0b";case"resolved":return"#10b981";case"closed":return"#6b7280";default:return"#6b7280"}},_=T=>{switch(T){case"low":return"#10b981";case"medium":return"#f59e0b";case"high":return"#ef4444";case"urgent":return"#dc2626";default:return"#6b7280"}};return t.jsxs("div",{className:"support",children:[t.jsxs("div",{className:"support-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h1",{children:"Help & Support Center"}),t.jsx("p",{children:"We're here to help you with any questions or issues"})]}),t.jsx("div",{className:"emergency-contact",children:t.jsxs("div",{className:"emergency-info",children:[t.jsx("span",{className:"emergency-icon",children:""}),t.jsxs("div",{className:"emergency-details",children:[t.jsx("h3",{children:"Emergency Support"}),t.jsx("p",{children:"24/7 Hotline: 1-800-URGENT"})]})]})})]}),t.jsx("div",{className:"search-section",children:t.jsxs("div",{className:"search-container",children:[t.jsxs("div",{className:"search-bar",children:[t.jsx("span",{className:"search-icon",children:""}),t.jsx("input",{type:"text",value:n,onChange:T=>i(T.target.value),placeholder:"Search for help articles, FAQs, or topics...",className:"search-input"})]}),t.jsx("div",{className:"quick-categories",children:N.slice(1,5).map(T=>t.jsxs("button",{className:`category-chip ${r===T.value?"active":""}`,onClick:()=>a(T.value),children:[t.jsx("span",{className:"category-icon",children:T.icon}),t.jsx("span",{children:T.label})]},T.value))})]})}),t.jsx("div",{className:"nav-tabs",children:t.jsx("div",{className:"tabs-container",children:[{id:"help",label:"Help Articles",icon:""},{id:"faq",label:"FAQs",icon:""},{id:"tickets",label:"My Tickets",icon:""},{id:"contact",label:"Contact Support",icon:""}].map(T=>t.jsxs("button",{className:`tab-btn ${s===T.id?"active":""}`,onClick:()=>e(T.id),children:[t.jsx("span",{className:"tab-icon",children:T.icon}),t.jsx("span",{children:T.label})]},T.id))})}),t.jsxs("div",{className:"support-content",children:[s==="help"&&t.jsxs("div",{className:"help-articles",children:[t.jsxs("div",{className:"articles-header",children:[t.jsx("h2",{children:"Help Articles"}),t.jsx("p",{children:"Browse our comprehensive help guides"})]}),t.jsx("div",{className:"articles-grid",children:D.map(T=>t.jsxs("div",{className:"article-card",children:[t.jsxs("div",{className:"article-header",children:[t.jsx("h3",{children:T.title}),t.jsxs("div",{className:"article-meta",children:[t.jsxs("span",{className:"read-time",children:[" ",T.readTime," min read"]}),t.jsxs("span",{className:"views",children:[" ",T.views," views"]})]})]}),t.jsx("p",{className:"article-excerpt",children:T.content}),t.jsxs("div",{className:"article-footer",children:[t.jsx("div",{className:"article-stats",children:t.jsxs("span",{className:"helpful-count",children:[" ",T.helpful," found helpful"]})}),t.jsx("button",{className:"read-more-btn",children:"Read More "})]})]},T.id))})]}),s==="faq"&&t.jsxs("div",{className:"faq-section",children:[t.jsxs("div",{className:"faq-header",children:[t.jsx("h2",{children:"Frequently Asked Questions"}),t.jsx("p",{children:"Find quick answers to common questions"})]}),t.jsx("div",{className:"faq-list",children:I.map(T=>t.jsxs("div",{className:"faq-item",children:[t.jsxs("button",{className:"faq-question",onClick:()=>l(o===T.id?null:T.id),children:[t.jsx("span",{className:"question-text",children:T.question}),t.jsx("span",{className:`expand-icon ${o===T.id?"expanded":""}`,children:""})]}),o===T.id&&t.jsxs("div",{className:"faq-answer",children:[t.jsx("p",{children:T.answer}),t.jsxs("div",{className:"faq-actions",children:[t.jsx("span",{className:"helpful-text",children:"Was this helpful?"}),t.jsxs("div",{className:"helpful-buttons",children:[t.jsxs("button",{className:"helpful-btn yes",onClick:()=>E(T.id,!0),children:[" Yes (",T.helpful,")"]}),t.jsx("button",{className:"helpful-btn no",onClick:()=>E(T.id,!1),children:" No"})]})]})]})]},T.id))})]}),s==="tickets"&&t.jsxs("div",{className:"tickets-section",children:[t.jsxs("div",{className:"tickets-header",children:[t.jsx("h2",{children:"My Support Tickets"}),t.jsx("button",{className:"create-ticket-btn",onClick:()=>g(!0),children:"+ Create New Ticket"})]}),p&&t.jsxs("div",{className:"ticket-form-modal",children:[t.jsx("div",{className:"modal-overlay",onClick:()=>g(!1)}),t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:"Create Support Ticket"}),t.jsx("button",{className:"close-btn",onClick:()=>g(!1),children:""})]}),t.jsxs("form",{onSubmit:$,className:"ticket-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Subject"}),t.jsx("input",{type:"text",value:c.subject,onChange:T=>d({...c,subject:T.target.value}),placeholder:"Brief description of your issue",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category"}),t.jsxs("select",{value:c.category,onChange:T=>d({...c,category:T.target.value}),children:[t.jsx("option",{value:"general",children:"General"}),t.jsx("option",{value:"booking",children:"Booking Issue"}),t.jsx("option",{value:"payment",children:"Payment Issue"}),t.jsx("option",{value:"service",children:"Service Issue"}),t.jsx("option",{value:"billing",children:"Billing Issue"}),t.jsx("option",{value:"technical",children:"Technical Issue"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Priority"}),t.jsx("div",{className:"priority-options",children:[{value:"low",label:"Low",color:"#10b981"},{value:"medium",label:"Medium",color:"#f59e0b"},{value:"high",label:"High",color:"#ef4444"},{value:"urgent",label:"Urgent",color:"#dc2626"}].map(T=>t.jsxs("label",{className:"priority-option",children:[t.jsx("input",{type:"radio",name:"priority",value:T.value,checked:c.priority===T.value,onChange:S=>d({...c,priority:S.target.value})}),t.jsx("span",{className:"priority-dot",style:{backgroundColor:T.color}}),t.jsx("span",{children:T.label})]},T.value))})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:c.description,onChange:T=>d({...c,description:T.target.value}),placeholder:"Please provide detailed information about your issue...",rows:5,required:!0})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>g(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:x,children:x?"Creating...":"Create Ticket"})]})]})]})]}),t.jsx("div",{className:"tickets-list",children:h.map(T=>t.jsxs("div",{className:"ticket-card",children:[t.jsxs("div",{className:"ticket-header",children:[t.jsxs("div",{className:"ticket-info",children:[t.jsx("h3",{children:T.subject}),t.jsxs("div",{className:"ticket-meta",children:[t.jsxs("span",{className:"ticket-id",children:["#",T.id]}),t.jsx("span",{className:"ticket-category",children:T.category}),t.jsx("span",{className:"ticket-status",style:{backgroundColor:k(T.status)},children:T.status.replace("_"," ")}),t.jsx("span",{className:"ticket-priority",style:{backgroundColor:_(T.priority)},children:T.priority})]})]}),t.jsxs("div",{className:"ticket-dates",children:[t.jsxs("div",{className:"date-item",children:[t.jsx("span",{className:"date-label",children:"Created:"}),t.jsx("span",{className:"date-value",children:T.createdAt.toLocaleDateString()})]}),t.jsxs("div",{className:"date-item",children:[t.jsx("span",{className:"date-label",children:"Updated:"}),t.jsx("span",{className:"date-value",children:T.updatedAt.toLocaleDateString()})]})]})]}),t.jsx("p",{className:"ticket-description",children:T.description}),T.responses.length>0&&t.jsxs("div",{className:"ticket-responses",children:[t.jsxs("h4",{children:["Responses (",T.responses.length,")"]}),t.jsx("div",{className:"response-list",children:T.responses.map(S=>t.jsxs("div",{className:`response ${S.sender}`,children:[t.jsxs("div",{className:"response-header",children:[t.jsx("span",{className:"sender-name",children:S.sender==="support"?"Support Team":"You"}),t.jsx("span",{className:"response-time",children:S.timestamp.toLocaleString()})]}),t.jsx("p",{className:"response-message",children:S.message})]},S.id))})]}),t.jsxs("div",{className:"ticket-actions",children:[t.jsx("button",{className:"reply-btn",children:"Reply"}),t.jsx("button",{className:"close-ticket-btn",children:"Close Ticket"})]})]},T.id))})]}),s==="contact"&&t.jsxs("div",{className:"contact-section",children:[t.jsxs("div",{className:"contact-header",children:[t.jsx("h2",{children:"Contact Support"}),t.jsx("p",{children:"Get in touch with our support team"})]}),t.jsxs("div",{className:"contact-options",children:[t.jsxs("div",{className:"contact-card primary",children:[t.jsx("div",{className:"contact-icon",children:""}),t.jsx("h3",{children:"Live Chat"}),t.jsx("p",{children:"Chat with our support team in real-time"}),t.jsxs("div",{className:"contact-status",children:[t.jsx("span",{className:"status-dot online"}),t.jsx("span",{children:"Available now"})]}),t.jsx("button",{className:"contact-btn",children:"Start Chat"})]}),t.jsxs("div",{className:"contact-card",children:[t.jsx("div",{className:"contact-icon",children:""}),t.jsx("h3",{children:"Phone Support"}),t.jsx("p",{children:"Call us for immediate assistance"}),t.jsxs("div",{className:"contact-info",children:[t.jsx("span",{className:"phone-number",children:"1-800-SUPPORT"}),t.jsx("span",{className:"working-hours",children:"Mon-Fri: 9 AM - 9 PM"})]}),t.jsx("button",{className:"contact-btn",children:"Call Now"})]}),t.jsxs("div",{className:"contact-card",children:[t.jsx("div",{className:"contact-icon",children:""}),t.jsx("h3",{children:"Email Support"}),t.jsx("p",{children:"Send us an email and we'll respond within 24 hours"}),t.jsxs("div",{className:"contact-info",children:[t.jsx("span",{className:"email-address",children:"support@example.com"}),t.jsx("span",{className:"response-time",children:"Response within 24 hours"})]}),t.jsx("button",{className:"contact-btn",children:"Send Email"})]}),t.jsxs("div",{className:"contact-card emergency",children:[t.jsx("div",{className:"contact-icon",children:""}),t.jsx("h3",{children:"Emergency Hotline"}),t.jsx("p",{children:"For urgent issues requiring immediate attention"}),t.jsxs("div",{className:"contact-info",children:[t.jsx("span",{className:"phone-number",children:"1-800-URGENT"}),t.jsx("span",{className:"availability",children:"24/7 Available"})]}),t.jsx("button",{className:"contact-btn emergency",children:"Call Emergency"})]})]}),t.jsxs("div",{className:"support-hours",children:[t.jsx("h3",{children:"Support Hours"}),t.jsxs("div",{className:"hours-grid",children:[t.jsxs("div",{className:"hours-item",children:[t.jsx("span",{className:"day",children:"Monday - Friday"}),t.jsx("span",{className:"time",children:"9:00 AM - 9:00 PM"})]}),t.jsxs("div",{className:"hours-item",children:[t.jsx("span",{className:"day",children:"Saturday"}),t.jsx("span",{className:"time",children:"10:00 AM - 6:00 PM"})]}),t.jsxs("div",{className:"hours-item",children:[t.jsx("span",{className:"day",children:"Sunday"}),t.jsx("span",{className:"time",children:"10:00 AM - 4:00 PM"})]}),t.jsxs("div",{className:"hours-item emergency",children:[t.jsx("span",{className:"day",children:"Emergency Services"}),t.jsx("span",{className:"time",children:"24/7 Available"})]})]})]})]})]})]})}function bK(){const s=Ct(),n=hn().state,[i,r]=f.useState(""),[a,o]=f.useState(!1),l=[{id:"gpay",name:"Google Pay",icon:"",description:"Pay instantly with Google Pay UPI",color:"#4285F4",popular:!0,upi:!0},{id:"phonepe",name:"PhonePe",icon:"",description:"Fast and secure payments with PhonePe",color:"#6B21A8",popular:!0,upi:!0},{id:"paytm",name:"Paytm",icon:"",description:"Pay with Paytm Wallet or UPI",color:"#00BFFF",popular:!0,wallet:!0,upi:!0},{id:"amazonpay",name:"Amazon Pay",icon:"",description:"Use Amazon Pay balance or UPI",color:"#FF9900",wallet:!0,upi:!0},{id:"upi",name:"UPI Apps",icon:"",description:"Pay with any UPI app",color:"#2E7D32",upi:!0},{id:"creditcard",name:"Credit/Debit Card",icon:"",description:"Visa, Mastercard, RuPay, Amex",color:"#1976D2",card:!0},{id:"netbanking",name:"Net Banking",icon:"",description:"Pay directly from your bank account",color:"#7B1FA2"},{id:"wallet",name:"Paytm Wallet",icon:"",description:"Use Paytm wallet balance",color:"#00BFFF",wallet:!0},{id:"cod",name:"Cash on Service",icon:"",description:"Pay when service is completed",color:"#388E3C"}],c=m=>{r(m)},d=async()=>{if(i){o(!0);try{await new Promise(p=>setTimeout(p,1500));const m={method:i,serviceId:n==null?void 0:n.serviceId,serviceName:n==null?void 0:n.serviceName,amount:n==null?void 0:n.price,bookingData:n==null?void 0:n.bookingData,timestamp:new Date().toISOString()};i==="cod"?s("/payment/cod-confirmation",{state:m}):s("/payment/process",{state:m})}catch(m){console.error("Payment processing error:",m)}finally{o(!1)}}},h=l.find(m=>m.id===i);return t.jsx("div",{className:"payment-selection",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"payment-header",children:[t.jsx("button",{className:"back-btn",onClick:()=>s(-1),children:" Back"}),t.jsx("h1",{children:"Select Payment Method"}),t.jsx("p",{children:"Choose your preferred payment option"})]}),n&&t.jsx("div",{className:"payment-summary",children:t.jsxs("div",{className:"summary-card",children:[t.jsx("h3",{children:"Payment Summary"}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{children:"Service:"}),t.jsx("span",{children:n.serviceName||"Service Booking"})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{children:"Amount:"}),t.jsx("span",{className:"amount",children:n.price||"0"})]})]})}),t.jsx("div",{className:"payment-methods",children:t.jsx("div",{className:"methods-grid",children:l.map(m=>t.jsxs("div",{className:`payment-method-card ${i===m.id?"selected":""} ${m.popular?"popular":""}`,onClick:()=>c(m.id),style:{borderColor:i===m.id?m.color:void 0},children:[m.popular&&t.jsx("div",{className:"popular-badge",children:"Popular"}),t.jsx("div",{className:"method-icon",style:{backgroundColor:`${m.color}15`},children:t.jsx("span",{className:"icon-emoji",children:m.icon})}),t.jsxs("div",{className:"method-info",children:[t.jsx("h4",{children:m.name}),t.jsx("p",{children:m.description})]}),t.jsx("div",{className:"method-select",children:t.jsx("div",{className:`radio-circle ${i===m.id?"selected":""}`,children:i===m.id&&t.jsx("div",{className:"radio-dot"})})})]},m.id))})}),h&&t.jsx("div",{className:"selected-payment-details",children:t.jsxs("div",{className:"details-card",children:[t.jsx("h4",{children:"Selected Payment Method"}),t.jsxs("div",{className:"selected-method",children:[t.jsx("div",{className:"method-icon-large",style:{backgroundColor:`${h.color}15`},children:t.jsx("span",{className:"icon-emoji-large",children:h.icon})}),t.jsxs("div",{className:"method-details",children:[t.jsx("h5",{children:h.name}),t.jsx("p",{children:h.description})]})]}),h.upi&&t.jsxs("div",{className:"payment-note",children:[t.jsx("span",{className:"note-icon",children:""}),t.jsx("span",{children:"You will be redirected to the UPI app to complete the payment"})]}),h.card&&t.jsxs("div",{className:"payment-note",children:[t.jsx("span",{className:"note-icon",children:""}),t.jsx("span",{children:"Your card information will be securely processed"})]}),h.id==="cod"&&t.jsxs("div",{className:"payment-note",children:[t.jsx("span",{className:"note-icon",children:""}),t.jsx("span",{children:"Payment will be collected when the service is completed"})]})]})}),t.jsxs("div",{className:"payment-actions",children:[t.jsx("button",{className:"proceed-btn",onClick:d,disabled:!i||a,children:a?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"spinner"}),"Processing..."]}):t.jsxs(t.Fragment,{children:["Proceed to Pay ",(n==null?void 0:n.price)||""]})}),t.jsxs("div",{className:"security-badges",children:[t.jsxs("div",{className:"badge",children:[t.jsx("span",{className:"badge-icon",children:""}),t.jsx("span",{children:"Secure Payment"})]}),t.jsxs("div",{className:"badge",children:[t.jsx("span",{className:"badge-icon",children:""}),t.jsx("span",{children:"SSL Encrypted"})]}),t.jsxs("div",{className:"badge",children:[t.jsx("span",{className:"badge-icon",children:""}),t.jsx("span",{children:"Safe & Trusted"})]})]})]})]})})}function wK(){var j,v;const s=Ct(),n=hn().state,[i,r]=f.useState("initiating"),[a,o]=f.useState(0),[l,c]=f.useState(""),[d,h]=f.useState(10);f.useEffect(()=>{if(!n){s("/payment/select");return}c("TXN"+Date.now().toString().slice(-10)+Math.random().toString(36).substr(2,5).toUpperCase());const N=[{stage:"initiating",duration:2e3,progress:25},{stage:"processing",duration:3e3,progress:50},{stage:"verifying",duration:2e3,progress:75},{stage:"success",duration:1e3,progress:100}];let C=0,I;(async()=>{for(;C<N.length;){const{stage:E,duration:k,progress:_}=N[C];r(E),o(_),await new Promise(T=>{I=setTimeout(T,k)}),C++}setTimeout(()=>{s("/payment/success",{state:{...n,transactionId:l,completedAt:new Date().toISOString()}})},1e3)})();const $=setInterval(()=>{h(E=>E<=1?(clearInterval($),0):E-1)},1e3);return()=>{I&&clearTimeout(I),clearInterval($)}},[n,s]);const m=()=>{s("/payment/select",{state:{...n,cancelled:!0}})},p=b=>({gpay:"",phonepe:"",paytm:"",amazonpay:"",upi:"",creditcard:"",netbanking:"",wallet:""})[b]||"",g=()=>{switch(i){case"initiating":return"Initiating secure payment connection...";case"processing":return"Processing your payment securely...";case"verifying":return"Verifying payment details...";case"success":return"Payment completed successfully!";case"failed":return"Payment failed. Please try again.";default:return"Processing payment..."}},x=()=>{switch(i){case"initiating":return"";case"processing":return"";case"verifying":return"";case"success":return"";case"failed":return"";default:return""}};return t.jsx("div",{className:"payment-processing",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"processing-header",children:[t.jsxs("div",{className:"payment-method-info",children:[t.jsx("div",{className:"method-icon",children:t.jsx("span",{children:p((n==null?void 0:n.method)||"")})}),t.jsxs("div",{className:"method-details",children:[t.jsx("h2",{children:"Processing Payment"}),t.jsxs("p",{children:["via ",((j=n==null?void 0:n.method)==null?void 0:j.replace(/([A-Z])/g," $1").replace(/^./,b=>b.toUpperCase()))||"Payment Method"]})]})]}),t.jsxs("div",{className:"transaction-info",children:[t.jsxs("div",{className:"transaction-id",children:[t.jsx("span",{className:"label",children:"Transaction ID:"}),t.jsx("span",{className:"value",children:l})]}),t.jsxs("div",{className:"amount",children:[t.jsx("span",{className:"label",children:"Amount:"}),t.jsx("span",{className:"value",children:(n==null?void 0:n.amount)||"0"})]})]})]}),t.jsxs("div",{className:"processing-content",children:[t.jsx("div",{className:"processing-animation",children:t.jsx("div",{className:"processing-circle",children:t.jsx("div",{className:"circle-progress",children:t.jsx("div",{className:"progress-fill",style:{background:`conic-gradient(#4CAF50 ${a*3.6}deg, #f0f0f0 0deg)`},children:t.jsxs("div",{className:"progress-center",children:[t.jsx("span",{className:"progress-icon",children:x()}),t.jsxs("span",{className:"progress-text",children:[a,"%"]})]})})})})}),t.jsxs("div",{className:"processing-status",children:[t.jsx("h3",{className:"status-title",children:g()}),t.jsxs("div",{className:"status-dots",children:[t.jsx("div",{className:`dot ${i==="initiating"?"active":""}`}),t.jsx("div",{className:`dot ${i==="processing"?"active":""}`}),t.jsx("div",{className:`dot ${i==="verifying"?"active":""}`}),t.jsx("div",{className:`dot ${i==="success"?"active":""}`})]})]}),t.jsxs("div",{className:"processing-details",children:[t.jsxs("div",{className:"detail-card",children:[t.jsx("h4",{children:"Payment Details"}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{children:"Service:"}),t.jsx("span",{children:(n==null?void 0:n.serviceName)||"Service Booking"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{children:"Payment Method:"}),t.jsx("span",{children:((v=n==null?void 0:n.method)==null?void 0:v.replace(/([A-Z])/g," $1").replace(/^./,b=>b.toUpperCase()))||"N/A"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{children:"Transaction ID:"}),t.jsx("span",{children:l})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{children:"Time:"}),t.jsx("span",{children:new Date().toLocaleTimeString()})]})]}),t.jsxs("div",{className:"security-info",children:[t.jsxs("div",{className:"security-item",children:[t.jsx("span",{className:"security-icon",children:""}),t.jsx("span",{children:"256-bit SSL encryption"})]}),t.jsxs("div",{className:"security-item",children:[t.jsx("span",{className:"security-icon",children:""}),t.jsx("span",{children:"PCI DSS compliant"})]}),t.jsxs("div",{className:"security-item",children:[t.jsx("span",{className:"security-icon",children:""}),t.jsx("span",{children:"Secure payment gateway"})]})]})]})]}),t.jsxs("div",{className:"processing-footer",children:[t.jsx("div",{className:"countdown-info",children:t.jsxs("span",{className:"countdown-text",children:["This page will automatically redirect in ",d," seconds"]})}),t.jsx("button",{className:"cancel-btn",onClick:m,children:"Cancel Payment"})]}),t.jsx("div",{className:"processing-bg-animation",children:t.jsxs("div",{className:"floating-icons",children:[t.jsx("span",{className:"icon",style:{"--delay":"0s","--duration":"3s"},children:""}),t.jsx("span",{className:"icon",style:{"--delay":"1s","--duration":"4s"},children:""}),t.jsx("span",{className:"icon",style:{"--delay":"2s","--duration":"3.5s"},children:""}),t.jsx("span",{className:"icon",style:{"--delay":"3s","--duration":"4.5s"},children:""})]})})]})})}function SK(){const s=Ct(),n=hn().state,[i,r]=f.useState(!0),[a,o]=f.useState(15);f.useEffect(()=>{if(!n){const b=setTimeout(()=>{s("/payment/select")},0);return()=>clearTimeout(b)}const j=setTimeout(()=>{r(!1)},5e3),v=setInterval(()=>{o(b=>b<=1?(clearInterval(v),setTimeout(()=>{s("/bookings")},0),0):b-1)},1e3);return()=>{clearTimeout(j),clearInterval(v)}},[n,s]);const l=()=>{setTimeout(()=>{s("/bookings")},0)},c=()=>{var I,D,$,E,k,_;const j={transactionId:n.transactionId,serviceName:n.serviceName,amount:n.amount,paymentMethod:n.method,completedAt:n.completedAt,customerName:((I=n.bookingData)==null?void 0:I.name)||"Customer",customerEmail:((D=n.bookingData)==null?void 0:D.email)||"",customerPhone:(($=n.bookingData)==null?void 0:$.phone)||"",serviceAddress:((E=n.bookingData)==null?void 0:E.address)||"",serviceDate:((k=n.bookingData)==null?void 0:k.date)||"",serviceTime:((_=n.bookingData)==null?void 0:_.time)||""},v=`
PAYMENT RECEIPT
================

Transaction ID: ${j.transactionId}
Date: ${new Date(j.completedAt).toLocaleDateString()}
Time: ${new Date(j.completedAt).toLocaleTimeString()}

CUSTOMER INFORMATION
--------------------
Name: ${j.customerName}
Email: ${j.customerEmail}
Phone: ${j.customerPhone}

SERVICE DETAILS
--------------
Service: ${j.serviceName}
Amount: ${j.amount}
Payment Method: ${j.paymentMethod}

SERVICE SCHEDULE
----------------
Date: ${j.serviceDate}
Time: ${j.serviceTime}
Address: ${j.serviceAddress}

PAYMENT STATUS: COMPLETED 

This is an automatically generated receipt.
Thank you for your business!
    `.trim(),b=new Blob([v],{type:"text/plain"}),N=window.URL.createObjectURL(b),C=document.createElement("a");C.href=N,C.download=`receipt_${n.transactionId}.txt`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(N)},d=async()=>{const j={title:"Payment Successful",text:`Payment of ${n.amount} for ${n.serviceName} completed successfully. Transaction ID: ${n.transactionId}`,url:window.location.href};try{navigator.share?await navigator.share(j):(await navigator.clipboard.writeText(j.text),alert("Receipt details copied to clipboard!"))}catch(v){console.error("Error sharing receipt:",v)}},h=()=>{setTimeout(()=>{s("/")},0)},m=()=>{setTimeout(()=>{s("/support")},0)},p=()=>{setTimeout(()=>{s("/support")},0)},g=()=>{setTimeout(()=>{s("/support/faq")},0)},x=j=>({gpay:"",phonepe:"",paytm:"",amazonpay:"",upi:"",creditcard:"",netbanking:"",wallet:"",cod:""})[j]||"";return t.jsxs("div",{className:"payment-success",children:[i&&t.jsx("div",{className:"confetti-container",children:[...Array(50)].map((j,v)=>t.jsx("div",{className:"confetti-piece",style:{"--delay":`${Math.random()*3}s`,"--duration":`${2+Math.random()*2}s`,"--x":`${Math.random()*100}%`,"--rotation":`${Math.random()*360}deg`}},v))}),t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"success-header",children:[t.jsx("div",{className:"success-icon",children:t.jsx("div",{className:"icon-circle",children:t.jsx("span",{className:"checkmark",children:""})})}),t.jsx("h1",{children:"Payment Successful!"}),t.jsx("p",{children:"Your payment has been processed successfully"})]}),t.jsxs("div",{className:"success-content",children:[t.jsx("div",{className:"payment-summary",children:t.jsxs("div",{className:"summary-card",children:[t.jsxs("div",{className:"summary-header",children:[t.jsxs("div",{className:"payment-method",children:[t.jsx("span",{className:"method-icon",children:x(n.method)}),t.jsx("span",{className:"method-name",children:n.method.replace(/([A-Z])/g," $1").replace(/^./,j=>j.toUpperCase())})]}),t.jsxs("div",{className:"amount-display",children:[t.jsx("span",{className:"amount",children:n.amount}),t.jsx("span",{className:"status-badge success",children:"Paid"})]})]}),t.jsxs("div",{className:"transaction-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Transaction ID:"}),t.jsx("span",{className:"value",children:n.transactionId})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Payment Date:"}),t.jsx("span",{className:"value",children:new Date(n.completedAt).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Payment Time:"}),t.jsx("span",{className:"value",children:new Date(n.completedAt).toLocaleTimeString()})]})]})]})}),t.jsx("div",{className:"booking-details",children:t.jsxs("div",{className:"booking-card",children:[t.jsx("h3",{children:"Service Booking Details"}),t.jsxs("div",{className:"booking-info",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"icon",children:""}),t.jsxs("div",{className:"info-content",children:[t.jsx("span",{className:"label",children:"Service"}),t.jsx("span",{className:"value",children:n.serviceName||"Service Booking"})]})]}),n.bookingData&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"icon",children:""}),t.jsxs("div",{className:"info-content",children:[t.jsx("span",{className:"label",children:"Date"}),t.jsx("span",{className:"value",children:n.bookingData.date||"To be scheduled"})]})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"icon",children:""}),t.jsxs("div",{className:"info-content",children:[t.jsx("span",{className:"label",children:"Time"}),t.jsx("span",{className:"value",children:n.bookingData.time||"To be scheduled"})]})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"icon",children:""}),t.jsxs("div",{className:"info-content",children:[t.jsx("span",{className:"label",children:"Address"}),t.jsx("span",{className:"value",children:n.bookingData.address||"Service address"})]})]})]})]})]})}),t.jsx("div",{className:"next-steps",children:t.jsxs("div",{className:"steps-card",children:[t.jsx("h3",{children:"What's Next?"}),t.jsxs("div",{className:"steps-list",children:[t.jsxs("div",{className:"step-item",children:[t.jsx("div",{className:"step-number",children:"1"}),t.jsxs("div",{className:"step-content",children:[t.jsx("h4",{children:"Confirmation Email"}),t.jsx("p",{children:"You'll receive a confirmation email with all booking details"})]})]}),t.jsxs("div",{className:"step-item",children:[t.jsx("div",{className:"step-number",children:"2"}),t.jsxs("div",{className:"step-content",children:[t.jsx("h4",{children:"Provider Assignment"}),t.jsx("p",{children:"We'll assign the best service provider for your booking"})]})]}),t.jsxs("div",{className:"step-item",children:[t.jsx("div",{className:"step-number",children:"3"}),t.jsxs("div",{className:"step-content",children:[t.jsx("h4",{children:"Service Reminder"}),t.jsx("p",{children:"You'll get a reminder before your scheduled service"})]})]})]})]})})]}),t.jsxs("div",{className:"success-actions",children:[t.jsxs("div",{className:"primary-actions",children:[t.jsx("button",{className:"btn-primary",onClick:l,children:"View My Bookings"}),t.jsx("button",{className:"btn-secondary",onClick:c,children:" Download Receipt"}),t.jsx("button",{className:"btn-outline",onClick:d,children:" Share Receipt"})]}),t.jsxs("div",{className:"secondary-actions",children:[t.jsx("button",{className:"btn-text",onClick:h,children:"Book Another Service"}),t.jsx("button",{className:"btn-text",onClick:m,children:"Need Help?"})]})]}),t.jsx("div",{className:"auto-redirect",children:t.jsxs("div",{className:"redirect-info",children:[t.jsxs("span",{className:"redirect-text",children:["You will be automatically redirected to your bookings in ",a," seconds"]}),t.jsx("div",{className:"progress-bar",children:t.jsx("div",{className:"progress-fill",style:{width:`${(15-a)*100/15}%`}})})]})}),t.jsx("div",{className:"support-info",children:t.jsxs("div",{className:"support-card",children:[t.jsx("h4",{children:"Need Assistance?"}),t.jsx("p",{children:"If you have any questions about your booking or payment, our support team is here to help."}),t.jsxs("div",{className:"support-actions",children:[t.jsx("button",{className:"support-btn",onClick:p,children:"Contact Support"}),t.jsx("button",{className:"support-btn",onClick:g,children:"View FAQ"})]})]})})]})]})}function kK(){const s=Ct(),n=hn().state,[i,r]=f.useState(10),[a,o]=f.useState(!1);f.useEffect(()=>{if(!n){s("/payment/select");return}""+Date.now().toString().slice(-8)+Math.random().toString(36).substr(2,4).toUpperCase(),(async()=>{await new Promise(m=>setTimeout(m,1500)),o(!0)})();const h=setInterval(()=>{r(m=>m<=1?(clearInterval(h),s("/bookings"),0):m-1)},1e3);return()=>{clearInterval(h)}},[n,s]);const l=()=>{s("/bookings")},c=()=>{var g,x,j,v,b,N;const d=`
CASH ON SERVICE BOOKING CONFIRMATION
====================================

Booking ID: BK${Date.now().toString().slice(-8)}${Math.random().toString(36).substr(2,4).toUpperCase()}
Date: ${new Date().toLocaleDateString()}
Time: ${new Date().toLocaleTimeString()}

SERVICE DETAILS
--------------
Service: ${n.serviceName||"Service Booking"}
Amount to be Paid: ${n.amount||"0"}
Payment Method: Cash on Service

CUSTOMER INFORMATION
--------------------
Name: ${((g=n.bookingData)==null?void 0:g.name)||"Customer"}
Email: ${((x=n.bookingData)==null?void 0:x.email)||""}
Phone: ${((j=n.bookingData)==null?void 0:j.phone)||""}

SERVICE SCHEDULE
----------------
Date: ${((v=n.bookingData)==null?void 0:v.date)||"To be scheduled"}
Time: ${((b=n.bookingData)==null?void 0:b.time)||"To be scheduled"}
Address: ${((N=n.bookingData)==null?void 0:N.address)||""}

PAYMENT INSTRUCTIONS
--------------------
1. Payment to be collected when service is completed
2. Please keep exact amount ready
3. You will receive an official receipt
4. Service provider will verify service completion

IMPORTANT NOTES
---------------
- Service provider will call before arrival
- Please ensure someone is available at the service address
- Payment should be made in Indian Rupees
- You will receive a confirmation SMS

Thank you for choosing our service!
    `.trim(),h=new Blob([d],{type:"text/plain"}),m=window.URL.createObjectURL(h),p=document.createElement("a");p.href=m,p.download=`booking_confirmation_${Date.now()}.txt`,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(m)};return t.jsx("div",{className:"cod-confirmation",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"confirmation-header",children:[t.jsx("div",{className:"confirmation-icon",children:t.jsx("div",{className:"icon-circle",children:t.jsx("span",{className:"cash-icon",children:""})})}),t.jsx("h1",{children:"Booking Confirmed!"}),t.jsx("p",{children:"Your service has been booked successfully"}),t.jsxs("div",{className:"payment-method-badge",children:[t.jsx("span",{className:"badge-icon",children:""}),t.jsx("span",{children:"Cash on Service"})]})]}),t.jsxs("div",{className:"confirmation-content",children:[t.jsx("div",{className:"booking-summary",children:t.jsxs("div",{className:"summary-card",children:[t.jsxs("div",{className:"summary-header",children:[t.jsx("h3",{children:"Booking Summary"}),t.jsxs("div",{className:"booking-status confirmed",children:[t.jsx("span",{className:"status-dot"}),t.jsx("span",{children:"Confirmed"})]})]}),t.jsxs("div",{className:"booking-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Booking ID:"}),t.jsxs("span",{className:"value",children:["BK",Date.now().toString().slice(-8),Math.random().toString(36).substr(2,4).toUpperCase()]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Service:"}),t.jsx("span",{className:"value",children:n.serviceName||"Service Booking"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Amount to be Paid:"}),t.jsx("span",{className:"value amount",children:n.amount||"0"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"label",children:"Payment Method:"}),t.jsx("span",{className:"value",children:"Cash on Service"})]})]})]})}),t.jsx("div",{className:"payment-instructions",children:t.jsxs("div",{className:"instructions-card",children:[t.jsx("h3",{children:"Payment Instructions"}),t.jsxs("div",{className:"instruction-list",children:[t.jsxs("div",{className:"instruction-item",children:[t.jsx("div",{className:"instruction-icon",children:"1"}),t.jsxs("div",{className:"instruction-text",children:[t.jsx("h4",{children:"Service Completion"}),t.jsx("p",{children:"Payment will be collected only after the service is completed to your satisfaction"})]})]}),t.jsxs("div",{className:"instruction-item",children:[t.jsx("div",{className:"instruction-icon",children:"2"}),t.jsxs("div",{className:"instruction-text",children:[t.jsx("h4",{children:"Exact Amount"}),t.jsxs("p",{children:["Please keep the exact amount ready: ",n.amount||"0"]})]})]}),t.jsxs("div",{className:"instruction-item",children:[t.jsx("div",{className:"instruction-icon",children:"3"}),t.jsxs("div",{className:"instruction-text",children:[t.jsx("h4",{children:"Official Receipt"}),t.jsx("p",{children:"You will receive an official receipt for your payment"})]})]}),t.jsxs("div",{className:"instruction-item",children:[t.jsx("div",{className:"instruction-icon",children:"4"}),t.jsxs("div",{className:"instruction-text",children:[t.jsx("h4",{children:"Service Verification"}),t.jsx("p",{children:"Our service provider will verify service completion before payment"})]})]})]})]})}),t.jsx("div",{className:"service-info",children:t.jsxs("div",{className:"info-card",children:[t.jsx("h3",{children:"Service Schedule"}),n.bookingData&&t.jsxs("div",{className:"schedule-details",children:[t.jsxs("div",{className:"schedule-item",children:[t.jsx("span",{className:"schedule-icon",children:""}),t.jsxs("div",{className:"schedule-content",children:[t.jsx("span",{className:"label",children:"Date"}),t.jsx("span",{className:"value",children:n.bookingData.date||"To be scheduled"})]})]}),t.jsxs("div",{className:"schedule-item",children:[t.jsx("span",{className:"schedule-icon",children:""}),t.jsxs("div",{className:"schedule-content",children:[t.jsx("span",{className:"label",children:"Time"}),t.jsx("span",{className:"value",children:n.bookingData.time||"To be scheduled"})]})]}),t.jsxs("div",{className:"schedule-item",children:[t.jsx("span",{className:"schedule-icon",children:""}),t.jsxs("div",{className:"schedule-content",children:[t.jsx("span",{className:"label",children:"Address"}),t.jsx("span",{className:"value",children:n.bookingData.address||"Service address"})]})]})]})]})}),t.jsx("div",{className:"important-notes",children:t.jsxs("div",{className:"notes-card",children:[t.jsx("h3",{children:"Important Information"}),t.jsxs("div",{className:"notes-list",children:[t.jsxs("div",{className:"note-item",children:[t.jsx("span",{className:"note-icon",children:""}),t.jsx("span",{children:"Service provider will call you before arrival"})]}),t.jsxs("div",{className:"note-item",children:[t.jsx("span",{className:"note-icon",children:""}),t.jsx("span",{children:"Please ensure someone is available at the service address"})]}),t.jsxs("div",{className:"note-item",children:[t.jsx("span",{className:"note-icon",children:""}),t.jsx("span",{children:"Payment should be made in Indian Rupees"})]}),t.jsxs("div",{className:"note-item",children:[t.jsx("span",{className:"note-icon",children:""}),t.jsx("span",{children:"You will receive a confirmation SMS with booking details"})]})]})]})})]}),t.jsxs("div",{className:"confirmation-actions",children:[t.jsxs("div",{className:"primary-actions",children:[t.jsx("button",{className:"btn-primary",onClick:l,children:"View My Bookings"}),t.jsx("button",{className:"btn-secondary",onClick:c,children:" Print Details"})]}),t.jsxs("div",{className:"secondary-actions",children:[t.jsx("button",{className:"btn-text",onClick:()=>s("/"),children:"Book Another Service"}),t.jsx("button",{className:"btn-text",onClick:()=>s("/support"),children:"Need Help?"})]})]}),t.jsx("div",{className:"auto-redirect",children:t.jsxs("div",{className:"redirect-info",children:[t.jsxs("span",{className:"redirect-text",children:["You will be automatically redirected to your bookings in ",i," seconds"]}),t.jsx("div",{className:"progress-bar",children:t.jsx("div",{className:"progress-fill",style:{width:`${(10-i)*10}%`}})})]})}),t.jsx("div",{className:"support-info",children:t.jsxs("div",{className:"support-card",children:[t.jsx("h4",{children:"Need Assistance?"}),t.jsx("p",{children:"If you have any questions about your booking or payment, our support team is here to help."}),t.jsxs("div",{className:"support-actions",children:[t.jsx("button",{className:"support-btn",onClick:()=>s("/support"),children:"Contact Support"}),t.jsx("button",{className:"support-btn",onClick:()=>s("/support/faq"),children:"View FAQ"})]})]})})]})})}function _K(){return t.jsxs("div",{className:"floating-bg-elements",children:[t.jsx("div",{className:"float-bg-element float-bg-1",children:""}),t.jsx("div",{className:"float-bg-element float-bg-2",children:""}),t.jsx("div",{className:"float-bg-element float-bg-3",children:""}),t.jsx("div",{className:"float-bg-element float-bg-4",children:""}),t.jsx("div",{className:"float-bg-element float-bg-5",children:""}),t.jsx("div",{className:"float-bg-element float-bg-6",children:""}),t.jsx("div",{className:"float-bg-element float-bg-7",children:""}),t.jsx("div",{className:"float-bg-element float-bg-8",children:""})]})}function CK(){const[s,e]=f.useState(""),[n,i]=f.useState({name:"",email:"",phone:"",address:"",issue:"",urgency:"normal",preferredTime:""}),[r,a]=f.useState(!1),o=[{id:"emergency-plumbing",name:"Emergency Plumbing",description:"24/7 emergency plumbing services for urgent issues",price:"800-2000",time:"30-90 mins",features:["Available 24/7","Quick response","Expert technicians"],popular:!0},{id:"pipe-repair",name:"Pipe Repair & Replacement",description:"Fix leaking pipes and replace damaged sections",price:"1200-3500",time:"2-4 hours",features:["Leak detection","Pipe replacement","Quality materials"],popular:!1},{id:"drain-cleaning",name:"Drain Cleaning",description:"Clear blocked drains and prevent future blockages",price:"600-1500",time:"1-2 hours",features:["Camera inspection","High-pressure cleaning","Preventive care"],popular:!1},{id:"faucet-installation",name:"Faucet Installation",description:"Install new faucets and fixtures",price:"800-2500",time:"1-3 hours",features:["Brand installation","Leak testing","Warranty included"],popular:!1},{id:"water-heater",name:"Water Heater Service",description:"Install, repair, and maintain water heaters",price:"1500-4000",time:"2-4 hours",features:["Installation","Repair","Annual maintenance"],popular:!0},{id:"bathroom-fitting",name:"Bathroom Fitting",description:"Complete bathroom plumbing solutions",price:"2000-8000",time:"4-8 hours",features:["Full renovation","Modern fixtures","Water efficiency"],popular:!1}],l=[{name:"Rahul Sharma",rating:5,comment:"Excellent emergency plumbing service! Technician arrived within 30 minutes and fixed the issue quickly.",service:"Emergency Plumbing"},{name:"Priya Patel",rating:5,comment:"Professional bathroom fitting service. They transformed our old bathroom into a modern one.",service:"Bathroom Fitting"},{name:"Amit Kumar",rating:4,comment:"Good water heater installation service. Technician was knowledgeable and polite.",service:"Water Heater Service"}],c=[{question:"How quickly can you respond to plumbing emergencies?",answer:"We offer emergency plumbing services with response time within 30 minutes in major cities."},{question:"Do you provide warranty on plumbing services?",answer:"Yes, we provide a 30-day warranty on all plumbing work and 90-day warranty on replaced parts."},{question:"What areas do you cover for plumbing services?",answer:"We provide plumbing services in Mumbai, Delhi, Bangalore, Chennai, and other major cities across India."},{question:"Are your plumbers certified and insured?",answer:"Yes, all our plumbers are certified, background-checked, and insured for your safety and peace of mind."},{question:"Do you use genuine spare parts?",answer:"We only use genuine, manufacturer-approved spare parts to ensure quality and longevity."}],d=async m=>{m.preventDefault(),a(!0);try{await new Promise(p=>setTimeout(p,2e3)),console.log("Plumbing service booking:",{...n,service:s}),alert("Plumbing service booked successfully! Our team will contact you shortly."),i({name:"",email:"",phone:"",address:"",issue:"",urgency:"normal",preferredTime:""})}catch{alert("Something went wrong. Please try again.")}finally{a(!1)}},h=m=>{i({...n,[m.target.name]:m.target.value})};return t.jsxs("div",{className:"plumbing-page",children:[t.jsx(_K,{}),t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"service-hero",children:[t.jsx("span",{className:"service-icon-large",children:""}),t.jsx("h1",{children:"Professional Plumbing Services"}),t.jsx("p",{children:"Expert plumbing solutions for all your residential and commercial needs"}),t.jsxs("div",{className:"hero-features",children:[t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"24/7 Emergency Service"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Warranty Guaranteed"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Expert Plumbers"})]})]})]}),t.jsxs("section",{className:"services-section",children:[t.jsx("h2",{children:"Our Plumbing Services"}),t.jsx("div",{className:"services-grid",children:o.map(m=>t.jsxs("div",{className:"service-card",children:[t.jsxs("div",{className:"service-header",children:[t.jsx("h3",{children:m.name}),m.popular&&t.jsx("span",{className:"popular-badge",children:"Popular"})]}),t.jsx("p",{children:m.description}),t.jsxs("div",{className:"service-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{children:m.price})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{children:m.time})]})]}),t.jsx("ul",{className:"service-features",children:m.features.map((p,g)=>t.jsx("li",{children:p},g))}),t.jsx("button",{className:"service-btn",onClick:()=>e(m.id),children:"Book Now"})]},m.id))})]}),s&&t.jsxs("section",{className:"booking-section",children:[t.jsx("h2",{children:"Book Your Service"}),t.jsxs("form",{className:"booking-form",onSubmit:d,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Name"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:h,placeholder:"Enter your name",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:h,placeholder:"Enter your email",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:h,placeholder:"Enter your phone number",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Address"}),t.jsx("input",{type:"text",name:"address",value:n.address,onChange:h,placeholder:"Enter your complete address",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Describe the Issue"}),t.jsx("textarea",{name:"issue",value:n.issue,onChange:h,rows:4,placeholder:"Please describe your plumbing issue in detail...",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Urgency Level"}),t.jsxs("select",{name:"urgency",value:n.urgency,onChange:h,disabled:r,children:[t.jsx("option",{value:"normal",children:"Normal (2-3 days)"}),t.jsx("option",{value:"urgent",children:"Urgent (24 hours)"}),t.jsx("option",{value:"emergency",children:"Emergency (2-4 hours)"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Preferred Service Time"}),t.jsx("input",{type:"datetime-local",name:"preferredTime",value:n.preferredTime,onChange:h,disabled:r})]}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:r,children:r?"Booking...":"Book Service"})]})]}),t.jsx("section",{className:"testimonials-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Customer Reviews"}),t.jsx("div",{className:"testimonials-grid",children:l.map((m,p)=>t.jsxs("div",{className:"testimonial-card",children:[t.jsxs("div",{className:"testimonial-header",children:[t.jsxs("div",{className:"customer-info",children:[t.jsx("strong",{children:m.name}),t.jsx("span",{className:"service-type",children:m.service})]}),t.jsx("div",{className:"rating",children:"".repeat(m.rating)})]}),t.jsxs("p",{className:"testimonial-text",children:['"',m.comment,'"']})]},p))})]})}),t.jsx("section",{className:"faq-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Frequently Asked Questions"}),t.jsx("div",{className:"faq-list",children:c.map((m,p)=>t.jsxs("details",{className:"faq-item",children:[t.jsx("summary",{className:"faq-question",children:m.question}),t.jsx("div",{className:"faq-answer",children:t.jsx("p",{children:m.answer})})]},p))})]})}),t.jsx("section",{className:"cta-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Need Plumbing Help?"}),t.jsx("p",{children:"Our expert plumbers are ready to solve your plumbing problems"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx("a",{href:"tel:+919876543210",className:"btn-primary emergency-btn",children:" Emergency: +91 98765 43210"}),t.jsx(he,{to:"/contact",className:"btn-secondary",children:"Contact Support"})]})]})})})]})]})}function TK(){const[s,e]=f.useState(""),[n,i]=f.useState({name:"",email:"",phone:"",address:"",issue:"",urgency:"normal",preferredTime:""}),[r,a]=f.useState(!1),o=[{id:"emergency-electrical",name:"Emergency Electrical",description:"24/7 emergency electrical services for power outages and faults",price:"1000-3000",time:"45-120 mins",features:["Available 24/7","Safety first","Quick diagnosis"],popular:!0},{id:"wiring-installation",name:"Wiring & Installation",description:"Complete electrical wiring for new construction and renovation",price:"5000-15000",time:"1-3 days",features:["Copper wiring","Safety compliance","Load calculation"],popular:!1},{id:"circuit-breaker",name:"Circuit Breaker Repair",description:"Fix tripping breakers and install new circuit protection",price:"1500-4000",time:"2-4 hours",features:["Breaker replacement","Load balancing","Safety testing"],popular:!1},{id:"lighting-installation",name:"Lighting Installation",description:"Install indoor and outdoor lighting systems",price:"2000-8000",time:"3-6 hours",features:["LED lighting","Smart lighting","Dimmer installation"],popular:!0},{id:"generator-service",name:"Generator Service",description:"Install, repair, and maintain backup generators",price:"3000-10000",time:"4-8 hours",features:["Installation","Repair","Annual maintenance"],popular:!1},{id:"solar-installation",name:"Solar Panel Installation",description:"Complete solar power system installation and maintenance",price:"25000-100000",time:"2-5 days",features:["Solar panels","Inverter setup","Net metering"],popular:!0}],l=[{icon:"",title:"Certified Electricians",description:"Licensed and experienced electrical professionals"},{icon:"",title:"Safety First",description:"Strict safety protocols and insurance coverage"},{icon:"",title:"Modern Equipment",description:"Latest tools and technology for electrical work"},{icon:"",title:"Transparent Pricing",description:"No hidden charges, detailed cost breakdown"},{icon:"",title:"24/7 Support",description:"Round-the-clock emergency electrical services"},{icon:"",title:"Quality Guarantee",description:"12-month warranty on all electrical work"}],c=[{name:"Sanjay Reddy",rating:5,comment:"Excellent emergency electrical service! They fixed our power outage within 2 hours.",service:"Emergency Electrical"},{name:"Anita Sharma",rating:5,comment:"Professional solar panel installation. The team was knowledgeable and efficient.",service:"Solar Panel Installation"},{name:"Rajesh Kumar",rating:4,comment:"Good lighting installation service. They transformed our home with modern LED lights.",service:"Lighting Installation"}],d=[{question:"Are your electricians licensed and insured?",answer:"Yes, all our electricians are licensed, certified, and fully insured for your protection."},{question:"Do you provide emergency electrical services?",answer:"Yes, we offer 24/7 emergency electrical services with response time within 2 hours."},{question:"What safety measures do you follow?",answer:"We follow strict safety protocols including proper lockout/tagout procedures, PPE usage, and electrical code compliance."},{question:"Do you provide warranty on electrical work?",answer:"We provide a 12-month warranty on all electrical work and 24-month warranty on replaced equipment."},{question:"Can you help with energy-efficient solutions?",answer:"Yes, we specialize in energy-efficient solutions including LED lighting, solar installations, and smart home automation."}],h=async p=>{p.preventDefault(),a(!0);try{await new Promise(g=>setTimeout(g,2e3)),console.log("Electrical service booking:",{...n,service:s}),alert("Electrical service booked successfully! Our team will contact you shortly."),i({name:"",email:"",phone:"",address:"",issue:"",urgency:"normal",preferredTime:""})}catch{alert("Something went wrong. Please try again.")}finally{a(!1)}},m=p=>{i({...n,[p.target.name]:p.target.value})};return t.jsxs("div",{className:"electrical-page",children:[t.jsx("section",{className:"service-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("div",{className:"service-icon-large",children:""}),t.jsx("h1",{children:"Professional Electrical Services"}),t.jsx("p",{className:"hero-subtitle",children:"Safe and reliable electrical solutions"}),t.jsx("p",{className:"hero-description",children:"From emergency repairs to complete installations, our certified electricians provide safe, code-compliant electrical services with guaranteed workmanship."}),t.jsxs("div",{className:"hero-features",children:[t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"24/7 Emergency Service"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"75+ Certified Electricians"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"12-Month Warranty"})]})]})]})}),t.jsx("section",{className:"services-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Electrical Services"}),t.jsx("div",{className:"services-grid",children:o.map(p=>t.jsxs("div",{className:`service-card ${p.popular?"featured":""}`,children:[p.popular&&t.jsx("div",{className:"popular-badge",children:" Popular"}),t.jsx("h3",{children:p.name}),t.jsx("p",{children:p.description}),t.jsxs("div",{className:"service-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("span",{children:["Starting from ",p.price]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{children:p.time})]})]}),t.jsx("ul",{className:"service-features",children:p.features.map((g,x)=>t.jsxs("li",{children:[" ",g]},x))}),t.jsx("button",{className:"btn-primary",onClick:()=>e(p.name),children:"Book Now"})]},p.id))})]})}),t.jsx("section",{className:"why-choose-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Why Choose Smart ServiceHub for Electrical?"}),t.jsx("div",{className:"features-grid",children:l.map((p,g)=>t.jsxs("div",{className:"feature-card",children:[t.jsx("div",{className:"feature-icon-large",children:p.icon}),t.jsx("h3",{children:p.title}),t.jsx("p",{children:p.description})]},g))})]})}),t.jsx("section",{className:"booking-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"booking-grid",children:[t.jsxs("div",{className:"booking-form",children:[t.jsx("h2",{children:"Book Electrical Service"}),s&&t.jsxs("div",{className:"selected-service",children:[t.jsx("strong",{children:"Selected Service:"})," ",s]}),t.jsxs("form",{onSubmit:h,children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Name *"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:m,required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address *"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:m,required:!0,disabled:r})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:m,placeholder:"+91 98765 43210",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Type *"}),t.jsxs("select",{name:"service",value:s,onChange:p=>e(p.target.value),required:!0,disabled:r,children:[t.jsx("option",{value:"",children:"Select a service"}),o.map(p=>t.jsx("option",{value:p.name,children:p.name},p.id))]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Address *"}),t.jsx("input",{type:"text",name:"address",value:n.address,onChange:m,placeholder:"Enter your complete address",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Describe the Issue *"}),t.jsx("textarea",{name:"issue",value:n.issue,onChange:m,rows:4,placeholder:"Please describe your electrical issue in detail...",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Urgency Level"}),t.jsxs("select",{name:"urgency",value:n.urgency,onChange:m,disabled:r,children:[t.jsx("option",{value:"normal",children:"Normal (24-48 hours)"}),t.jsx("option",{value:"urgent",children:"Urgent (2-4 hours)"}),t.jsx("option",{value:"emergency",children:"Emergency (45 minutes)"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Preferred Time"}),t.jsx("input",{type:"datetime-local",name:"preferredTime",value:n.preferredTime,onChange:m,disabled:r})]})]}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:r||!s,children:r?"Booking...":"Book Service"})]})]}),t.jsxs("div",{className:"booking-info",children:[t.jsx("h3",{children:"Service Information"}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Emergency Hotline"}),t.jsx("p",{children:"For urgent electrical issues, call us 24/7:"}),t.jsx("a",{href:"tel:+919876543211",className:"emergency-phone",children:"+91 98765 43211"})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Pricing Information"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Inspection fee: 300 (waived on service booking)"}),t.jsx("li",{children:"Minimum service charge: 800"}),t.jsx("li",{children:"Emergency surcharge: 500"}),t.jsx("li",{children:"Payment options: Cash, Card, UPI"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Safety & Warranty"}),t.jsxs("ul",{children:[t.jsx("li",{children:"12-month warranty on workmanship"}),t.jsx("li",{children:"24-month warranty on equipment"}),t.jsx("li",{children:"Electrical code compliance"}),t.jsx("li",{children:"Insurance coverage"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Service Areas"}),t.jsx("p",{children:"We provide electrical services in:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Mumbai & Navi Mumbai"}),t.jsx("li",{children:"Delhi & NCR"}),t.jsx("li",{children:"Bangalore"}),t.jsx("li",{children:"Chennai"}),t.jsx("li",{children:"Pune"}),t.jsx("li",{children:"Hyderabad"})]})]})]})]})})}),t.jsx("section",{className:"testimonials-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Customer Reviews"}),t.jsx("div",{className:"testimonials-grid",children:c.map((p,g)=>t.jsxs("div",{className:"testimonial-card",children:[t.jsxs("div",{className:"testimonial-header",children:[t.jsxs("div",{className:"customer-info",children:[t.jsx("strong",{children:p.name}),t.jsx("span",{className:"service-type",children:p.service})]}),t.jsx("div",{className:"rating",children:"".repeat(p.rating)})]}),t.jsxs("p",{className:"testimonial-text",children:['"',p.comment,'"']})]},g))})]})}),t.jsx("section",{className:"faq-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Frequently Asked Questions"}),t.jsx("div",{className:"faq-list",children:d.map((p,g)=>t.jsxs("details",{className:"faq-item",children:[t.jsx("summary",{className:"faq-question",children:p.question}),t.jsx("div",{className:"faq-answer",children:t.jsx("p",{children:p.answer})})]},g))})]})}),t.jsx("section",{className:"cta-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Need Electrical Help?"}),t.jsx("p",{children:"Our certified electricians are ready to solve your electrical problems safely"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx("a",{href:"tel:+919876543211",className:"btn-primary emergency-btn",children:" Emergency: +91 98765 43211"}),t.jsx(he,{to:"/contact",className:"btn-secondary",children:"Contact Support"})]})]})})})]})}function EK(){const[s,e]=f.useState(""),[n,i]=f.useState({name:"",email:"",phone:"",address:"",area:"",cleaningType:"",urgency:"normal",preferredTime:""}),[r,a]=f.useState(!1),o=[{id:"deep-cleaning",name:"Deep Home Cleaning",description:"Complete deep cleaning of your home with professional equipment",price:"1500-5000",time:"2-6 hours",features:["Professional equipment","Eco-friendly products","Trained staff","Satisfaction guarantee"],popular:!0},{id:"office-cleaning",name:"Office Cleaning",description:"Professional office cleaning for productive work environment",price:"2000-8000",time:"3-8 hours",features:["After-hours service","Commercial grade cleaning","Disinfection","Regular maintenance"],popular:!0},{id:"carpet-cleaning",name:"Carpet & Sofa Cleaning",description:"Deep cleaning of carpets, sofas, and upholstery",price:"800-2500",time:"1-3 hours",features:["Steam cleaning","Stain removal","Dust mite treatment","Quick drying"],popular:!1},{id:"kitchen-cleaning",name:"Kitchen Cleaning",description:"Specialized kitchen cleaning including chimney and appliances",price:"1200-3500",time:"2-4 hours",features:["Chimney cleaning","Appliance cleaning","Degreasing","Sanitization"],popular:!1},{id:"bathroom-cleaning",name:"Bathroom Cleaning",description:"Thorough bathroom cleaning and sanitization",price:"800-2000",time:"1-2 hours",features:["Tile cleaning","Grout cleaning","Sanitization","Mirror polishing"],popular:!1},{id:"post-construction",name:"Post-Construction Cleaning",description:"Complete cleaning after renovation or construction work",price:"3000-10000",time:"4-8 hours",features:["Dust removal","Debris cleanup","Surface polishing","Final touch-up"],popular:!1}],l=[{icon:"",title:"Professional Equipment",description:"Industrial-grade cleaning equipment for best results"},{icon:"",title:"Eco-Friendly Products",description:"Safe, non-toxic cleaning products for your family"},{icon:"",title:"Trained Staff",description:"Background-checked and professionally trained cleaners"},{icon:"",title:"Transparent Pricing",description:"No hidden charges, upfront quotes guaranteed"},{icon:"",title:"Satisfaction Guarantee",description:"100% satisfaction guarantee or re-cleaning free"},{icon:"",title:"Flexible Scheduling",description:"Book cleaning at your convenient time"}],c=[{name:"Anita Sharma",rating:5,comment:"Excellent deep cleaning service! My house looks brand new. The team was professional and thorough.",service:"Deep Home Cleaning"},{name:"Rajesh Kumar",rating:5,comment:"Great office cleaning service. They come after hours and our office is always spotless.",service:"Office Cleaning"},{name:"Priya Patel",rating:4,comment:"Good carpet cleaning service. Removed tough stains that I thought were permanent.",service:"Carpet & Sofa Cleaning"}],d=[{step:1,title:"Inspection",description:"Our team inspects the area and discusses requirements"},{step:2,title:"Preparation",description:"We prepare the area and bring professional equipment"},{step:3,title:"Cleaning",description:"Thorough cleaning using eco-friendly products"},{step:4,title:"Quality Check",description:"Final inspection to ensure quality standards"}],h=[{question:"Are your cleaning products safe for children and pets?",answer:"Yes, we use only eco-friendly, non-toxic cleaning products that are completely safe for children, pets, and the environment."},{question:"Do I need to provide cleaning equipment?",answer:"No, we bring all necessary professional cleaning equipment including vacuum cleaners, steam cleaners, mops, and cleaning solutions."},{question:"How long does cleaning take?",answer:"Cleaning time depends on the area size and type of cleaning. Deep cleaning typically takes 2-6 hours for a 2BHK apartment."},{question:"Are your cleaners background-checked?",answer:"Yes, all our cleaning staff undergo thorough background verification, police verification, and professional training."},{question:"What if I'm not satisfied with the cleaning?",answer:"We offer 100% satisfaction guarantee. If you're not satisfied, we'll re-clean the area free of charge."}],m=async g=>{g.preventDefault(),a(!0);try{await new Promise(x=>setTimeout(x,2e3)),console.log("Cleaning service booking:",{...n,service:s}),alert("Cleaning service booked successfully! Our team will contact you shortly."),i({name:"",email:"",phone:"",address:"",area:"",cleaningType:"",urgency:"normal",preferredTime:""})}catch{alert("Something went wrong. Please try again.")}finally{a(!1)}},p=g=>{i({...n,[g.target.name]:g.target.value})};return t.jsxs("div",{className:"cleaning-page",children:[t.jsx("section",{className:"service-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("div",{className:"service-icon-large",children:""}),t.jsx("h1",{children:"Professional Cleaning Services"}),t.jsx("p",{className:"hero-subtitle",children:"Sparkling clean spaces for healthy living"}),t.jsx("p",{className:"hero-description",children:"From deep home cleaning to office maintenance, our professional cleaning services use eco-friendly products and advanced equipment to deliver exceptional results."}),t.jsxs("div",{className:"hero-features",children:[t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Eco-Friendly Products"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"100+ Trained Cleaners"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Satisfaction Guarantee"})]})]})]})}),t.jsx("section",{className:"services-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Cleaning Services"}),t.jsx("div",{className:"services-grid",children:o.map(g=>t.jsxs("div",{className:`service-card ${g.popular?"featured":""}`,children:[g.popular&&t.jsx("div",{className:"popular-badge",children:" Popular"}),t.jsx("h3",{children:g.name}),t.jsx("p",{children:g.description}),t.jsxs("div",{className:"service-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("span",{children:["Starting from ",g.price]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{children:g.time})]})]}),t.jsx("ul",{className:"service-features",children:g.features.map((x,j)=>t.jsxs("li",{children:[" ",x]},j))}),t.jsx("button",{className:"btn-primary",onClick:()=>e(g.name),children:"Book Now"})]},g.id))})]})}),t.jsx("section",{className:"process-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Cleaning Process"}),t.jsx("div",{className:"process-grid",children:d.map(g=>t.jsxs("div",{className:"process-card",children:[t.jsx("div",{className:"step-number",children:g.step}),t.jsx("h3",{children:g.title}),t.jsx("p",{children:g.description})]},g.step))})]})}),t.jsx("section",{className:"why-choose-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Why Choose Smart ServiceHub for Cleaning?"}),t.jsx("div",{className:"features-grid",children:l.map((g,x)=>t.jsxs("div",{className:"feature-card",children:[t.jsx("div",{className:"feature-icon-large",children:g.icon}),t.jsx("h3",{children:g.title}),t.jsx("p",{children:g.description})]},x))})]})}),t.jsx("section",{className:"booking-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"booking-grid",children:[t.jsxs("div",{className:"booking-form",children:[t.jsx("h2",{children:"Book Cleaning Service"}),s&&t.jsxs("div",{className:"selected-service",children:[t.jsx("strong",{children:"Selected Service:"})," ",s]}),t.jsxs("form",{onSubmit:m,children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Name *"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:p,required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address *"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:p,required:!0,disabled:r})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:p,placeholder:"+91 98765 43210",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Type *"}),t.jsxs("select",{name:"service",value:s,onChange:g=>e(g.target.value),required:!0,disabled:r,children:[t.jsx("option",{value:"",children:"Select a service"}),o.map(g=>t.jsx("option",{value:g.name,children:g.name},g.id))]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Address *"}),t.jsx("input",{type:"text",name:"address",value:n.address,onChange:p,placeholder:"Enter your complete address",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Size (sq ft) *"}),t.jsx("input",{type:"text",name:"area",value:n.area,onChange:p,placeholder:"e.g., 1200",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cleaning Type"}),t.jsxs("select",{name:"cleaningType",value:n.cleaningType,onChange:p,disabled:r,children:[t.jsx("option",{value:"",children:"Select cleaning type"}),t.jsx("option",{value:"regular",children:"Regular Cleaning"}),t.jsx("option",{value:"deep",children:"Deep Cleaning"}),t.jsx("option",{value:"move-in",children:"Move-in/Move-out"}),t.jsx("option",{value:"post-construction",children:"Post-Construction"})]})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Urgency Level"}),t.jsxs("select",{name:"urgency",value:n.urgency,onChange:p,disabled:r,children:[t.jsx("option",{value:"normal",children:"Normal (24-48 hours)"}),t.jsx("option",{value:"urgent",children:"Urgent (same day)"}),t.jsx("option",{value:"emergency",children:"Emergency (within 4 hours)"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Preferred Time"}),t.jsx("input",{type:"datetime-local",name:"preferredTime",value:n.preferredTime,onChange:p,disabled:r})]})]}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:r||!s,children:r?"Booking...":"Book Service"})]})]}),t.jsxs("div",{className:"booking-info",children:[t.jsx("h3",{children:"Service Information"}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Cleaning Hotline"}),t.jsx("p",{children:"For urgent cleaning needs, call us:"}),t.jsx("a",{href:"tel:+919876543212",className:"emergency-phone",children:"+91 98765 43212"})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Pricing Information"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Inspection fee: Free (waived on booking)"}),t.jsx("li",{children:"Minimum service charge: 800"}),t.jsx("li",{children:"Weekend surcharge: 200"}),t.jsx("li",{children:"Payment options: Cash, Card, UPI"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Service Guarantee"}),t.jsxs("ul",{children:[t.jsx("li",{children:"100% satisfaction guarantee"}),t.jsx("li",{children:"Free re-cleaning if not satisfied"}),t.jsx("li",{children:"Damage protection insurance"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Service Areas"}),t.jsx("p",{children:"We provide cleaning services in:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Mumbai & Navi Mumbai"}),t.jsx("li",{children:"Delhi & NCR"}),t.jsx("li",{children:"Bangalore"}),t.jsx("li",{children:"Chennai"}),t.jsx("li",{children:"Pune"}),t.jsx("li",{children:"Hyderabad"})]})]})]})]})})}),t.jsx("section",{className:"testimonials-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Customer Reviews"}),t.jsx("div",{className:"testimonials-grid",children:c.map((g,x)=>t.jsxs("div",{className:"testimonial-card",children:[t.jsxs("div",{className:"testimonial-header",children:[t.jsxs("div",{className:"customer-info",children:[t.jsx("strong",{children:g.name}),t.jsx("span",{className:"service-type",children:g.service})]}),t.jsx("div",{className:"rating",children:"".repeat(g.rating)})]}),t.jsxs("p",{className:"testimonial-text",children:['"',g.comment,'"']})]},x))})]})}),t.jsx("section",{className:"faq-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Frequently Asked Questions"}),t.jsx("div",{className:"faq-list",children:h.map((g,x)=>t.jsxs("details",{className:"faq-item",children:[t.jsx("summary",{className:"faq-question",children:g.question}),t.jsx("div",{className:"faq-answer",children:t.jsx("p",{children:g.answer})})]},x))})]})}),t.jsx("section",{className:"cta-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Need Cleaning Help?"}),t.jsx("p",{children:"Our professional cleaners are ready to make your space sparkle"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx("a",{href:"tel:+919876543212",className:"btn-primary emergency-btn",children:" Cleaning: +91 98765 43212"}),t.jsx(he,{to:"/contact",className:"btn-secondary",children:"Contact Support"})]})]})})})]})}function PK(){const[s,e]=f.useState(""),[n,i]=f.useState({name:"",email:"",phone:"",address:"",area:"",pestType:"",severity:"medium",urgency:"normal",preferredTime:""}),[r,a]=f.useState(!1),o=[{id:"general-pest-control",name:"General Pest Control",description:"Comprehensive pest control for common household pests",price:"2000-5000",time:"2-4 hours",features:["Safe chemicals","Eco-friendly","Child & pet safe","3-month warranty"],popular:!0},{id:"termite-control",name:"Termite Control",description:"Advanced termite treatment and prevention solutions",price:"5000-15000",time:"4-6 hours",features:["Anti-termite treatment","Wood protection","Soil treatment","5-year warranty"],popular:!0},{id:"cockroach-control",name:"Cockroach Control",description:"Specialized cockroach elimination and prevention",price:"1500-3500",time:"1-2 hours",features:["Gel treatment","Bait stations","Crack & crevice treatment","6-month warranty"],popular:!1},{id:"mosquito-control",name:"Mosquito Control",description:"Mosquito fogging and larval control treatment",price:"2500-6000",time:"2-3 hours",features:["Fogging treatment","Larval control","Breeding source elimination","3-month warranty"],popular:!1},{id:"rodent-control",name:"Rodent Control",description:"Rat and mouse control with advanced trapping methods",price:"2000-4500",time:"2-3 hours",features:["Rodent proofing","Bait stations","Trapping","6-month warranty"],popular:!1},{id:"bedbug-control",name:"Bedbug Treatment",description:"Complete bedbug elimination and prevention",price:"3000-8000",time:"3-5 hours",features:["Heat treatment","Steam treatment","Chemical treatment","6-month warranty"],popular:!0}],l=[{id:"cockroaches",name:"Cockroaches",icon:""},{id:"termites",name:"Termites",icon:""},{id:"mosquitoes",name:"Mosquitoes",icon:""},{id:"rodents",name:"Rodents",icon:""},{id:"bedbugs",name:"Bedbugs",icon:""},{id:"ants",name:"Ants",icon:""},{id:"spiders",name:"Spiders",icon:""},{id:"flies",name:"Flies",icon:""}],c=[{icon:"",title:"Safe Chemicals",description:"WHO-approved, eco-friendly pest control chemicals"},{icon:"",title:"Expert Technicians",description:"Certified pest control specialists with years of experience"},{icon:"",title:"Long-term Protection",description:"Extended warranty and preventive treatments"},{icon:"",title:"Property Safe",description:"No damage to your property during treatment"},{icon:"",title:"Family Safe",description:"Child and pet-friendly treatment methods"},{icon:"",title:"Pre & Post Inspection",description:"Thorough inspection before and after treatment"}],d=[{step:1,title:"Inspection",description:"Thorough inspection to identify pest types and infestation level"},{step:2,title:"Custom Plan",description:"Personalized treatment plan based on infestation severity"},{step:3,title:"Treatment",description:"Safe and effective pest control treatment"},{step:4,title:"Prevention",description:"Preventive measures to avoid future infestations"}],h=[{name:"Rohit Sharma",rating:5,comment:"Excellent termite control service! They identified the problem quickly and provided effective treatment.",service:"Termite Control"},{name:"Sneha Patel",rating:5,comment:"Professional cockroach control service. The team was thorough and the results were amazing.",service:"Cockroach Control"},{name:"Amit Kumar",rating:4,comment:"Good mosquito control service. Our mosquito problem reduced significantly after treatment.",service:"Mosquito Control"}],m=[{question:"Are your pest control chemicals safe for children and pets?",answer:"Yes, we use WHO-approved, eco-friendly chemicals that are completely safe for children, pets, and the environment. Our technicians take all necessary precautions during treatment."},{question:"How long does the pest control treatment last?",answer:"The effectiveness varies by pest type. General pest control lasts 3 months, termite treatment provides 5 years protection, and other treatments typically last 6 months with proper maintenance."},{question:"Do I need to vacate my home during treatment?",answer:"For most treatments, you don't need to vacate. However, for certain intensive treatments like bedbug heat treatment, we recommend vacating for 4-6 hours. Our technicians will guide you accordingly."},{question:"What preparation is needed before pest control treatment?",answer:"We recommend covering food items, moving furniture away from walls, and ensuring proper ventilation. Our team provides detailed preparation instructions before the service."},{question:"Do you provide warranty for your services?",answer:"Yes, we provide warranty ranging from 3 months to 5 years depending on the treatment type. We also offer free follow-up visits within the warranty period if needed."}],p=async x=>{x.preventDefault(),a(!0);try{await new Promise(j=>setTimeout(j,2e3)),console.log("Pest control booking:",{...n,service:s}),alert("Pest control service booked successfully! Our team will contact you shortly."),i({name:"",email:"",phone:"",address:"",area:"",pestType:"",severity:"medium",urgency:"normal",preferredTime:""})}catch{alert("Something went wrong. Please try again.")}finally{a(!1)}},g=x=>{i({...n,[x.target.name]:x.target.value})};return t.jsxs("div",{className:"pest-control-page",children:[t.jsx("section",{className:"service-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("div",{className:"service-icon-large",children:""}),t.jsx("h1",{children:"Professional Pest Control Services"}),t.jsx("p",{className:"hero-subtitle",children:"Safe and effective pest elimination"}),t.jsx("p",{className:"hero-description",children:"Protect your home and family from unwanted pests with our safe, effective, and environmentally-friendly pest control solutions using WHO-approved chemicals."}),t.jsxs("div",{className:"hero-features",children:[t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Safe Chemicals"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Child & Pet Safe"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Long-term Warranty"})]})]})]})}),t.jsx("section",{className:"pest-types-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Common Pests We Handle"}),t.jsx("div",{className:"pest-types-grid",children:l.map(x=>t.jsxs("div",{className:"pest-type-card",children:[t.jsx("div",{className:"pest-icon",children:x.icon}),t.jsx("h3",{children:x.name})]},x.id))})]})}),t.jsx("section",{className:"services-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Pest Control Services"}),t.jsx("div",{className:"services-grid",children:o.map(x=>t.jsxs("div",{className:`service-card ${x.popular?"featured":""}`,children:[x.popular&&t.jsx("div",{className:"popular-badge",children:" Popular"}),t.jsx("h3",{children:x.name}),t.jsx("p",{children:x.description}),t.jsxs("div",{className:"service-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("span",{children:["Starting from ",x.price]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{children:x.time})]})]}),t.jsx("ul",{className:"service-features",children:x.features.map((j,v)=>t.jsxs("li",{children:[" ",j]},v))}),t.jsx("button",{className:"btn-primary",onClick:()=>e(x.name),children:"Book Now"})]},x.id))})]})}),t.jsx("section",{className:"process-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Treatment Process"}),t.jsx("div",{className:"process-grid",children:d.map(x=>t.jsxs("div",{className:"process-card",children:[t.jsx("div",{className:"step-number",children:x.step}),t.jsx("h3",{children:x.title}),t.jsx("p",{children:x.description})]},x.step))})]})}),t.jsx("section",{className:"why-choose-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Why Choose Smart ServiceHub for Pest Control?"}),t.jsx("div",{className:"features-grid",children:c.map((x,j)=>t.jsxs("div",{className:"feature-card",children:[t.jsx("div",{className:"feature-icon-large",children:x.icon}),t.jsx("h3",{children:x.title}),t.jsx("p",{children:x.description})]},j))})]})}),t.jsx("section",{className:"booking-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"booking-grid",children:[t.jsxs("div",{className:"booking-form",children:[t.jsx("h2",{children:"Book Pest Control Service"}),s&&t.jsxs("div",{className:"selected-service",children:[t.jsx("strong",{children:"Selected Service:"})," ",s]}),t.jsxs("form",{onSubmit:p,children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Name *"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:g,required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address *"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:g,required:!0,disabled:r})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:g,placeholder:"+91 98765 43210",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Type *"}),t.jsxs("select",{name:"service",value:s,onChange:x=>e(x.target.value),required:!0,disabled:r,children:[t.jsx("option",{value:"",children:"Select a service"}),o.map(x=>t.jsx("option",{value:x.name,children:x.name},x.id))]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Address *"}),t.jsx("input",{type:"text",name:"address",value:n.address,onChange:g,placeholder:"Enter your complete address",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Size (sq ft) *"}),t.jsx("input",{type:"text",name:"area",value:n.area,onChange:g,placeholder:"e.g., 1200",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pest Type *"}),t.jsxs("select",{name:"pestType",value:n.pestType,onChange:g,required:!0,disabled:r,children:[t.jsx("option",{value:"",children:"Select pest type"}),l.map(x=>t.jsxs("option",{value:x.name,children:[x.icon," ",x.name]},x.id))]})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Infestation Severity"}),t.jsxs("select",{name:"severity",value:n.severity,onChange:g,disabled:r,children:[t.jsx("option",{value:"low",children:"Low - Few pests visible"}),t.jsx("option",{value:"medium",children:"Medium - Regular sightings"}),t.jsx("option",{value:"high",children:"High - Heavy infestation"}),t.jsx("option",{value:"severe",children:"Severe - Widespread problem"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Urgency Level"}),t.jsxs("select",{name:"urgency",value:n.urgency,onChange:g,disabled:r,children:[t.jsx("option",{value:"normal",children:"Normal (24-48 hours)"}),t.jsx("option",{value:"urgent",children:"Urgent (same day)"}),t.jsx("option",{value:"emergency",children:"Emergency (within 4 hours)"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Preferred Time"}),t.jsx("input",{type:"datetime-local",name:"preferredTime",value:n.preferredTime,onChange:g,disabled:r})]}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:r||!s,children:r?"Booking...":"Book Service"})]})]}),t.jsxs("div",{className:"booking-info",children:[t.jsx("h3",{children:"Service Information"}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Pest Control Hotline"}),t.jsx("p",{children:"For urgent pest control needs, call us:"}),t.jsx("a",{href:"tel:+919876543213",className:"emergency-phone",children:"+91 98765 43213"})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Pricing Information"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Inspection fee: Free (waived on booking)"}),t.jsx("li",{children:"Minimum service charge: 1500"}),t.jsx("li",{children:"Weekend surcharge: 300"}),t.jsx("li",{children:"Payment options: Cash, Card, UPI"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Service Warranty"}),t.jsxs("ul",{children:[t.jsx("li",{children:"General pest control: 3 months"}),t.jsx("li",{children:"Termite treatment: 5 years"}),t.jsx("li",{children:"Other treatments: 6 months"}),t.jsx("li",{children:"Free follow-up visits"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Service Areas"}),t.jsx("p",{children:"We provide pest control services in:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Mumbai & Navi Mumbai"}),t.jsx("li",{children:"Delhi & NCR"}),t.jsx("li",{children:"Bangalore"}),t.jsx("li",{children:"Chennai"}),t.jsx("li",{children:"Pune"}),t.jsx("li",{children:"Hyderabad"})]})]})]})]})})}),t.jsx("section",{className:"testimonials-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Customer Reviews"}),t.jsx("div",{className:"testimonials-grid",children:h.map((x,j)=>t.jsxs("div",{className:"testimonial-card",children:[t.jsxs("div",{className:"testimonial-header",children:[t.jsxs("div",{className:"customer-info",children:[t.jsx("strong",{children:x.name}),t.jsx("span",{className:"service-type",children:x.service})]}),t.jsx("div",{className:"rating",children:"".repeat(x.rating)})]}),t.jsxs("p",{className:"testimonial-text",children:['"',x.comment,'"']})]},j))})]})}),t.jsx("section",{className:"faq-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Frequently Asked Questions"}),t.jsx("div",{className:"faq-list",children:m.map((x,j)=>t.jsxs("details",{className:"faq-item",children:[t.jsx("summary",{className:"faq-question",children:x.question}),t.jsx("div",{className:"faq-answer",children:t.jsx("p",{children:x.answer})})]},j))})]})}),t.jsx("section",{className:"cta-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Need Pest Control Help?"}),t.jsx("p",{children:"Our expert pest control team is ready to eliminate your pest problems safely"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx("a",{href:"tel:+919876543213",className:"btn-primary emergency-btn",children:" Pest Control: +91 98765 43213"}),t.jsx(he,{to:"/contact",className:"btn-secondary",children:"Contact Support"})]})]})})})]})}function AK(){const[s,e]=f.useState(""),[n,i]=f.useState({name:"",email:"",phone:"",address:"",acType:"",acBrand:"",issue:"",urgency:"normal",preferredTime:""}),[r,a]=f.useState(!1),o=[{id:"ac-installation",name:"AC Installation",description:"Professional AC installation with proper setup and testing",price:"3000-8000",time:"2-4 hours",features:["Free installation kit","Proper wiring","Gas charging","1-year warranty"],popular:!0},{id:"ac-repair",name:"AC Repair",description:"Complete AC repair for all types of cooling issues",price:"1500-5000",time:"1-3 hours",features:["Fault diagnosis","Spare parts replacement","Performance testing","30-day warranty"],popular:!0},{id:"ac-annual-maintenance",name:"Annual Maintenance",description:"Comprehensive AC maintenance for optimal performance",price:"1200-2500",time:"1-2 hours",features:["Deep cleaning","Gas top-up","Filter replacement","Performance check"],popular:!1},{id:"gas-refilling",name:"Gas Refilling",description:"AC gas refilling and leak detection service",price:"800-3000",time:"1-2 hours",features:["Leak detection","Gas refilling","Pressure testing","3-month warranty"],popular:!1},{id:"ac-cleaning",name:"AC Deep Cleaning",description:"Thorough AC cleaning including coils and filters",price:"1000-2000",time:"1-2 hours",features:["Coil cleaning","Filter cleaning","Drain pipe cleaning","Sanitization"],popular:!1},{id:"pcb-repair",name:"PCB Repair & Replacement",description:"AC PCB repair and replacement services",price:"2000-8000",time:"2-4 hours",features:["PCB diagnosis","Component repair","PCB replacement","6-month warranty"],popular:!1}],l=[{id:"split",name:"Split AC",icon:""},{id:"window",name:"Window AC",icon:""},{id:"cassette",name:"Cassette AC",icon:""},{id:"central",name:"Central AC",icon:""},{id:"portable",name:"Portable AC",icon:""}],c=["Daikin","LG","Samsung","Voltas","Blue Star","Hitachi","Carrier","Whirlpool","Panasonic","Godrej","O General","Mitsubishi"],d=[{id:"not-cooling",name:"AC Not Cooling",icon:""},{id:"water-leakage",name:"Water Leakage",icon:""},{id:"noise",name:"Strange Noise",icon:""},{id:"bad-odor",name:"Bad Odor",icon:""},{id:"not-starting",name:"AC Not Starting",icon:""},{id:"gas-leak",name:"Gas Leakage",icon:""}],h=[{icon:"",title:"Certified Technicians",description:"Factory-trained and certified AC technicians"},{icon:"",title:"Genuine Spare Parts",description:"Only original manufacturer-approved spare parts"},{icon:"",title:"Quick Service",description:"Same-day service for urgent AC repairs"},{icon:"",title:"Transparent Pricing",description:"No hidden charges, upfront cost estimates"},{icon:"",title:"Service Warranty",description:"30-day warranty on all repair services"},{icon:"",title:"24/7 Support",description:"Round-the-clock customer support"}],m=[{step:1,title:"Diagnosis",description:"Thorough inspection to identify the exact issue"},{step:2,title:"Quote",description:"Transparent pricing with detailed cost breakdown"},{step:3,title:"Repair",description:"Expert repair using genuine spare parts"},{step:4,title:"Testing",description:"Performance testing to ensure proper functioning"}],p=[{name:"Vikram Singh",rating:5,comment:"Excellent AC repair service! The technician fixed my AC quickly and it's working perfectly now.",service:"AC Repair"},{name:"Priya Nair",rating:5,comment:"Professional AC installation service. The team was punctual and did a great job with the setup.",service:"AC Installation"},{name:"Rahul Verma",rating:4,comment:"Good annual maintenance service. My AC is cooling much better after the service.",service:"Annual Maintenance"}],g=[{question:"How often should I service my AC?",answer:"We recommend servicing your AC at least once a year, preferably before summer starts. For heavy usage, twice a year is ideal."},{question:"Do you provide warranty on AC repairs?",answer:"Yes, we provide a 30-day warranty on all repair services and up to 1-year warranty on replaced parts and new installations."},{question:"Are your technicians certified?",answer:"Yes, all our technicians are factory-trained and certified by major AC manufacturers. They undergo regular training to stay updated with latest technologies."},{question:"Do you use genuine spare parts?",answer:"Absolutely! We only use genuine, manufacturer-approved spare parts to ensure quality and longevity of your AC."},{question:"How quickly can you respond to AC emergencies?",answer:"For emergency AC repairs, we respond within 2-4 hours depending on your location. Regular services are typically scheduled within 24 hours."}],x=async v=>{v.preventDefault(),a(!0);try{await new Promise(b=>setTimeout(b,2e3)),console.log("AC service booking:",{...n,service:s}),alert("AC service booked successfully! Our team will contact you shortly."),i({name:"",email:"",phone:"",address:"",acType:"",acBrand:"",issue:"",urgency:"normal",preferredTime:""})}catch{alert("Something went wrong. Please try again.")}finally{a(!1)}},j=v=>{i({...n,[v.target.name]:v.target.value})};return t.jsxs("div",{className:"ac-service-page",children:[t.jsx("section",{className:"service-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("div",{className:"service-icon-large",children:""}),t.jsx("h1",{children:"Professional AC Services"}),t.jsx("p",{className:"hero-subtitle",children:"Expert AC repair and maintenance"}),t.jsx("p",{className:"hero-description",children:"Keep your air conditioner running perfectly with our expert AC services including installation, repair, maintenance, and gas refilling by certified technicians."}),t.jsxs("div",{className:"hero-features",children:[t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Certified Technicians"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Genuine Parts"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Quick Service"})]})]})]})}),t.jsx("section",{className:"ac-types-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Types of AC We Service"}),t.jsx("div",{className:"ac-types-grid",children:l.map(v=>t.jsxs("div",{className:"ac-type-card",children:[t.jsx("div",{className:"ac-icon",children:v.icon}),t.jsx("h3",{children:v.name})]},v.id))})]})}),t.jsx("section",{className:"common-issues-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Common AC Issues We Fix"}),t.jsx("div",{className:"issues-grid",children:d.map(v=>t.jsxs("div",{className:"issue-card",children:[t.jsx("div",{className:"issue-icon",children:v.icon}),t.jsx("h3",{children:v.name})]},v.id))})]})}),t.jsx("section",{className:"services-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our AC Services"}),t.jsx("div",{className:"services-grid",children:o.map(v=>t.jsxs("div",{className:`service-card ${v.popular?"featured":""}`,children:[v.popular&&t.jsx("div",{className:"popular-badge",children:" Popular"}),t.jsx("h3",{children:v.name}),t.jsx("p",{children:v.description}),t.jsxs("div",{className:"service-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsxs("span",{children:["Starting from ",v.price]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{children:v.time})]})]}),t.jsx("ul",{className:"service-features",children:v.features.map((b,N)=>t.jsxs("li",{children:[" ",b]},N))}),t.jsx("button",{className:"btn-primary",onClick:()=>e(v.name),children:"Book Now"})]},v.id))})]})}),t.jsx("section",{className:"process-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Service Process"}),t.jsx("div",{className:"process-grid",children:m.map(v=>t.jsxs("div",{className:"process-card",children:[t.jsx("div",{className:"step-number",children:v.step}),t.jsx("h3",{children:v.title}),t.jsx("p",{children:v.description})]},v.step))})]})}),t.jsx("section",{className:"why-choose-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Why Choose Smart ServiceHub for AC Services?"}),t.jsx("div",{className:"features-grid",children:h.map((v,b)=>t.jsxs("div",{className:"feature-card",children:[t.jsx("div",{className:"feature-icon-large",children:v.icon}),t.jsx("h3",{children:v.title}),t.jsx("p",{children:v.description})]},b))})]})}),t.jsx("section",{className:"booking-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"booking-grid",children:[t.jsxs("div",{className:"booking-form",children:[t.jsx("h2",{children:"Book AC Service"}),s&&t.jsxs("div",{className:"selected-service",children:[t.jsx("strong",{children:"Selected Service:"})," ",s]}),t.jsxs("form",{onSubmit:x,children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Name *"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:j,required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address *"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:j,required:!0,disabled:r})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:j,placeholder:"+91 98765 43210",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Type *"}),t.jsxs("select",{name:"service",value:s,onChange:v=>e(v.target.value),required:!0,disabled:r,children:[t.jsx("option",{value:"",children:"Select a service"}),o.map(v=>t.jsx("option",{value:v.name,children:v.name},v.id))]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Address *"}),t.jsx("input",{type:"text",name:"address",value:n.address,onChange:j,placeholder:"Enter your complete address",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"AC Type *"}),t.jsxs("select",{name:"acType",value:n.acType,onChange:j,required:!0,disabled:r,children:[t.jsx("option",{value:"",children:"Select AC type"}),l.map(v=>t.jsxs("option",{value:v.name,children:[v.icon," ",v.name]},v.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"AC Brand"}),t.jsxs("select",{name:"acBrand",value:n.acBrand,onChange:j,disabled:r,children:[t.jsx("option",{value:"",children:"Select AC brand"}),c.map(v=>t.jsx("option",{value:v,children:v},v))]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Issue Description *"}),t.jsx("textarea",{name:"issue",value:n.issue,onChange:j,rows:4,placeholder:"Please describe the issue with your AC in detail...",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Urgency Level"}),t.jsxs("select",{name:"urgency",value:n.urgency,onChange:j,disabled:r,children:[t.jsx("option",{value:"normal",children:"Normal (24-48 hours)"}),t.jsx("option",{value:"urgent",children:"Urgent (same day)"}),t.jsx("option",{value:"emergency",children:"Emergency (within 4 hours)"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Preferred Time"}),t.jsx("input",{type:"datetime-local",name:"preferredTime",value:n.preferredTime,onChange:j,disabled:r})]})]}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:r||!s,children:r?"Booking...":"Book Service"})]})]}),t.jsxs("div",{className:"booking-info",children:[t.jsx("h3",{children:"Service Information"}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" AC Service Hotline"}),t.jsx("p",{children:"For urgent AC service needs, call us:"}),t.jsx("a",{href:"tel:+919876543214",className:"emergency-phone",children:"+91 98765 43214"})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Pricing Information"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Inspection fee: 500 (waived on booking)"}),t.jsx("li",{children:"Minimum service charge: 800"}),t.jsx("li",{children:"Emergency surcharge: 500"}),t.jsx("li",{children:"Payment options: Cash, Card, UPI"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Service Warranty"}),t.jsxs("ul",{children:[t.jsx("li",{children:"30-day warranty on repairs"}),t.jsx("li",{children:"1-year warranty on installations"}),t.jsx("li",{children:"6-month warranty on PCB replacement"}),t.jsx("li",{children:"Free follow-up inspection"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Service Areas"}),t.jsx("p",{children:"We provide AC services in:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Mumbai & Navi Mumbai"}),t.jsx("li",{children:"Delhi & NCR"}),t.jsx("li",{children:"Bangalore"}),t.jsx("li",{children:"Chennai"}),t.jsx("li",{children:"Pune"}),t.jsx("li",{children:"Hyderabad"})]})]})]})]})})}),t.jsx("section",{className:"testimonials-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Customer Reviews"}),t.jsx("div",{className:"testimonials-grid",children:p.map((v,b)=>t.jsxs("div",{className:"testimonial-card",children:[t.jsxs("div",{className:"testimonial-header",children:[t.jsxs("div",{className:"customer-info",children:[t.jsx("strong",{children:v.name}),t.jsx("span",{className:"service-type",children:v.service})]}),t.jsx("div",{className:"rating",children:"".repeat(v.rating)})]}),t.jsxs("p",{className:"testimonial-text",children:['"',v.comment,'"']})]},b))})]})}),t.jsx("section",{className:"faq-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Frequently Asked Questions"}),t.jsx("div",{className:"faq-list",children:g.map((v,b)=>t.jsxs("details",{className:"faq-item",children:[t.jsx("summary",{className:"faq-question",children:v.question}),t.jsx("div",{className:"faq-answer",children:t.jsx("p",{children:v.answer})})]},b))})]})}),t.jsx("section",{className:"cta-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Need AC Service?"}),t.jsx("p",{children:"Our certified AC technicians are ready to fix your cooling problems"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx("a",{href:"tel:+919876543214",className:"btn-primary emergency-btn",children:" AC Service: +91 98765 43214"}),t.jsx(he,{to:"/contact",className:"btn-secondary",children:"Contact Support"})]})]})})})]})}function RK(){const[s,e]=f.useState(""),[n,i]=f.useState({name:"",email:"",phone:"",address:"",area:"",paintType:"",rooms:"",urgency:"normal",preferredTime:""}),[r,a]=f.useState(!1),o=[{id:"interior-painting",name:"Interior Painting",description:"Professional interior painting for walls, ceilings, and woodwork",price:"20-50 per sq ft",time:"2-5 days",features:["Wall preparation","Putty filling","Primer coat","2 paint coats"],popular:!0},{id:"exterior-painting",name:"Exterior Painting",description:"Weather-resistant exterior painting for all building types",price:"25-60 per sq ft",time:"3-7 days",features:["Surface cleaning","Waterproofing","Crack filling","Weather-proof paint"],popular:!0},{id:"texture-painting",name:"Texture Painting",description:"Decorative texture painting for unique wall designs",price:"40-120 per sq ft",time:"3-6 days",features:["Texture application","Design patterns","Custom colors","Artistic finish"],popular:!1},{id:"wood-polishing",name:"Wood Polishing",description:"Professional wood polishing for furniture and fixtures",price:"80-200 per sq ft",time:"2-4 days",features:["Sanding","Staining","Polishing","Protective coating"],popular:!1},{id:"waterproofing",name:"Waterproof Painting",description:"Waterproof painting solutions for leak protection",price:"30-80 per sq ft",time:"3-5 days",features:["Waterproof coating","Leak sealing","Moisture protection","Long-lasting"],popular:!1},{id:"commercial-painting",name:"Commercial Painting",description:"Large-scale painting for offices, shops, and commercial spaces",price:"15-40 per sq ft",time:"5-10 days",features:["Bulk pricing","Quick completion","Minimal disruption","Professional finish"],popular:!0}],l=[{id:"emulsion",name:"Emulsion Paint",icon:"",description:"Durable and washable interior paint"},{id:"enamel",name:"Enamel Paint",icon:"",description:"Hard-wearing paint for wood and metal"},{id:"distemper",name:"Distemper Paint",icon:"",description:"Economical paint for interior walls"},{id:"texture",name:"Texture Paint",icon:"",description:"Decorative textured paint finishes"},{id:"waterproof",name:"Waterproof Paint",icon:"",description:"Water-resistant exterior paint"},{id:"premium",name:"Premium Paint",icon:"",description:"High-end luxury paint options"}],c=[{name:"Modern Neutral",colors:["#F5F5F5","#E8E8E8","#D0D0D0","#B8B8B8"]},{name:"Warm Earth",colors:["#D4A574","#C19A6B","#A0826D","#8B7355"]},{name:"Cool Blues",colors:["#E6F3FF","#B3D9FF","#80BFFF","#4DA6FF"]},{name:"Fresh Greens",colors:["#E8F5E8","#C8E6C9","#A5D6A7","#81C784"]},{name:"Bold Accent",colors:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"]},{name:"Classic White",colors:["#FFFFFF","#F8F8F8","#F0F0F0","#E8E8E8"]}],d=[{icon:"",title:"Expert Painters",description:"Skilled painters with years of experience"},{icon:"",title:"Quality Materials",description:"Premium paints from leading brands"},{icon:"",title:"Surface Preparation",description:"Thorough preparation for lasting results"},{icon:"",title:"Transparent Pricing",description:"No hidden charges, detailed quotations"},{icon:"",title:"Timely Completion",description:"Projects completed on schedule"},{icon:"",title:"Clean Service",description:"Post-painting cleanup included"}],h=[{step:1,title:"Consultation",description:"Site visit and color consultation"},{step:2,title:"Preparation",description:"Surface preparation and protection"},{step:3,title:"Painting",description:"Professional painting with quality materials"},{step:4,title:"Finishing",description:"Final inspection and cleanup"}],m=[{name:"Anjali Sharma",rating:5,comment:"Excellent interior painting service! The team was professional and the finish is perfect.",service:"Interior Painting"},{name:"Rahul Verma",rating:5,comment:"Great exterior painting work. They used quality materials and completed on time.",service:"Exterior Painting"},{name:"Priya Patel",rating:4,comment:"Beautiful texture painting in my living room. The design is exactly what I wanted.",service:"Texture Painting"}],p=[{question:"How long does painting take?",answer:"Interior painting typically takes 2-5 days, exterior painting 3-7 days, depending on the area size and surface condition."},{question:"Do you provide color consultation?",answer:"Yes, we provide free color consultation and can help you choose the perfect colors for your space."},{question:"What paint brands do you use?",answer:"We use premium paint brands including Asian Paints, Berger, Nerolac, Dulux, and other leading brands based on your preference."},{question:"Do you move furniture during painting?",answer:"Yes, we handle furniture moving and cover all surfaces to protect them during the painting process."},{question:"Is there any warranty on painting?",answer:"Yes, we provide a 2-year warranty on interior painting and 3-year warranty on exterior painting against peeling and fading."}],g=async j=>{j.preventDefault(),a(!0);try{await new Promise(v=>setTimeout(v,2e3)),console.log("Painting service booking:",{...n,service:s}),alert("Painting service booked successfully! Our team will contact you shortly."),i({name:"",email:"",phone:"",address:"",area:"",paintType:"",rooms:"",urgency:"normal",preferredTime:""})}catch{alert("Something went wrong. Please try again.")}finally{a(!1)}},x=j=>{i({...n,[j.target.name]:j.target.value})};return t.jsxs("div",{className:"painting-page",children:[t.jsx("section",{className:"service-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("div",{className:"service-icon-large",children:""}),t.jsx("h1",{children:"Professional Painting Services"}),t.jsx("p",{className:"hero-subtitle",children:"Transform your space with beautiful colors"}),t.jsx("p",{className:"hero-description",children:"Give your home or office a fresh new look with our professional painting services. From interior to exterior, texture to waterproof painting - we deliver quality results."}),t.jsxs("div",{className:"hero-features",children:[t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Expert Painters"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"Quality Materials"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("span",{className:"feature-icon",children:""}),t.jsx("span",{children:"2-Year Warranty"})]})]})]})}),t.jsx("section",{className:"color-themes-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Popular Color Themes"}),t.jsx("div",{className:"color-themes-grid",children:c.map((j,v)=>t.jsxs("div",{className:"color-theme-card",children:[t.jsx("h3",{children:j.name}),t.jsx("div",{className:"color-palette",children:j.colors.map((b,N)=>t.jsx("div",{className:"color-swatch",style:{backgroundColor:b},title:b},N))})]},v))})]})}),t.jsx("section",{className:"paint-types-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Paint Types We Offer"}),t.jsx("div",{className:"paint-types-grid",children:l.map(j=>t.jsxs("div",{className:"paint-type-card",children:[t.jsx("div",{className:"paint-icon",children:j.icon}),t.jsx("h3",{children:j.name}),t.jsx("p",{children:j.description})]},j.id))})]})}),t.jsx("section",{className:"services-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Painting Services"}),t.jsx("div",{className:"services-grid",children:o.map(j=>t.jsxs("div",{className:`service-card ${j.popular?"featured":""}`,children:[j.popular&&t.jsx("div",{className:"popular-badge",children:" Popular"}),t.jsx("h3",{children:j.name}),t.jsx("p",{children:j.description}),t.jsxs("div",{className:"service-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{children:j.price})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-icon",children:""}),t.jsx("span",{children:j.time})]})]}),t.jsx("ul",{className:"service-features",children:j.features.map((v,b)=>t.jsxs("li",{children:[" ",v]},b))}),t.jsx("button",{className:"btn-primary",onClick:()=>e(j.name),children:"Book Now"})]},j.id))})]})}),t.jsx("section",{className:"process-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Painting Process"}),t.jsx("div",{className:"process-grid",children:h.map(j=>t.jsxs("div",{className:"process-card",children:[t.jsx("div",{className:"step-number",children:j.step}),t.jsx("h3",{children:j.title}),t.jsx("p",{children:j.description})]},j.step))})]})}),t.jsx("section",{className:"why-choose-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Why Choose Smart ServiceHub for Painting?"}),t.jsx("div",{className:"features-grid",children:d.map((j,v)=>t.jsxs("div",{className:"feature-card",children:[t.jsx("div",{className:"feature-icon-large",children:j.icon}),t.jsx("h3",{children:j.title}),t.jsx("p",{children:j.description})]},v))})]})}),t.jsx("section",{className:"booking-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"booking-grid",children:[t.jsxs("div",{className:"booking-form",children:[t.jsx("h2",{children:"Book Painting Service"}),s&&t.jsxs("div",{className:"selected-service",children:[t.jsx("strong",{children:"Selected Service:"})," ",s]}),t.jsxs("form",{onSubmit:g,children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Name *"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:x,required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address *"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:x,required:!0,disabled:r})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:x,placeholder:"+91 98765 43210",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Type *"}),t.jsxs("select",{name:"service",value:s,onChange:j=>e(j.target.value),required:!0,disabled:r,children:[t.jsx("option",{value:"",children:"Select a service"}),o.map(j=>t.jsx("option",{value:j.name,children:j.name},j.id))]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Address *"}),t.jsx("input",{type:"text",name:"address",value:n.address,onChange:x,placeholder:"Enter your complete address",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Total Area (sq ft) *"}),t.jsx("input",{type:"text",name:"area",value:n.area,onChange:x,placeholder:"e.g., 1200",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Number of Rooms"}),t.jsx("input",{type:"text",name:"rooms",value:n.rooms,onChange:x,placeholder:"e.g., 2BHK, 3 rooms",disabled:r})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Paint Type Preference"}),t.jsxs("select",{name:"paintType",value:n.paintType,onChange:x,disabled:r,children:[t.jsx("option",{value:"",children:"Select paint type"}),l.map(j=>t.jsxs("option",{value:j.name,children:[j.icon," ",j.name]},j.id))]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Urgency Level"}),t.jsxs("select",{name:"urgency",value:n.urgency,onChange:x,disabled:r,children:[t.jsx("option",{value:"normal",children:"Normal (1 week)"}),t.jsx("option",{value:"urgent",children:"Urgent (3-4 days)"}),t.jsx("option",{value:"emergency",children:"Emergency (within 48 hours)"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Preferred Start Date"}),t.jsx("input",{type:"date",name:"preferredTime",value:n.preferredTime,onChange:x,disabled:r})]})]}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:r||!s,children:r?"Booking...":"Book Service"})]})]}),t.jsxs("div",{className:"booking-info",children:[t.jsx("h3",{children:"Service Information"}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Painting Hotline"}),t.jsx("p",{children:"For painting consultation and booking:"}),t.jsx("a",{href:"tel:+919876543215",className:"emergency-phone",children:"+91 98765 43215"})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Pricing Information"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Free site visit and quotation"}),t.jsx("li",{children:"Transparent per sq ft pricing"}),t.jsx("li",{children:"No hidden charges"}),t.jsx("li",{children:"Payment options: Cash, Card, UPI"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Service Warranty"}),t.jsxs("ul",{children:[t.jsx("li",{children:"2-year warranty on interior painting"}),t.jsx("li",{children:"3-year warranty on exterior painting"}),t.jsx("li",{children:"Free touch-up within warranty period"}),t.jsx("li",{children:"Quality guarantee assured"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Service Areas"}),t.jsx("p",{children:"We provide painting services in:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Mumbai & Navi Mumbai"}),t.jsx("li",{children:"Delhi & NCR"}),t.jsx("li",{children:"Bangalore"}),t.jsx("li",{children:"Chennai"}),t.jsx("li",{children:"Pune"}),t.jsx("li",{children:"Hyderabad"})]})]})]})]})})}),t.jsx("section",{className:"testimonials-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Customer Reviews"}),t.jsx("div",{className:"testimonials-grid",children:m.map((j,v)=>t.jsxs("div",{className:"testimonial-card",children:[t.jsxs("div",{className:"testimonial-header",children:[t.jsxs("div",{className:"customer-info",children:[t.jsx("strong",{children:j.name}),t.jsx("span",{className:"service-type",children:j.service})]}),t.jsx("div",{className:"rating",children:"".repeat(j.rating)})]}),t.jsxs("p",{className:"testimonial-text",children:['"',j.comment,'"']})]},v))})]})}),t.jsx("section",{className:"faq-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Frequently Asked Questions"}),t.jsx("div",{className:"faq-list",children:p.map((j,v)=>t.jsxs("details",{className:"faq-item",children:[t.jsx("summary",{className:"faq-question",children:j.question}),t.jsx("div",{className:"faq-answer",children:t.jsx("p",{children:j.answer})})]},v))})]})}),t.jsx("section",{className:"cta-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Ready to Transform Your Space?"}),t.jsx("p",{children:"Our expert painters are ready to bring your vision to life"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx("a",{href:"tel:+919876543215",className:"btn-primary emergency-btn",children:" Painting: +91 98765 43215"}),t.jsx(he,{to:"/contact",className:"btn-secondary",children:"Contact Support"})]})]})})})]})}const IK=[{id:"1",name:"John Smith",avatar:"",status:"online",phone:"+1 234-567-8901",email:"john.smith@services.com",location:{lat:40.758,lng:-73.9855,address:"123 Main St, New York, NY"},isVerified:!0,isFavorite:!0,unreadCount:3,lastMessage:"I can start the plumbing work tomorrow",lastMessageTime:new Date(Date.now()-1e3*60*5)},{id:"2",name:"Sarah Johnson",avatar:"",status:"away",phone:"+1 234-567-8902",email:"sarah.j@electrical.com",location:{lat:40.7614,lng:-73.9776,address:"456 West 34th St, New York, NY"},isVerified:!0,isFavorite:!1,unreadCount:1,lastMessage:"The electrical inspection is complete",lastMessageTime:new Date(Date.now()-1e3*60*30)},{id:"3",name:"Emily Davis",avatar:"",status:"offline",lastSeen:new Date(Date.now()-1e3*60*60),phone:"+1 234-567-8904",email:"emily.d@paint.com",location:{lat:40.7489,lng:-73.968,address:"789 East 42nd St, New York, NY"},isVerified:!0,isFavorite:!0,lastMessage:"Paint samples are ready for review",lastMessageTime:new Date(Date.now()-1e3*60*60*2)}],DK=[{id:"1",senderId:"1",receiverId:"current",content:"Hi! I'm available to discuss your plumbing project.",type:"text",timestamp:new Date(Date.now()-1e3*60*5),status:"read"},{id:"2",senderId:"current",receiverId:"1",content:"Great! When can we schedule a consultation?",type:"text",timestamp:new Date(Date.now()-1e3*60*4),status:"read"},{id:"3",senderId:"1",receiverId:"current",content:"I can start the plumbing work tomorrow",type:"text",timestamp:new Date(Date.now()-1e3*60*3),status:"delivered"}],MK=[{id:"1",type:"video",participants:[{id:"1",name:"John Smith",avatar:"",status:"online"}],status:"missed",startTime:new Date(Date.now()-1e3*60*60*2),duration:0},{id:"2",type:"audio",participants:[{id:"2",name:"Sarah Johnson",avatar:"",status:"offline"}],status:"ended",startTime:new Date(Date.now()-1e3*60*60*4),endTime:new Date(Date.now()-1e3*60*60*3),duration:1800},{id:"3",type:"video",participants:[{id:"3",name:"Emily Davis",avatar:"",status:"online"}],status:"active",startTime:new Date(Date.now()-1e3*60*5),duration:300,quality:"excellent"}];function LK({initialView:s="chats"}){const[e,n]=f.useState(s),[i,r]=f.useState(null),[a,o]=f.useState(DK),[l,c]=f.useState(""),[d,h]=f.useState(!1),[m,p]=f.useState(""),[g,x]=f.useState(!1),[j,v]=f.useState(null),[b,N]=f.useState(!1),[C,I]=f.useState(0),[D,$]=f.useState(!1),[E,k]=f.useState(!1),[_,T]=f.useState(!1),[S,F]=f.useState("excellent"),[L,oe]=f.useState(!1),[A,Z]=f.useState(!1),[Q,q]=f.useState(!1),[P,G]=f.useState(null),[U,re]=f.useState(MK),[W,xe]=f.useState(IK),[Ce,Fe]=f.useState(!1),[Me,Ie]=f.useState(null);f.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(J=>{Ie({lat:J.coords.latitude,lng:J.coords.longitude})},J=>{console.log("GPS access denied or unavailable - using mock location"),Ie({lat:40.7128,lng:-74.006})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4}):(console.log("Geolocation not supported - using mock location"),Ie({lat:40.7128,lng:-74.006}))},[]),f.useEffect(()=>{let J;return j&&j.status==="active"&&(J=setInterval(()=>{I(Ee=>Ee+1)},1e3)),()=>clearInterval(J)},[j]),f.useEffect(()=>{const J=setInterval(()=>{if(Math.random()>.8&&i){const Ee={id:Date.now().toString(),senderId:i.id,receiverId:"current",content:`Auto message from ${i.name}`,type:"text",timestamp:new Date,status:"delivered"};o($e=>[...$e,Ee])}},3e4);return()=>clearInterval(J)},[i]),f.useEffect(()=>{i&&Math.random()>.7&&(h(!0),setTimeout(()=>h(!1),3e3))},[a]);const Ze=f.useCallback(()=>{if(!l.trim()||!i)return;const J={id:Date.now().toString(),senderId:"current",receiverId:i.id,content:l,type:"text",timestamp:new Date,status:"sending"};o(Ee=>[...Ee,J]),c(""),setTimeout(()=>{o(Ee=>Ee.map($e=>$e.id===J.id?{...$e,status:"sent"}:$e))},1e3),setTimeout(()=>{o(Ee=>Ee.map($e=>$e.id===J.id?{...$e,status:"delivered"}:$e))},2e3),setTimeout(()=>{o(Ee=>Ee.map($e=>$e.id===J.id?{...$e,status:"read"}:$e))},3e3)},[l,i]),we=f.useCallback((J,Ee=!1)=>{const $e={id:Date.now().toString(),type:Ee?"video":"audio",participants:[{id:J.id,name:J.name,avatar:J.avatar}],status:"outgoing",startTime:new Date};v($e),N(Ee),x(!0),setTimeout(()=>{v(vt=>vt?{...vt,status:"active"}:null)},2e3)},[]),Le=f.useCallback(()=>{if(j){const J={...j,status:"ended",endTime:new Date,duration:C};re(Ee=>[J,...Ee]),v(null),x(!1),I(0),$(!1),k(!1),T(!1)}},[j,C]),bt=f.useCallback(()=>{if(Me&&i){const J={id:Date.now().toString(),senderId:"current",receiverId:i.id,content:"Live Location Shared",type:"location",timestamp:new Date,status:"sending",metadata:{location:{lat:Me.lat,lng:Me.lng,address:"Your current location"}}};o(Ee=>[...Ee,J]),Fe(!1)}},[Me,i]),wt=J=>{const Ee=Math.floor(J/60),$e=J%60;return`${Ee.toString().padStart(2,"0")}:${$e.toString().padStart(2,"0")}`},Et=J=>{const $e=new Date().getTime()-J.getTime(),vt=Math.floor($e/(1e3*60*60));if(vt<1){const xt=Math.floor($e/6e4);return xt===0?"Just now":`${xt}m ago`}else return vt<24?`${vt}h ago`:J.toLocaleDateString()},gt=W.filter(J=>{var Ee;return J.name.toLowerCase().includes(m.toLowerCase())||((Ee=J.lastMessage)==null?void 0:Ee.toLowerCase().includes(m.toLowerCase()))}),ge=a.filter(J=>J.senderId===(i==null?void 0:i.id)||J.receiverId===(i==null?void 0:i.id));return t.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"communication-hub",children:[t.jsxs("div",{className:`hub-container ${i?"chat-open":""}`,children:[t.jsxs("div",{className:"hub-sidebar",children:[t.jsxs("div",{className:"hub-header",children:[t.jsx("h2",{children:"Communication Hub"}),t.jsxs("div",{className:"header-actions",children:[t.jsx("button",{className:"action-btn",children:t.jsx(fi,{size:20})}),t.jsx("button",{className:"action-btn",children:t.jsx(XA,{size:20})})]})]}),t.jsxs("div",{className:"view-tabs",children:[t.jsxs("button",{className:`tab-btn ${e==="chats"?"active":""}`,onClick:()=>n("chats"),children:[t.jsx(wa,{size:18}),"Chats"]}),t.jsxs("button",{className:`tab-btn ${e==="calls"?"active":""}`,onClick:()=>n("calls"),children:[t.jsx(as,{size:18}),"Calls"]}),t.jsxs("button",{className:`tab-btn ${e==="contacts"?"active":""}`,onClick:()=>n("contacts"),children:[t.jsx(fi,{size:18}),"Contacts"]})]}),t.jsxs("div",{className:"search-container",children:[t.jsx(ll,{size:18,className:"search-icon"}),t.jsx("input",{type:"text",placeholder:"Search conversations...",value:m,onChange:J=>p(J.target.value),className:"search-input"})]}),t.jsxs("div",{className:"sidebar-content",children:[e==="chats"&&t.jsx("div",{className:"chats-list",children:gt.map(J=>t.jsxs(Xe.div,{className:`chat-item ${(i==null?void 0:i.id)===J.id?"active":""}`,onClick:()=>r(J),whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsxs("div",{className:"chat-avatar",children:[t.jsx("span",{children:J.avatar}),t.jsx("div",{className:`status-indicator ${J.status}`}),J.isVerified&&t.jsx("div",{className:"verified-badge",children:""})]}),t.jsxs("div",{className:"chat-info",children:[t.jsxs("div",{className:"chat-header",children:[t.jsx("h3",{children:J.name}),t.jsx("span",{className:"chat-time",children:J.lastMessageTime&&Et(J.lastMessageTime)})]}),t.jsxs("div",{className:"chat-preview",children:[t.jsx("p",{className:"last-message",children:J.lastMessage||"No messages yet"}),J.unreadCount&&J.unreadCount>0&&t.jsx("span",{className:"unread-count",children:J.unreadCount})]})]}),t.jsxs("div",{className:"chat-actions",children:[t.jsx("button",{className:"quick-call",onClick:Ee=>{Ee.stopPropagation(),we(J,!1)},children:t.jsx(as,{size:16})}),t.jsx("button",{className:"quick-video",onClick:Ee=>{Ee.stopPropagation(),we(J,!0)},children:t.jsx(nn,{size:16})})]})]},J.id))}),e==="calls"&&t.jsx("div",{className:"calls-list",children:t.jsxs("div",{className:"calls-section",children:[t.jsx("h3",{children:"Recent Calls"}),U.map(J=>t.jsxs(Xe.div,{className:"call-item",whileHover:{scale:1.02},children:[t.jsxs("div",{className:"call-avatar",children:[t.jsx("span",{children:J.participants[0].avatar}),t.jsx("div",{className:`call-icon ${J.type}`,children:J.type==="video"?t.jsx(nn,{size:16}):t.jsx(as,{size:16})})]}),t.jsxs("div",{className:"call-info",children:[t.jsx("h4",{children:J.participants[0].name}),t.jsxs("div",{className:"call-details",children:[t.jsx("span",{className:`call-status ${J.status}`,children:J.status==="missed"?"Missed":J.status==="ended"?"Completed":J.status}),J.duration&&J.duration>0&&t.jsx("span",{className:"call-duration",children:wt(J.duration)}),J.quality&&t.jsx("span",{className:`call-quality ${J.quality}`,children:J.quality})]})]}),t.jsx("div",{className:"call-time",children:J.startTime&&Et(J.startTime)})]},J.id))]})}),e==="contacts"&&t.jsx("div",{className:"contacts-list",children:t.jsxs("div",{className:"contacts-section",children:[t.jsx("h3",{children:"All Contacts"}),gt.map(J=>t.jsxs(Xe.div,{className:"contact-item",whileHover:{scale:1.02},children:[t.jsxs("div",{className:"contact-avatar",children:[t.jsx("span",{children:J.avatar}),t.jsx("div",{className:`status-indicator ${J.status}`}),J.isVerified&&t.jsx("div",{className:"verified-badge",children:""})]}),t.jsxs("div",{className:"contact-info",children:[t.jsx("h4",{children:J.name}),t.jsx("p",{className:"contact-status",children:J.status==="online"?"Online":J.status==="away"?"Away":J.status==="busy"?"Busy":J.lastSeen?`Last seen ${Et(J.lastSeen)}`:"Offline"})]}),t.jsxs("div",{className:"contact-actions",children:[t.jsx("button",{className:"action-btn",onClick:()=>we(J,!1),children:t.jsx(as,{size:16})}),t.jsx("button",{className:"action-btn",onClick:()=>we(J,!0),children:t.jsx(nn,{size:16})}),t.jsx("button",{className:"action-btn",onClick:()=>r(J),children:t.jsx(wa,{size:16})})]})]},J.id))]})})]})]}),i&&t.jsxs(Xe.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},className:"chat-interface",children:[t.jsxs("div",{className:"chat-header",children:[t.jsxs("div",{className:"chat-contact-info",children:[t.jsx("button",{className:"back-btn",onClick:()=>r(null),children:t.jsx(zA,{size:20})}),t.jsxs("div",{className:"contact-avatar",children:[t.jsx("span",{children:i.avatar}),t.jsx("div",{className:`status-indicator ${i.status}`})]}),t.jsxs("div",{className:"contact-details",children:[t.jsx("h3",{children:i.name}),t.jsx("p",{className:"contact-status",children:i.status==="online"?"Online":i.status==="away"?"Away":i.status==="busy"?"Busy":i.lastSeen?`Last seen ${Et(i.lastSeen)}`:"Offline"})]})]}),t.jsxs("div",{className:"chat-actions",children:[t.jsx("button",{className:"action-btn",onClick:()=>we(i,!1),children:t.jsx(as,{size:20})}),t.jsx("button",{className:"action-btn",onClick:()=>we(i,!0),children:t.jsx(nn,{size:20})}),t.jsx("button",{className:"action-btn",onClick:()=>Fe(!0),children:t.jsx(Tn,{size:20})}),t.jsx("button",{className:"action-btn",children:t.jsx(_H,{size:20})})]})]}),t.jsx("div",{className:"messages-container",children:t.jsxs("div",{className:"messages-list",children:[ge.map(J=>{var Ee,$e;return t.jsxs(Xe.div,{className:`message ${J.senderId==="current"?"sent":"received"}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[J.type==="text"&&t.jsxs("div",{className:"message-content",children:[t.jsx("p",{children:J.content}),t.jsxs("div",{className:"message-meta",children:[t.jsx("span",{className:"message-time",children:J.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),J.senderId==="current"&&t.jsxs("span",{className:`message-status ${J.status}`,children:[J.status==="sending"&&t.jsx(Lr,{size:12}),J.status==="sent"&&t.jsx(gH,{size:12}),J.status==="delivered"&&t.jsx(P1,{size:12}),J.status==="read"&&t.jsx(P1,{size:12,color:"#3b82f6"})]})]})]}),J.type==="location"&&t.jsx("div",{className:"message-location",children:t.jsxs("div",{className:"location-content",children:[t.jsx(Tn,{size:20}),t.jsxs("div",{children:[t.jsx("p",{children:"Live Location Shared"}),t.jsx("span",{className:"location-address",children:($e=(Ee=J.metadata)==null?void 0:Ee.location)==null?void 0:$e.address})]})]})})]},J.id)}),d&&t.jsxs("div",{className:"typing-indicator",children:[t.jsxs("div",{className:"typing-dots",children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]}),t.jsxs("span",{className:"typing-text",children:[i.name," is typing..."]})]})]})}),t.jsxs("div",{className:"message-input-container",children:[t.jsxs("div",{className:"input-actions",children:[t.jsx("button",{className:"attach-btn",onClick:()=>Z(!A),children:t.jsx(YA,{size:20})}),t.jsx("button",{className:"emoji-btn",onClick:()=>oe(!L),children:t.jsx(BG,{size:20})})]}),t.jsx("textarea",{ref:G,value:l,onChange:J=>c(J.target.value),placeholder:"Type a message...",className:"message-input",onKeyPress:J=>{J.key==="Enter"&&!J.shiftKey&&(J.preventDefault(),Ze())}}),t.jsxs("div",{className:"input-actions",children:[t.jsx("button",{className:`record-btn ${Q?"recording":""}`,onMouseDown:()=>q(!0),onMouseUp:()=>q(!1),children:t.jsx(rx,{size:20})}),t.jsx("button",{className:"send-btn",onClick:Ze,disabled:!l.trim(),children:t.jsx(JA,{size:20})})]}),t.jsx(Gs,{children:A&&t.jsxs(Xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"attach-menu",children:[t.jsxs("button",{className:"attach-option",children:[t.jsx($H,{size:20}),t.jsx("span",{children:"Photo/Video"})]}),t.jsxs("button",{className:"attach-option",children:[t.jsx(PH,{size:20}),t.jsx("span",{children:"Document"})]}),t.jsxs("button",{className:"attach-option",onClick:bt,children:[t.jsx(Tn,{size:20}),t.jsx("span",{children:"Location"})]}),t.jsxs("button",{className:"attach-option",children:[t.jsx(ZA,{size:20}),t.jsx("span",{children:"Contact"})]})]})})]})]})]}),t.jsx(Gs,{children:g&&j&&t.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"call-overlay",children:t.jsxs(Xe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:`call-interface ${b?"video-call":"audio-call"}`,children:[b&&t.jsxs("div",{className:"video-background",children:[t.jsx("div",{className:"remote-video",children:t.jsxs("div",{className:"video-placeholder",children:[t.jsx("span",{children:j.participants[0].avatar}),t.jsx("p",{children:j.participants[0].name})]})}),t.jsx("div",{className:"local-video",children:t.jsx("div",{className:"video-placeholder small",children:t.jsx("span",{children:"You"})})})]}),t.jsxs("div",{className:"call-header",children:[t.jsxs("div",{className:"call-info",children:[t.jsx("h3",{children:j.participants[0].name}),t.jsxs("div",{className:"call-status",children:[j.status==="outgoing"&&"Calling...",j.status==="incoming"&&"Incoming call...",j.status==="active"&&wt(C),j.status==="ended"&&"Call ended"]}),S&&j.status==="active"&&t.jsxs("div",{className:`call-quality-indicator ${S}`,children:[t.jsx(Mi,{size:16}),t.jsx("span",{children:S})]})]}),t.jsx("button",{className:"minimize-btn",children:t.jsx(sG,{size:20})})]}),t.jsxs("div",{className:"call-controls",children:[t.jsx("button",{className:`control-btn ${D?"active":""}`,onClick:()=>$(!D),children:D?t.jsx(ao,{size:24}):t.jsx(rx,{size:24})}),b&&t.jsx("button",{className:`control-btn ${E?"active":""}`,onClick:()=>k(!E),children:E?t.jsx(cH,{size:24}):t.jsx(uH,{size:24})}),t.jsx("button",{className:`control-btn ${_?"active":""}`,onClick:()=>T(!_),children:_?t.jsx(ox,{size:24}):t.jsx(eR,{size:24})}),t.jsx("button",{className:"control-btn",onClick:()=>{},children:t.jsx(Rm,{size:24})}),t.jsx("button",{className:`end-call-btn ${j.status==="active"?"active":""}`,onClick:Le,children:t.jsx(as,{size:24})})]}),!b&&t.jsxs("div",{className:"audio-call-visual",children:[t.jsxs("div",{className:"call-avatar-large",children:[t.jsx("span",{children:j.participants[0].avatar}),t.jsx("div",{className:`status-indicator ${j.participants[0].status||"online"}`})]}),t.jsx("div",{className:"audio-waves",children:[...Array(5)].map((J,Ee)=>t.jsx("div",{className:"wave"},Ee))})]})]})})}),t.jsx(Gs,{children:Ce&&t.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"location-modal",onClick:()=>Fe(!1),children:t.jsxs(Xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"location-content",onClick:J=>J.stopPropagation(),children:[t.jsx("h3",{children:"Share Location"}),t.jsxs("p",{children:["Share your current location with ",i==null?void 0:i.name]}),Me&&t.jsxs("div",{className:"location-preview",children:[t.jsx(Tn,{size:24}),t.jsx("span",{children:"Your current location"})]}),t.jsxs("div",{className:"location-actions",children:[t.jsx("button",{className:"cancel-btn",onClick:()=>Fe(!1),children:"Cancel"}),t.jsx("button",{className:"share-btn",onClick:bt,children:"Share Location"})]})]})})})]})}const OK=[{id:"1",name:"John Smith",avatar:"",category:"Plumbing",location:{id:"1",lat:40.758,lng:-73.9855,timestamp:new Date,accuracy:10,type:"provider",metadata:{name:"John Smith",address:"123 Main St, New York, NY",status:"active"}},status:"moving",serviceRadius:15,lastUpdate:new Date,contact:{phone:"+1 234-567-8901",email:"john.smith@services.com"},rating:4.9,verified:!0},{id:"2",name:"Sarah Johnson",avatar:"",category:"Electrical",location:{id:"2",lat:40.7614,lng:-73.9776,timestamp:new Date,accuracy:8,type:"provider",metadata:{name:"Sarah Johnson",address:"456 West 34th St, New York, NY",status:"active"}},status:"online",serviceRadius:20,lastUpdate:new Date,contact:{phone:"+1 234-567-8902",email:"sarah.j@electrical.com"},rating:4.8,verified:!0}],VK=[{id:"1",name:"Standard",type:"standard",visible:!0,opacity:1},{id:"2",name:"Satellite",type:"satellite",visible:!1,opacity:.8},{id:"3",name:"Traffic",type:"traffic",visible:!1,opacity:.7},{id:"4",name:"Transit",type:"transit",visible:!1,opacity:.6}];function FK(){var B;Ct();const s=f.useRef(null),[e,n]=f.useState(null),[i,r]=f.useState(OK),[a,o]=f.useState([]),[l,c]=f.useState(null),[d,h]=f.useState(null),[m,p]=f.useState({lat:40.7128,lng:-74.006}),[g,x]=f.useState(14),[j,v]=f.useState(VK),[b,N]=f.useState(!1),[C,I]=f.useState(!0),[D,$]=f.useState(!0),[E,k]=f.useState(!0),[_,T]=f.useState(!1),[S,F]=f.useState(!1),[L,oe]=f.useState(null),[A,Z]=f.useState("excellent"),[Q,q]=f.useState(85),[P,G]=f.useState("4G"),[U,re]=f.useState("standard"),[W,xe]=f.useState(!1),[Ce,Fe]=f.useState("live"),[Me,Ie]=f.useState(""),[Ze,we]=f.useState(!1),[Le,bt]=f.useState(null),[wt,Et]=f.useState([]),[gt,ge]=f.useState([]),[J,Ee]=f.useState(!1),[$e,vt]=f.useState(!1),[xt,At]=f.useState(0),[K,O]=f.useState(0);f.useEffect(()=>{if(navigator.geolocation){const z=navigator.geolocation.watchPosition(ye=>{const pe={id:"current",lat:ye.coords.latitude,lng:ye.coords.longitude,timestamp:new Date,accuracy:ye.coords.accuracy,altitude:ye.coords.altitude||void 0,speed:ye.coords.speed||void 0,heading:ye.coords.heading||void 0,type:"current"};if(n(pe),p({lat:pe.lat,lng:pe.lng}),oe(pe.accuracy),Z("excellent"),ye.coords.heading!==null&&O(ye.coords.heading),_&&!S&&l){const it={...l,points:[...l.points,pe],distance:se(l.points.concat([pe])),duration:Math.floor((Date.now()-l.startTime.getTime())/1e3)};c(it)}},ye=>{console.log("GPS access denied or unavailable - using mock location"),Z("none");const pe={id:"current",lat:40.7128,lng:-74.006,timestamp:new Date,accuracy:50,type:"current"};n(pe),p({lat:pe.lat,lng:pe.lng}),oe(pe.accuracy)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4});return()=>navigator.geolocation.clearWatch(z)}else{console.log("Geolocation not supported - using mock location");const z={id:"current",lat:40.7128,lng:-74.006,timestamp:new Date,accuracy:50,type:"current"};n(z),p({lat:z.lat,lng:z.lng}),oe(z.accuracy)}},[_,S,l]),f.useEffect(()=>{"getBattery"in navigator&&navigator.getBattery().then(z=>{q(Math.round(z.level*100)),z.addEventListener("levelchange",()=>{q(Math.round(z.level*100))})})},[]),f.useEffect(()=>{const z=setInterval(()=>{r(ye=>ye.map(pe=>{if(pe.status==="moving"&&Math.random()>.7){const it=pe.location.lat+(Math.random()-.5)*.001,ie=pe.location.lng+(Math.random()-.5)*.001;return{...pe,location:{...pe.location,lat:it,lng:ie,timestamp:new Date}}}return pe}))},5e3);return()=>clearInterval(z)},[]);const se=z=>{let ye=0;for(let pe=1;pe<z.length;pe++){const it=z[pe-1],ie=z[pe],st=6371,Rt=(ie.lat-it.lat)*Math.PI/180,_e=(ie.lng-it.lng)*Math.PI/180,rt=Math.sin(Rt/2)*Math.sin(Rt/2)+Math.cos(it.lat*Math.PI/180)*Math.cos(ie.lat*Math.PI/180)*Math.sin(_e/2)*Math.sin(_e/2),Ue=2*Math.atan2(Math.sqrt(rt),Math.sqrt(1-rt));ye+=st*Ue}return ye},ce=f.useCallback(()=>{const z={id:Date.now().toString(),name:`Tracking Session ${a.length+1}`,startTime:new Date,distance:0,duration:0,points:e?[e]:[],status:"active",participants:[],shared:!1};c(z),o(ye=>[z,...ye]),T(!0),F(!1),Ee(!0)},[e,a]),ke=f.useCallback(()=>{F(z=>!z),l&&c({...l,status:S?"active":"paused"})},[S,l]),tt=f.useCallback(()=>{if(l){const z={...l,endTime:new Date,status:"completed"};o(ye=>ye.map(pe=>pe.id===l.id?z:pe)),c(null),T(!1),F(!1),Ee(!1)}},[l]),yt=f.useCallback(()=>{if(e){const z={title:"My Current Location",text:`Check out my current location: ${e.lat}, ${e.lng}`,url:`https://maps.google.com/?q=${e.lat},${e.lng}`};navigator.share?navigator.share(z):navigator.clipboard.writeText(z.url)}},[e]),ht=f.useCallback(()=>{e&&(p({lat:e.lat,lng:e.lng}),x(16))},[e]),V=f.useCallback(z=>{v(ye=>ye.map(pe=>pe.id===z?{...pe,visible:!pe.visible}:pe))},[]),ee=z=>{const ye=Math.floor(z/3600),pe=Math.floor(z%3600/60),it=z%60;return ye>0?`${ye}h ${pe}m ${it}s`:pe>0?`${pe}m ${it}s`:`${it}s`},de=z=>z<1?`${Math.round(z*1e3)}m`:`${z.toFixed(2)}km`,We=()=>{switch(A){case"excellent":return t.jsx(Mi,{className:"signal-excellent",size:20});case"good":return t.jsx(Mi,{className:"signal-good",size:20});case"poor":return t.jsx(Mi,{className:"signal-poor",size:20});case"none":return t.jsx(tR,{size:20});default:return t.jsx(Mi,{size:20})}},jt=()=>Q>60?t.jsx(Pm,{className:"battery-good",size:20}):Q>20?t.jsx(Pm,{className:"battery-medium",size:20}):t.jsx(WA,{className:"battery-low",size:20});return t.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`advanced-map-tracking ${W?"fullscreen":""}`,children:[t.jsxs("div",{className:"map-container",ref:s,children:[t.jsx("div",{className:"map-view",children:t.jsxs("div",{className:"map-surface",style:{transform:`scale(${1+(g-14)*.1}) rotate(${xt}deg)`,background:U==="satellite"?"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)":U==="terrain"?"linear-gradient(135deg, #8b7355 0%, #a0826d 100%)":"linear-gradient(135deg, #e8f4f8 0%, #d1e7dd 100%)"},children:[e&&t.jsx(Xe.div,{className:"current-location-marker",style:{left:`${50+(e.lng-m.lng)*1e3}%`,top:`${50-(e.lat-m.lat)*1e3}%`},animate:{scale:_?[1,1.2,1]:1},transition:{duration:2,repeat:1/0},children:t.jsxs("div",{className:"location-dot",children:[t.jsx(Lc,{size:24}),L&&t.jsx("div",{className:"accuracy-circle",style:{width:`${L*2}px`,height:`${L*2}px`}})]})}),C&&i.map(z=>t.jsxs(Xe.div,{className:`provider-marker ${z.status}`,style:{left:`${50+(z.location.lng-m.lng)*1e3}%`,top:`${50-(z.location.lat-m.lat)*1e3}%`},whileHover:{scale:1.2},onClick:()=>h(z),children:[t.jsxs("div",{className:"provider-avatar",children:[t.jsx("span",{children:z.avatar}),t.jsx("div",{className:`status-dot ${z.status}`})]}),E&&t.jsx("div",{className:"service-area",style:{width:`${z.serviceRadius*100}px`,height:`${z.serviceRadius*100}px`}})]},z.id)),D&&wt.length>1&&t.jsx("svg",{className:"route-overlay",children:t.jsx("polyline",{points:wt.map(z=>`${50+(z.lng-m.lng)*1e3},${50-(z.lat-m.lat)*1e3}`).join(" "),fill:"none",stroke:"#667eea",strokeWidth:"3",strokeDasharray:"5,5"})}),gt.map((z,ye)=>t.jsx("div",{className:"waypoint-marker",style:{left:`${50+(z.lng-m.lng)*1e3}%`,top:`${50-(z.lat-m.lat)*1e3}%`},children:t.jsx("div",{className:"waypoint-number",children:ye+1})},z.id)),t.jsxs("div",{className:"compass",style:{transform:`rotate(${K}deg)`},children:[t.jsx(bH,{size:40}),t.jsx("div",{className:"compass-needle"})]})]})}),t.jsxs("div",{className:"map-controls",children:[t.jsxs("div",{className:"zoom-controls",children:[t.jsx("button",{className:"control-btn",onClick:()=>x(z=>Math.min(20,z+1)),children:t.jsx(xG,{size:20})}),t.jsx("button",{className:"control-btn",onClick:()=>x(z=>Math.max(1,z-1)),children:t.jsx(iG,{size:20})})]}),t.jsxs("div",{className:"layer-controls",children:[t.jsx("button",{className:`control-btn ${b?"active":""}`,onClick:()=>N(!b),children:t.jsx(KA,{size:20})}),t.jsx("button",{className:`control-btn ${C?"active":""}`,onClick:()=>I(!C),children:t.jsx(fi,{size:20})}),t.jsx("button",{className:`control-btn ${D?"active":""}`,onClick:()=>$(!D),children:t.jsx(ax,{size:20})}),t.jsx("button",{className:`control-btn ${E?"active":""}`,onClick:()=>k(!E),children:t.jsx(Lc,{size:20})})]}),t.jsxs("div",{className:"view-controls",children:[t.jsx("button",{className:"control-btn",onClick:ht,children:t.jsx(Yf,{size:20})}),t.jsx("button",{className:"control-btn",onClick:()=>At(z=>z+90),children:t.jsx(bG,{size:20})}),t.jsx("button",{className:`control-btn ${W?"active":""}`,onClick:()=>xe(!W),children:t.jsx(RH,{size:20})})]})]}),t.jsx("div",{className:"search-bar",children:t.jsxs("div",{className:"search-input-container",children:[t.jsx(ll,{size:20,className:"search-icon"}),t.jsx("input",{type:"text",placeholder:"Search location, provider, or address...",value:Me,onChange:z=>Ie(z.target.value),className:"search-input"}),Me&&t.jsx("button",{className:"clear-search",onClick:()=>Ie(""),children:t.jsx(hi,{size:18})})]})}),t.jsxs("div",{className:"status-bar",children:[t.jsxs("div",{className:"status-left",children:[t.jsxs("div",{className:"status-item",children:[We(),t.jsx("span",{children:P})]}),t.jsxs("div",{className:"status-item",children:[jt(),t.jsxs("span",{children:[Q,"%"]})]}),L&&t.jsxs("div",{className:"status-item",children:[t.jsx(Lc,{size:16}),t.jsxs("span",{children:["",Math.round(L),"m"]})]})]}),t.jsxs("div",{className:"status-right",children:[t.jsxs("div",{className:"status-item",children:[t.jsx(Tn,{size:16}),t.jsxs("span",{children:[g,"z"]})]}),t.jsxs("div",{className:"status-item",children:[t.jsx(Lr,{size:16}),t.jsx("span",{children:new Date().toLocaleTimeString()})]})]})]})]}),t.jsxs("div",{className:"side-panel",children:[t.jsxs("div",{className:"tracking-controls",children:[t.jsx("h3",{children:"Live Tracking"}),_?t.jsxs("div",{className:"tracking-active",children:[t.jsxs("div",{className:"tracking-info",children:[t.jsxs("div",{className:"tracking-status",children:[t.jsx("div",{className:`status-indicator ${S?"paused":"active"}`}),t.jsx("span",{children:S?"Paused":"Recording"})]}),l&&t.jsxs("div",{className:"tracking-stats",children:[t.jsxs("div",{className:"stat",children:[t.jsx("span",{className:"stat-label",children:"Distance"}),t.jsx("span",{className:"stat-value",children:de(l.distance)})]}),t.jsxs("div",{className:"stat",children:[t.jsx("span",{className:"stat-label",children:"Duration"}),t.jsx("span",{className:"stat-value",children:ee(l.duration)})]}),t.jsxs("div",{className:"stat",children:[t.jsx("span",{className:"stat-label",children:"Points"}),t.jsx("span",{className:"stat-value",children:l.points.length})]})]})]}),t.jsxs("div",{className:"tracking-actions",children:[t.jsx("button",{className:"control-btn",onClick:ke,children:S?t.jsx(R1,{size:20}):t.jsx(pG,{size:20})}),t.jsx("button",{className:"control-btn",onClick:tt,children:t.jsx($G,{size:20})}),t.jsx("button",{className:"control-btn",onClick:yt,children:t.jsx(Rm,{size:20})})]})]}):t.jsxs("button",{className:"start-tracking-btn",onClick:ce,children:[t.jsx(R1,{size:20}),"Start Tracking"]})]}),t.jsxs("div",{className:"map-style-selector",children:[t.jsx("h3",{children:"Map Style"}),t.jsx("div",{className:"style-options",children:[{id:"standard",name:"Standard",icon:ix},{id:"satellite",name:"Satellite",icon:kG},{id:"terrain",name:"Terrain",icon:GA}].map(z=>t.jsxs("button",{className:`style-option ${U===z.id?"active":""}`,onClick:()=>re(z.id),children:[t.jsx(z.icon,{size:20}),t.jsx("span",{children:z.name})]},z.id))})]}),t.jsx(Gs,{children:b&&t.jsxs(Xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"layer-panel",children:[t.jsx("h3",{children:"Map Layers"}),t.jsx("div",{className:"layer-list",children:j.map(z=>t.jsxs("div",{className:"layer-item",children:[t.jsxs("label",{className:"layer-toggle",children:[t.jsx("input",{type:"checkbox",checked:z.visible,onChange:()=>V(z.id)}),t.jsx("span",{className:"layer-name",children:z.name})]}),t.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:z.opacity,onChange:ye=>{const pe=parseFloat(ye.target.value);v(it=>it.map(ie=>ie.id===z.id?{...ie,opacity:pe}:ie))},className:"opacity-slider"})]},z.id))})]})}),t.jsxs("div",{className:"provider-list",children:[t.jsx("h3",{children:"Nearby Providers"}),t.jsx("div",{className:"providers",children:i.map(z=>t.jsxs(Xe.div,{className:`provider-card ${(d==null?void 0:d.id)===z.id?"selected":""}`,whileHover:{scale:1.02},onClick:()=>h(z),children:[t.jsxs("div",{className:"provider-info",children:[t.jsxs("div",{className:"provider-avatar",children:[t.jsx("span",{children:z.avatar}),t.jsx("div",{className:`status-dot ${z.status}`})]}),t.jsxs("div",{className:"provider-details",children:[t.jsx("h4",{children:z.name}),t.jsx("p",{children:z.category}),t.jsxs("div",{className:"provider-meta",children:[t.jsxs("span",{className:"rating",children:[" ",z.rating]}),t.jsx("span",{className:"distance",children:e&&de(se([e,z.location]))})]})]})]}),t.jsxs("div",{className:"provider-actions",children:[t.jsx("button",{className:"action-btn",children:t.jsx(as,{size:16})}),t.jsx("button",{className:"action-btn",children:t.jsx(wa,{size:16})}),t.jsx("button",{className:"action-btn",children:t.jsx(Yf,{size:16})})]})]},z.id))})]}),a.length>0&&t.jsxs("div",{className:"tracking-sessions",children:[t.jsx("h3",{children:"Tracking History"}),t.jsx("div",{className:"sessions-list",children:a.slice(0,5).map(z=>t.jsxs("div",{className:"session-item",children:[t.jsxs("div",{className:"session-info",children:[t.jsx("h4",{children:z.name}),t.jsxs("p",{children:[de(z.distance),"  ",ee(z.duration)]}),t.jsx("span",{className:`session-status ${z.status}`,children:z.status==="active"?" Live":z.status==="paused"?" Paused":" Completed"})]}),t.jsxs("div",{className:"session-actions",children:[t.jsx("button",{className:"action-btn",children:t.jsx(HA,{size:16})}),t.jsx("button",{className:"action-btn",children:t.jsx(Rm,{size:16})})]})]},z.id))})]})]}),t.jsx(Gs,{children:d&&t.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"provider-modal",onClick:()=>h(null),children:t.jsxs(Xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"provider-modal-content",onClick:z=>z.stopPropagation(),children:[t.jsxs("div",{className:"provider-header",children:[t.jsxs("div",{className:"provider-avatar-large",children:[t.jsx("span",{children:d.avatar}),t.jsx("div",{className:`status-dot ${d.status}`})]}),t.jsxs("div",{className:"provider-details",children:[t.jsx("h3",{children:d.name}),t.jsx("p",{children:d.category}),t.jsxs("div",{className:"provider-rating",children:[" ",d.rating,"  ",d.verified?" Verified":""]})]}),t.jsx("button",{className:"close-btn",onClick:()=>h(null),children:t.jsx(hi,{size:20})})]}),t.jsxs("div",{className:"provider-location",children:[t.jsx("h4",{children:"Current Location"}),t.jsx("p",{children:(B=d.location.metadata)==null?void 0:B.address}),t.jsxs("div",{className:"location-stats",children:[t.jsxs("div",{className:"stat",children:[t.jsx("span",{children:"Distance"}),t.jsx("span",{children:e&&de(se([e,d.location]))})]}),t.jsxs("div",{className:"stat",children:[t.jsx("span",{children:"Service Area"}),t.jsxs("span",{children:[d.serviceRadius,"km"]})]}),t.jsxs("div",{className:"stat",children:[t.jsx("span",{children:"Last Update"}),t.jsxs("span",{children:[ee(Math.floor((Date.now()-d.lastUpdate.getTime())/1e3))," ago"]})]})]})]}),t.jsxs("div",{className:"provider-contact",children:[t.jsx("h4",{children:"Contact"}),t.jsxs("div",{className:"contact-info",children:[t.jsxs("div",{className:"contact-item",children:[t.jsx(as,{size:16}),t.jsx("span",{children:d.contact.phone})]}),t.jsxs("div",{className:"contact-item",children:[t.jsx(wa,{size:16}),t.jsx("span",{children:d.contact.email})]})]})]}),t.jsxs("div",{className:"provider-actions",children:[t.jsxs("button",{className:"action-btn primary",children:[t.jsx(Yf,{size:20}),"Get Directions"]}),t.jsxs("button",{className:"action-btn",children:[t.jsx(as,{size:20}),"Call"]}),t.jsxs("button",{className:"action-btn",children:[t.jsx(wa,{size:20}),"Message"]}),t.jsxs("button",{className:"action-btn",children:[t.jsx(nn,{size:20}),"Video Call"]})]})]})})})]})}const M1=[{id:"1",name:"John Smith",avatar:"",isMuted:!1,isVideoOff:!1,isScreenSharing:!1,connectionQuality:"excellent",batteryLevel:85,signalStrength:"excellent",role:"host",isSpeaking:!1,audioLevel:.3},{id:"2",name:"Sarah Johnson",avatar:"",isMuted:!0,isVideoOff:!1,isScreenSharing:!1,connectionQuality:"good",batteryLevel:67,signalStrength:"good",role:"participant",isSpeaking:!1,audioLevel:.1},{id:"3",name:"Emily Davis",avatar:"",isMuted:!1,isVideoOff:!0,isScreenSharing:!1,connectionQuality:"excellent",batteryLevel:92,signalStrength:"excellent",role:"participant",isSpeaking:!0,audioLevel:.7}],BK=[{id:"none",name:"None",url:""},{id:"blur",name:"Blur",url:""},{id:"office",name:"Office",url:"/backgrounds/office.jpg"},{id:"nature",name:"Nature",url:"/backgrounds/nature.jpg"},{id:"abstract",name:"Abstract",url:"/backgrounds/abstract.jpg"}];function UK(){var ke,tt,yt,ht;const{callId:s}=Ad(),e=Ct();f.useRef(null);const n=f.useRef(null),i=f.useRef(null),r=f.useRef(null),[a,o]=f.useState("connecting"),[l,c]=f.useState(M1),[d,h]=f.useState(M1[0]),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[j,v]=f.useState(!1),[b,N]=f.useState(!1),[C,I]=f.useState(!0),[D,$]=f.useState(0),[E,k]=f.useState(!1),[_,T]=f.useState(!1),[S,F]=f.useState(!1),[L,oe]=f.useState(!1),[A,Z]=f.useState(!1),[Q,q]=f.useState("grid"),[P,G]=f.useState([]),[U,re]=f.useState(""),[W,xe]=f.useState({videoQuality:"auto",audioQuality:"high",echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,hdVideo:!0,virtualBackground:"none",frameRate:30}),[Ce,Fe]=f.useState({duration:0,dataUsage:{sent:0,received:0},connectionQuality:"excellent",packetLoss:.1,latency:25,bandwidth:{upload:2.5,download:5.2}}),[Me,Ie]=f.useState(85),[Ze,we]=f.useState("excellent"),[Le,bt]=f.useState("5G");f.useEffect(()=>{let V;return a==="connected"&&(V=setInterval(()=>{$(ee=>ee+1),Fe(ee=>({...ee,duration:ee.duration+1,dataUsage:{sent:ee.dataUsage.sent+Math.random()*.1,received:ee.dataUsage.received+Math.random()*.2}}))},1e3)),()=>clearInterval(V)},[a]),f.useEffect(()=>{setTimeout(()=>{o("connected")},2e3)},[]),f.useEffect(()=>{const V=setInterval(()=>{c(ee=>ee.map(de=>({...de,isSpeaking:Math.random()>.8,audioLevel:Math.random()})))},500);return()=>clearInterval(V)},[]),f.useEffect(()=>{"getBattery"in navigator&&navigator.getBattery().then(V=>{Ie(Math.round(V.level*100)),V.addEventListener("levelchange",()=>{Ie(Math.round(V.level*100))})})},[]),f.useEffect(()=>{r.current&&(r.current.scrollTop=r.current.scrollHeight)},[P]);const wt=f.useCallback(()=>{o("ended"),setTimeout(()=>{e("/communication-hub")},1e3)},[e]),Et=f.useCallback(()=>{p(V=>!V),c(V=>V.map(ee=>ee.id===d.id?{...ee,isMuted:!m}:ee))},[m,d.id]),gt=f.useCallback(()=>{x(V=>!V),c(V=>V.map(ee=>ee.id===d.id?{...ee,isVideoOff:!g}:ee))},[g,d.id]),ge=f.useCallback(()=>{v(V=>!V),c(V=>V.map(ee=>ee.id===d.id?{...ee,isScreenSharing:!j}:ee))},[j,d.id]),J=f.useCallback(()=>{N(V=>!V),G(b?V=>[...V,{id:Date.now().toString(),senderId:"system",senderName:"System",content:"Recording stopped and saved",timestamp:new Date,type:"system"}]:V=>[...V,{id:Date.now().toString(),senderId:"system",senderName:"System",content:"Recording started",timestamp:new Date,type:"system"}])},[b]),Ee=f.useCallback(()=>{if(!U.trim())return;const V={id:Date.now().toString(),senderId:d.id,senderName:d.name,content:U,timestamp:new Date,type:"text"};G(ee=>[...ee,V]),re("")},[U,d]),$e=f.useCallback(()=>{I(V=>!V)},[]),vt=f.useCallback(V=>{q(V)},[]),xt=V=>{const ee=Math.floor(V/3600),de=Math.floor(V%3600/60),We=V%60;return ee>0?`${ee.toString().padStart(2,"0")}:${de.toString().padStart(2,"0")}:${We.toString().padStart(2,"0")}`:`${de.toString().padStart(2,"0")}:${We.toString().padStart(2,"0")}`},At=V=>V<1024?`${V.toFixed(1)} B`:V<1024*1024?`${(V/1024).toFixed(1)} KB`:`${(V/(1024*1024)).toFixed(1)} MB`,K=V=>{switch(V){case"excellent":return"#10b981";case"good":return"#f59e0b";case"poor":return"#ef4444";default:return"#6b7280"}},O=()=>{switch(Ze){case"excellent":return t.jsx(Mi,{className:"signal-excellent",size:16});case"good":return t.jsx(Mi,{className:"signal-good",size:16});case"poor":return t.jsx(Mi,{className:"signal-poor",size:16});case"none":return t.jsx(tR,{size:16});default:return t.jsx(Mi,{size:16})}},se=()=>Me>60?t.jsx(Pm,{className:"battery-good",size:16}):Me>20?t.jsx(Pm,{className:"battery-medium",size:16}):t.jsx(WA,{className:"battery-low",size:16});l.filter(V=>!V.isVideoOff||!V.isMuted);const ce=l.find(V=>V.isScreenSharing);return t.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`real-video-call ${A?"fullscreen":""}`,children:[t.jsxs("div",{className:"call-header",children:[t.jsxs("div",{className:"call-info",children:[t.jsx("button",{className:"back-btn",onClick:wt,children:t.jsx(zA,{size:20})}),t.jsxs("div",{className:"call-details",children:[t.jsx("h3",{children:"Video Call"}),t.jsxs("div",{className:"call-meta",children:[t.jsx("span",{className:`call-status ${a}`,children:a==="connecting"?"Connecting...":a==="connected"?xt(D):a==="reconnecting"?"Reconnecting...":"Call Ended"}),t.jsxs("span",{className:"participant-count",children:[l.length," participants"]}),b&&t.jsxs("span",{className:"recording-indicator",children:[t.jsx(A1,{size:14}),"Recording"]})]})]})]}),t.jsxs("div",{className:"call-controls-header",children:[t.jsxs("div",{className:"connection-status",children:[O(),t.jsx("span",{children:Le})]}),t.jsxs("div",{className:"battery-status",children:[se(),t.jsxs("span",{children:[Me,"%"]})]}),t.jsx("button",{className:`control-btn ${L?"active":""}`,onClick:()=>oe(!L),children:t.jsx(Tm,{size:20})}),t.jsx("button",{className:`control-btn ${A?"active":""}`,onClick:()=>Z(!A),children:t.jsx(QH,{size:20})})]})]}),t.jsxs("div",{className:"call-main",children:[t.jsxs("div",{className:`video-grid layout-${Q}`,children:[ce&&t.jsxs("div",{className:"video-container screen-share main",children:[t.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,className:"video-element"}),t.jsx("div",{className:"participant-overlay",children:t.jsxs("div",{className:"participant-info",children:[t.jsxs("span",{className:"participant-name",children:[ce.name,"'s Screen"]}),t.jsxs("div",{className:"participant-status",children:[t.jsx(I1,{size:16}),t.jsx("span",{children:"Sharing"})]})]})})]}),(Q==="speaker"||Q==="focus")&&!ce&&t.jsxs("div",{className:"video-container main",children:[t.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"video-element"}),t.jsxs("div",{className:"participant-overlay",children:[t.jsxs("div",{className:"participant-info",children:[t.jsx("span",{className:"participant-name",children:((ke=l[1])==null?void 0:ke.name)||"Participant"}),t.jsxs("div",{className:"participant-status",children:[((tt=l[1])==null?void 0:tt.isMuted)&&t.jsx(ao,{size:16}),((yt=l[1])==null?void 0:yt.isSpeaking)&&t.jsx("div",{className:"speaking-indicator"})]})]}),t.jsx("div",{className:"quality-indicator",children:t.jsx("div",{className:"quality-dot",style:{backgroundColor:K(((ht=l[1])==null?void 0:ht.connectionQuality)||"good")}})})]})]}),t.jsx("div",{className:`participants-grid ${Q}`,children:l.map(V=>t.jsxs("div",{className:`video-container ${V.id===d.id?"self":""} ${V.isSpeaking?"speaking":""}`,children:[V.isVideoOff?t.jsxs("div",{className:"video-placeholder",children:[t.jsx("span",{className:"participant-avatar",children:V.avatar}),t.jsx("span",{className:"participant-name",children:V.name}),V.isMuted&&t.jsx(ao,{size:24})]}):t.jsx("video",{autoPlay:!0,playsInline:!0,className:"video-element",muted:V.id===d.id}),t.jsxs("div",{className:"participant-overlay",children:[t.jsxs("div",{className:"participant-info",children:[t.jsx("span",{className:"participant-name",children:V.name}),t.jsxs("div",{className:"participant-status",children:[V.isMuted&&t.jsx(ao,{size:14}),V.role==="host"&&t.jsx(un,{size:14}),V.isSpeaking&&t.jsx("div",{className:"speaking-indicator"})]})]}),t.jsx("div",{className:"connection-quality",children:t.jsx("div",{className:"quality-dot",style:{backgroundColor:K(V.connectionQuality)}})})]}),V.isSpeaking&&t.jsx("div",{className:"audio-level-indicator",children:t.jsx("div",{className:"audio-bar",style:{height:`${V.audioLevel?V.audioLevel*100:0}%`}})})]},V.id))})]}),t.jsxs("div",{className:"side-panels",children:[t.jsx(Gs,{children:E&&t.jsxs(Xe.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},className:"participants-panel",children:[t.jsxs("div",{className:"panel-header",children:[t.jsxs("h3",{children:["Participants (",l.length,")"]}),t.jsx("button",{className:"close-btn",onClick:()=>k(!1),children:t.jsx(hi,{size:20})})]}),t.jsx("div",{className:"participants-list",children:l.map(V=>t.jsxs("div",{className:"participant-item",children:[t.jsxs("div",{className:"participant-avatar",children:[t.jsx("span",{children:V.avatar}),V.isSpeaking&&t.jsx("div",{className:"speaking-ring"})]}),t.jsxs("div",{className:"participant-details",children:[t.jsxs("div",{className:"participant-name-row",children:[t.jsx("span",{className:"name",children:V.name}),V.role==="host"&&t.jsx(un,{size:14,className:"host-badge"})]}),t.jsxs("div",{className:"participant-status",children:[V.isMuted&&t.jsx(ao,{size:14}),V.isVideoOff&&t.jsx(D1,{size:14}),V.isScreenSharing&&t.jsx(I1,{size:14})]})]}),t.jsxs("div",{className:"participant-actions",children:[t.jsx("button",{className:"action-btn",children:t.jsx(ox,{size:16})}),t.jsx("button",{className:"action-btn",children:t.jsx(nn,{size:16})})]})]},V.id))})]})}),t.jsx(Gs,{children:_&&t.jsxs(Xe.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},className:"chat-panel",children:[t.jsxs("div",{className:"panel-header",children:[t.jsx("h3",{children:"Chat"}),t.jsx("button",{className:"close-btn",onClick:()=>T(!1),children:t.jsx(hi,{size:20})})]}),t.jsx("div",{className:"messages-container",ref:r,children:P.map(V=>t.jsx("div",{className:`message ${V.type}`,children:V.type==="system"?t.jsxs("div",{className:"system-message",children:[t.jsx("span",{children:V.content}),t.jsx("span",{className:"timestamp",children:V.timestamp.toLocaleTimeString()})]}):t.jsxs("div",{className:"user-message",children:[t.jsxs("div",{className:"message-header",children:[t.jsx("span",{className:"sender",children:V.senderName}),t.jsx("span",{className:"timestamp",children:V.timestamp.toLocaleTimeString()})]}),t.jsx("p",{className:"message-content",children:V.content})]})},V.id))}),t.jsxs("div",{className:"message-input-container",children:[t.jsx("button",{className:"attach-btn",children:t.jsx(YA,{size:20})}),t.jsx("input",{type:"text",placeholder:"Type a message...",value:U,onChange:V=>re(V.target.value),onKeyPress:V=>V.key==="Enter"&&Ee(),className:"message-input"}),t.jsx("button",{className:"send-btn",onClick:Ee,disabled:!U.trim(),children:t.jsx(JA,{size:20})})]})]})}),t.jsx(Gs,{children:S&&t.jsxs(Xe.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},className:"settings-panel",children:[t.jsxs("div",{className:"panel-header",children:[t.jsx("h3",{children:"Settings"}),t.jsx("button",{className:"close-btn",onClick:()=>F(!1),children:t.jsx(hi,{size:20})})]}),t.jsxs("div",{className:"settings-content",children:[t.jsxs("div",{className:"settings-section",children:[t.jsx("h4",{children:"Video"}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"Quality"}),t.jsxs("select",{value:W.videoQuality,onChange:V=>xe(ee=>({...ee,videoQuality:V.target.value})),className:"setting-select",children:[t.jsx("option",{value:"auto",children:"Auto"}),t.jsx("option",{value:"360p",children:"360p"}),t.jsx("option",{value:"720p",children:"720p"}),t.jsx("option",{value:"1080p",children:"1080p"}),t.jsx("option",{value:"4k",children:"4K"})]})]}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"Frame Rate"}),t.jsxs("select",{value:W.frameRate,onChange:V=>xe(ee=>({...ee,frameRate:parseInt(V.target.value)})),className:"setting-select",children:[t.jsx("option",{value:"24",children:"24 FPS"}),t.jsx("option",{value:"30",children:"30 FPS"}),t.jsx("option",{value:"60",children:"60 FPS"})]})]}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"Virtual Background"}),t.jsx("select",{value:W.virtualBackground,onChange:V=>xe(ee=>({...ee,virtualBackground:V.target.value})),className:"setting-select",children:BK.map(V=>t.jsx("option",{value:V.id,children:V.name},V.id))})]})]}),t.jsxs("div",{className:"settings-section",children:[t.jsx("h4",{children:"Audio"}),t.jsxs("div",{className:"setting-item",children:[t.jsx("label",{children:"Quality"}),t.jsxs("select",{value:W.audioQuality,onChange:V=>xe(ee=>({...ee,audioQuality:V.target.value})),className:"setting-select",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"standard",children:"Standard"}),t.jsx("option",{value:"high",children:"High"})]})]}),t.jsxs("div",{className:"setting-toggle",children:[t.jsx("label",{children:"Echo Cancellation"}),t.jsx("input",{type:"checkbox",checked:W.echoCancellation,onChange:V=>xe(ee=>({...ee,echoCancellation:V.target.checked}))})]}),t.jsxs("div",{className:"setting-toggle",children:[t.jsx("label",{children:"Noise Suppression"}),t.jsx("input",{type:"checkbox",checked:W.noiseSuppression,onChange:V=>xe(ee=>({...ee,noiseSuppression:V.target.checked}))})]}),t.jsxs("div",{className:"setting-toggle",children:[t.jsx("label",{children:"Auto Gain Control"}),t.jsx("input",{type:"checkbox",checked:W.autoGainControl,onChange:V=>xe(ee=>({...ee,autoGainControl:V.target.checked}))})]})]})]})]})})]})]}),t.jsxs("div",{className:"call-controls",children:[t.jsxs("div",{className:"controls-left",children:[t.jsx("button",{className:`control-btn ${Q==="grid"?"active":""}`,onClick:()=>vt("grid"),children:t.jsx(Am,{size:20})}),t.jsx("button",{className:`control-btn ${Q==="speaker"?"active":""}`,onClick:()=>vt("speaker"),children:t.jsx(ZA,{size:20})}),t.jsx("button",{className:`control-btn ${E?"active":""}`,onClick:()=>k(!E),children:t.jsx(fi,{size:20})}),t.jsx("button",{className:`control-btn ${_?"active":""}`,onClick:()=>T(!_),children:t.jsx(XH,{size:20})})]}),t.jsxs("div",{className:"controls-center",children:[t.jsx("button",{className:`control-btn ${m?"active":""}`,onClick:Et,children:m?t.jsx(ao,{size:24}):t.jsx(rx,{size:24})}),t.jsx("button",{className:`control-btn ${g?"active":""}`,onClick:gt,children:g?t.jsx(D1,{size:24}):t.jsx(nn,{size:24})}),t.jsx("button",{className:`control-btn ${j?"active":""}`,onClick:ge,children:j?t.jsx(aG,{size:24}):t.jsx(lG,{size:24})}),t.jsx("button",{className:`control-btn ${b?"active":""}`,onClick:J,children:t.jsx(A1,{size:24})}),t.jsx("button",{className:`end-call-btn ${a==="connected"?"active":""}`,onClick:wt,children:t.jsx(as,{size:24})})]}),t.jsxs("div",{className:"controls-right",children:[t.jsx("button",{className:`control-btn ${C?"":"active"}`,onClick:$e,children:C?t.jsx(ox,{size:20}):t.jsx(eR,{size:20})}),t.jsx("button",{className:`control-btn ${S?"active":""}`,onClick:()=>F(!S),children:t.jsx(XA,{size:20})})]})]}),t.jsx(Gs,{children:L&&t.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"call-stats-overlay",children:t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Duration"}),t.jsx("span",{className:"stat-value",children:xt(Ce.duration)})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Upload"}),t.jsx("span",{className:"stat-value",children:At(Ce.dataUsage.sent)})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Download"}),t.jsx("span",{className:"stat-value",children:At(Ce.dataUsage.received)})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Quality"}),t.jsx("span",{className:"stat-value",style:{color:K(Ce.connectionQuality)},children:Ce.connectionQuality})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Latency"}),t.jsxs("span",{className:"stat-value",children:[Ce.latency,"ms"]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Packet Loss"}),t.jsxs("span",{className:"stat-value",children:[(Ce.packetLoss*100).toFixed(1),"%"]})]})]})})}),a==="reconnecting"&&t.jsx("div",{className:"connection-status-overlay",children:t.jsxs("div",{className:"status-content",children:[t.jsx(YG,{size:48}),t.jsx("h3",{children:"Connection Lost"}),t.jsx("p",{children:"Attempting to reconnect..."})]})})]})}function $K(){const[s,e]=f.useState("mission"),[n,i]=f.useState(null),r=[{number:"500+",label:"Service Professionals"},{number:"50K+",label:"Happy Customers"},{number:"15+",label:"Cities Served"},{number:"4.8",label:"Average Rating"},{number:"24/7",label:"Support Available"},{number:"100%",label:"Satisfaction Guarantee"}],a=[{icon:"",title:"Customer First",description:"We prioritize customer satisfaction above everything else"},{icon:"",title:"Quality Service",description:"Delivering excellence in every service we provide"},{icon:"",title:"Trust & Transparency",description:"Building relationships through honest and reliable service"},{icon:"",title:"Innovation",description:"Continuously improving with technology and new ideas"},{icon:"",title:"Sustainability",description:"Eco-friendly practices and sustainable growth"},{icon:"",title:"Team Work",description:"Collaborating to deliver the best service experience"}],o=[{year:"2019",title:"The Beginning",description:"Smart ServiceHub started with a vision to connect customers with verified service professionals. We began with just 3 services in Mumbai.",achievements:["Launched in Mumbai","50+ service partners","1000+ customers served"]},{year:"2020",title:"Rapid Growth",description:"Despite challenges, we expanded to 5 major cities and introduced 2 new service categories. Our customer base grew 5x.",achievements:["Expanded to Delhi & Bangalore","Added cleaning & pest control","Mobile app launch"]},{year:"2021",title:"Technology Innovation",description:"Introduced AI-powered matching, real-time tracking, and enhanced safety features. Became the most trusted service platform.",achievements:["AI matching system","Real-time tracking","Safety verification program"]},{year:"2022",title:"National Expansion",description:"Expanded to 15+ cities across India, introduced corporate services, and achieved 50K+ satisfied customers.",achievements:["15+ cities coverage","Corporate services","50K+ customers milestone"]},{year:"2023",title:"Service Excellence",description:"Launched premium services, introduced 24/7 emergency support, and achieved 4.8 average rating.",achievements:["Premium services launch","24/7 emergency support","4.8 rating achievement"]},{year:"2024",title:"Future Ready",description:"Continuing to innovate with smart home integration, sustainable practices, and expanding our service network.",achievements:["Smart home integration","Eco-friendly initiatives","500+ professionals network"]}],l=[{name:"Rahul Sharma",position:"CEO & Founder",image:"",description:"Visionary leader with 15+ years in service industry",linkedin:"#"},{name:"Priya Patel",position:"COO",image:"",description:"Operations expert ensuring service excellence",linkedin:"#"},{name:"Amit Kumar",position:"CTO",image:"",description:"Tech innovator driving digital transformation",linkedin:"#"},{name:"Neha Gupta",position:"Head of Customer Experience",image:"",description:"Customer satisfaction champion",linkedin:"#"}],c=[{name:"Asian Paints",logo:"",type:"Painting Partner"},{name:"Daikin",logo:"",type:"AC Service Partner"},{name:"Godrej",logo:"",type:"Security Partner"},{name:"Hindware",logo:"",type:"Plumbing Partner"},{name:"Philips",logo:"",type:"Electrical Partner"},{name:"3M",logo:"",type:"Chemical Partner"}],d=[{name:"Best Service Platform 2023",organization:"Tech India Awards",icon:""},{name:"Customer Choice Award",organization:"Service Excellence Forum",icon:""},{name:"Innovation in Service",organization:"Digital India Summit",icon:""},{name:"Fastest Growing Startup",organization:"Startup India",icon:""}],h=m=>{i(n===m?null:m)};return t.jsxs("div",{className:"about-page",children:[t.jsx("section",{className:"about-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{children:"About Smart ServiceHub"}),t.jsx("p",{className:"hero-subtitle",children:"Your trusted partner for home and business services"}),t.jsx("p",{className:"hero-description",children:"We're on a mission to make quality services accessible to everyone. From a small startup to India's most trusted service platform, we've come a long way while staying true to our values."}),t.jsx("div",{className:"hero-stats",children:r.map((m,p)=>t.jsxs("div",{className:"hero-stat",children:[t.jsx("span",{className:"stat-number",children:m.number}),t.jsx("span",{className:"stat-label",children:m.label})]},p))})]})}),t.jsx("section",{className:"mission-vision-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Purpose"}),t.jsxs("div",{className:"tabs-container",children:[t.jsxs("div",{className:"tab-buttons",children:[t.jsx("button",{className:`tab-btn ${s==="mission"?"active":""}`,onClick:()=>e("mission"),children:" Mission"}),t.jsx("button",{className:`tab-btn ${s==="vision"?"active":""}`,onClick:()=>e("vision"),children:" Vision"}),t.jsx("button",{className:`tab-btn ${s==="story"?"active":""}`,onClick:()=>e("story"),children:" Our Story"})]}),t.jsxs("div",{className:"tab-content",children:[s==="mission"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h3",{children:"Our Mission"}),t.jsx("p",{children:"To connect customers with verified, professional service providers while ensuring quality, transparency, and convenience. We're committed to making home and business services accessible, affordable, and reliable for everyone."}),t.jsxs("div",{className:"mission-points",children:[t.jsxs("div",{className:"point",children:[t.jsx("span",{className:"point-icon",children:""}),t.jsx("span",{children:"Verified professionals only"})]}),t.jsxs("div",{className:"point",children:[t.jsx("span",{className:"point-icon",children:""}),t.jsx("span",{children:"Transparent pricing"})]}),t.jsxs("div",{className:"point",children:[t.jsx("span",{className:"point-icon",children:""}),t.jsx("span",{children:"Quality guarantee"})]}),t.jsxs("div",{className:"point",children:[t.jsx("span",{className:"point-icon",children:""}),t.jsx("span",{children:"24/7 customer support"})]})]})]}),s==="vision"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h3",{children:"Our Vision"}),t.jsx("p",{children:"To become India's most trusted and comprehensive service platform, revolutionizing how people access and experience home and business services through technology, innovation, and exceptional customer experience."}),t.jsxs("div",{className:"vision-points",children:[t.jsxs("div",{className:"point",children:[t.jsx("span",{className:"point-icon",children:""}),t.jsx("span",{children:"Pan-India service coverage"})]}),t.jsxs("div",{className:"point",children:[t.jsx("span",{className:"point-icon",children:""}),t.jsx("span",{children:"AI-powered service matching"})]}),t.jsxs("div",{className:"point",children:[t.jsx("span",{className:"point-icon",children:""}),t.jsx("span",{children:"Smart home integration"})]}),t.jsxs("div",{className:"point",children:[t.jsx("span",{className:"point-icon",children:""}),t.jsx("span",{children:"Sustainable service practices"})]})]})]}),s==="story"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("h3",{children:"Our Story"}),t.jsx("p",{children:"Smart ServiceHub was born from a simple frustration: finding reliable service professionals was difficult, time-consuming, and often disappointing. Our founder experienced this firsthand and decided to create a solution."}),t.jsx("p",{children:"What started as a small platform connecting 50 professionals in Mumbai has now grown into a nationwide network of 500+ verified professionals serving 50,000+ happy customers across 15+ cities."}),t.jsxs("div",{className:"story-highlights",children:[t.jsxs("div",{className:"highlight",children:[t.jsx("span",{className:"highlight-number",children:"2019"}),t.jsx("span",{className:"highlight-text",children:"Started with 3 services"})]}),t.jsxs("div",{className:"highlight",children:[t.jsx("span",{className:"highlight-number",children:"2021"}),t.jsx("span",{className:"highlight-text",children:"Launched mobile app"})]}),t.jsxs("div",{className:"highlight",children:[t.jsx("span",{className:"highlight-number",children:"2023"}),t.jsx("span",{className:"highlight-text",children:"50K+ customers milestone"})]}),t.jsxs("div",{className:"highlight",children:[t.jsx("span",{className:"highlight-number",children:"2024"}),t.jsx("span",{className:"highlight-text",children:"15+ cities coverage"})]})]})]})]})]})]})}),t.jsx("section",{className:"values-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Core Values"}),t.jsx("div",{className:"values-grid",children:a.map((m,p)=>t.jsxs("div",{className:"value-card",children:[t.jsx("div",{className:"value-icon",children:m.icon}),t.jsx("h3",{children:m.title}),t.jsx("p",{children:m.description})]},p))})]})}),t.jsx("section",{className:"timeline-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Journey"}),t.jsx("div",{className:"timeline",children:o.map((m,p)=>t.jsxs("div",{className:"timeline-item",children:[t.jsx("div",{className:"timeline-marker",children:t.jsx("div",{className:"timeline-year",children:m.year})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("h3",{children:m.title}),t.jsx("p",{children:m.description}),n===p&&t.jsxs("div",{className:"timeline-achievements",children:[t.jsx("h4",{children:"Key Achievements:"}),t.jsx("ul",{children:m.achievements.map((g,x)=>t.jsx("li",{children:g},x))})]}),t.jsx("button",{className:"timeline-toggle",onClick:()=>h(p),children:n===p?"Show Less":"Learn More"})]})]},p))})]})}),t.jsx("section",{className:"team-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Leadership Team"}),t.jsx("div",{className:"team-grid",children:l.map((m,p)=>t.jsxs("div",{className:"team-card",children:[t.jsx("div",{className:"team-image",children:m.image}),t.jsx("h3",{children:m.name}),t.jsx("p",{className:"team-position",children:m.position}),t.jsx("p",{className:"team-description",children:m.description}),t.jsx("a",{href:m.linkedin,className:"team-linkedin",children:"LinkedIn"})]},p))})]})}),t.jsx("section",{className:"partners-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Trusted Partners"}),t.jsx("div",{className:"partners-grid",children:c.map((m,p)=>t.jsxs("div",{className:"partner-card",children:[t.jsx("div",{className:"partner-logo",children:m.logo}),t.jsx("h3",{children:m.name}),t.jsx("p",{children:m.type})]},p))})]})}),t.jsx("section",{className:"awards-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Awards & Recognition"}),t.jsx("div",{className:"awards-grid",children:d.map((m,p)=>t.jsxs("div",{className:"award-card",children:[t.jsx("div",{className:"award-icon",children:m.icon}),t.jsx("h3",{children:m.name}),t.jsx("p",{children:m.organization})]},p))})]})}),t.jsx("section",{className:"technology-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Technology & Innovation"}),t.jsxs("div",{className:"tech-content",children:[t.jsxs("div",{className:"tech-text",children:[t.jsx("h3",{children:"Smart Service Technology"}),t.jsx("p",{children:"We leverage cutting-edge technology to enhance service delivery and customer experience:"}),t.jsxs("ul",{className:"tech-features",children:[t.jsx("li",{children:" AI-powered professional matching"}),t.jsx("li",{children:" Real-time service tracking"}),t.jsx("li",{children:" Advanced safety verification"}),t.jsx("li",{children:" Secure payment processing"}),t.jsx("li",{children:" Data-driven quality monitoring"}),t.jsx("li",{children:" Multi-platform accessibility"})]})]}),t.jsxs("div",{className:"tech-stats",children:[t.jsxs("div",{className:"tech-stat",children:[t.jsx("span",{className:"tech-number",children:"99.9%"}),t.jsx("span",{className:"tech-label",children:"Platform Uptime"})]}),t.jsxs("div",{className:"tech-stat",children:[t.jsx("span",{className:"tech-number",children:"< 1min"}),t.jsx("span",{className:"tech-label",children:"Average Response"})]}),t.jsxs("div",{className:"tech-stat",children:[t.jsx("span",{className:"tech-number",children:"256-bit"}),t.jsx("span",{className:"tech-label",children:"Data Encryption"})]})]})]})]})}),t.jsx("section",{className:"impact-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Social Impact"}),t.jsx("div",{className:"impact-content",children:t.jsxs("div",{className:"impact-text",children:[t.jsx("h3",{children:"Making a Difference"}),t.jsx("p",{children:"We're committed to creating positive impact beyond just providing services:"}),t.jsxs("div",{className:"impact-initiatives",children:[t.jsxs("div",{className:"initiative",children:[t.jsx("span",{className:"initiative-icon",children:""}),t.jsx("h4",{children:"Eco-Friendly Practices"}),t.jsx("p",{children:"Promoting sustainable and environmentally responsible service practices"})]}),t.jsxs("div",{className:"initiative",children:[t.jsx("span",{className:"initiative-icon",children:""}),t.jsx("h4",{children:"Empowering Professionals"}),t.jsx("p",{children:"Training and empowering 500+ service professionals across India"})]}),t.jsxs("div",{className:"initiative",children:[t.jsx("span",{className:"initiative-icon",children:""}),t.jsx("h4",{children:"Community Support"}),t.jsx("p",{children:"Providing discounted services to underprivileged communities"})]})]})]})})]})}),t.jsx("section",{className:"cta-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Join Our Journey"}),t.jsx("p",{children:"Be part of India's most trusted service platform"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx(he,{to:"/company/careers",className:"btn-primary",children:"Join Our Team"}),t.jsx(he,{to:"/company/partners",className:"btn-secondary",children:"Partner With Us"})]})]})})})]})}function qK(){const[s,e]=f.useState(""),[n,i]=f.useState({name:"",email:"",phone:"",experience:"",education:"",skills:"",coverLetter:"",resume:null}),[r,a]=f.useState(!1),o=[{id:"engineering",name:"Engineering",icon:"",description:"Software, hardware, and system engineering roles",jobs:12},{id:"operations",name:"Operations",icon:"",description:"Service delivery, logistics, and quality management",jobs:8},{id:"sales",name:"Sales & Marketing",icon:"",description:"Business development, marketing, and customer acquisition",jobs:6},{id:"support",name:"Customer Support",icon:"",description:"Customer service, technical support, and success management",jobs:10},{id:"design",name:"Design",icon:"",description:"UI/UX, product design, and creative roles",jobs:4},{id:"management",name:"Management",icon:"",description:"Leadership, strategy, and team management roles",jobs:5}],l=[{id:1,title:"Senior Full Stack Developer",department:"Engineering",location:"Bangalore",type:"Full-time",experience:"4-6 years",salary:"18-25 LPA",posted:"2 days ago",hot:!0,description:"We are looking for an experienced Full Stack Developer to join our engineering team.",requirements:["Strong experience with React, Node.js, and TypeScript","Experience with cloud platforms (AWS/Azure)","Knowledge of microservices architecture","Strong problem-solving skills"],responsibilities:["Design and develop scalable web applications","Collaborate with cross-functional teams","Write clean, maintainable code","Mentor junior developers"]},{id:2,title:"Product Manager",department:"Management",location:"Mumbai",type:"Full-time",experience:"3-5 years",salary:"15-20 LPA",posted:"1 week ago",hot:!0,description:"Seeking a Product Manager to drive product strategy and execution.",requirements:["MBA or equivalent experience","Experience in product management","Strong analytical skills","Excellent communication skills"],responsibilities:["Define product roadmap","Work with engineering teams","Analyze market trends","Drive product launches"]},{id:3,title:"Customer Success Manager",department:"Customer Support",location:"Delhi",type:"Full-time",experience:"2-4 years",salary:"8-12 LPA",posted:"3 days ago",hot:!1,description:"Join our customer success team to ensure customer satisfaction.",requirements:["Experience in customer service","Excellent communication skills","Problem-solving abilities","Empathy and patience"],responsibilities:["Handle customer inquiries","Resolve service issues","Build customer relationships","Gather customer feedback"]},{id:4,title:"UI/UX Designer",department:"Design",location:"Pune",type:"Full-time",experience:"2-4 years",salary:"10-15 LPA",posted:"5 days ago",hot:!1,description:"Creative designer needed for our product design team.",requirements:["Portfolio of design work","Proficiency in design tools","Understanding of user experience","Creative problem-solving"],responsibilities:["Create user interfaces","Design user experiences","Conduct user research","Collaborate with developers"]},{id:5,title:"Sales Executive",department:"Sales & Marketing",location:"Chennai",type:"Full-time",experience:"1-3 years",salary:"6-10 LPA",posted:"1 week ago",hot:!1,description:"Drive sales growth and acquire new customers.",requirements:["Sales experience","Strong communication skills","Target-driven mindset","Relationship building"],responsibilities:["Generate leads","Convert prospects to customers","Achieve sales targets","Build client relationships"]},{id:6,title:"Operations Manager",department:"Operations",location:"Hyderabad",type:"Full-time",experience:"3-5 years",salary:"12-18 LPA",posted:"4 days ago",hot:!0,description:"Manage day-to-day operations and service delivery.",requirements:["Operations management experience","Leadership skills","Process optimization","Analytical thinking"],responsibilities:["Oversee service operations","Improve processes","Manage service teams","Ensure quality standards"]}],c=[{icon:"",title:"Competitive Salary",description:"Market-leading compensation packages"},{icon:"",title:"Health Insurance",description:"Comprehensive health coverage for you and your family"},{icon:"",title:"Career Growth",description:"Clear career progression and learning opportunities"},{icon:"",title:"Flexible Work",description:"Hybrid work model and flexible hours"},{icon:"",title:"Learning & Development",description:"Annual learning budget and training programs"},{icon:"",title:"Paid Time Off",description:"Generous vacation and leave policies"},{icon:"",title:"Gadget Allowance",description:"Latest laptop and smartphone reimbursement"},{icon:"",title:"Food & Snacks",description:"Free meals and snacks at office"}],d=[{icon:"",title:"Customer First",description:"We put our customers at the center of everything we do"},{icon:"",title:"Collaboration",description:"We work together to achieve great things"},{icon:"",title:"Innovation",description:"We encourage creative thinking and new ideas"},{icon:"",title:"Growth Mindset",description:"We believe in continuous learning and improvement"},{icon:"",title:"Excellence",description:"We strive for excellence in everything we do"},{icon:"",title:"Ownership",description:"We take ownership and responsibility for our work"}],h=async g=>{g.preventDefault(),a(!0);try{await new Promise(x=>setTimeout(x,2e3)),console.log("Job application submitted:",{...n,position:s}),alert("Application submitted successfully! We will review your profile and get back to you soon."),i({name:"",email:"",phone:"",experience:"",education:"",skills:"",coverLetter:"",resume:null})}catch{alert("Something went wrong. Please try again.")}finally{a(!1)}},m=g=>{i({...n,[g.target.name]:g.target.value})},p=g=>{g.target.files&&g.target.files[0]&&i({...n,resume:g.target.files[0]})};return t.jsxs("div",{className:"careers-page",children:[t.jsx("section",{className:"careers-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{children:"Join Our Team"}),t.jsx("p",{className:"hero-subtitle",children:"Build your career with Smart ServiceHub"}),t.jsx("p",{className:"hero-description",children:"We're looking for talented individuals who are passionate about making a difference. Join us in our mission to revolutionize the service industry and create amazing experiences for our customers."}),t.jsxs("div",{className:"hero-stats",children:[t.jsxs("div",{className:"hero-stat",children:[t.jsx("span",{className:"stat-number",children:"500+"}),t.jsx("span",{className:"stat-label",children:"Team Members"})]}),t.jsxs("div",{className:"hero-stat",children:[t.jsx("span",{className:"stat-number",children:"15+"}),t.jsx("span",{className:"stat-label",children:"Cities"})]}),t.jsxs("div",{className:"hero-stat",children:[t.jsx("span",{className:"stat-number",children:"4.5"}),t.jsx("span",{className:"stat-label",children:"Employee Rating"})]})]})]})}),t.jsx("section",{className:"categories-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Browse by Department"}),t.jsx("div",{className:"categories-grid",children:o.map(g=>t.jsxs("div",{className:"category-card",children:[t.jsx("div",{className:"category-icon",children:g.icon}),t.jsx("h3",{children:g.name}),t.jsx("p",{children:g.description}),t.jsx("div",{className:"category-stats",children:t.jsxs("span",{className:"job-count",children:[g.jobs," Open Positions"]})}),t.jsx("button",{className:"btn-secondary",children:"View Jobs"})]},g.id))})]})}),t.jsx("section",{className:"positions-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Open Positions"}),t.jsx("div",{className:"positions-grid",children:l.map(g=>t.jsxs("div",{className:`position-card ${g.hot?"featured":""}`,children:[g.hot&&t.jsx("div",{className:"hot-badge",children:" Hot Opening"}),t.jsxs("div",{className:"position-header",children:[t.jsx("h3",{children:g.title}),t.jsxs("div",{className:"position-meta",children:[t.jsx("span",{className:"department",children:g.department}),t.jsxs("span",{className:"location",children:[" ",g.location]}),t.jsx("span",{className:"type",children:g.type})]})]}),t.jsx("p",{className:"position-description",children:g.description}),t.jsxs("div",{className:"position-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Experience:"}),t.jsx("span",{children:g.experience})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Salary:"}),t.jsx("span",{children:g.salary})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Posted:"}),t.jsx("span",{children:g.posted})]})]}),t.jsxs("div",{className:"position-actions",children:[t.jsx("button",{className:"btn-primary",onClick:()=>e(g.title),children:"Apply Now"}),t.jsx("button",{className:"btn-secondary",children:"View Details"})]})]},g.id))})]})}),s&&t.jsx("section",{className:"application-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"application-grid",children:[t.jsxs("div",{className:"application-form",children:[t.jsxs("h2",{children:["Apply for ",s]}),t.jsxs("form",{onSubmit:h,children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Full Name *"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:m,required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address *"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:m,required:!0,disabled:r})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:m,placeholder:"+91 98765 43210",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Total Experience *"}),t.jsxs("select",{name:"experience",value:n.experience,onChange:m,required:!0,disabled:r,children:[t.jsx("option",{value:"",children:"Select experience"}),t.jsx("option",{value:"0-1",children:"0-1 year"}),t.jsx("option",{value:"1-3",children:"1-3 years"}),t.jsx("option",{value:"3-5",children:"3-5 years"}),t.jsx("option",{value:"5-7",children:"5-7 years"}),t.jsx("option",{value:"7+",children:"7+ years"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Highest Education *"}),t.jsx("input",{type:"text",name:"education",value:n.education,onChange:m,placeholder:"e.g., B.Tech Computer Science",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Key Skills *"}),t.jsx("textarea",{name:"skills",value:n.skills,onChange:m,rows:3,placeholder:"List your key skills separated by commas...",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cover Letter"}),t.jsx("textarea",{name:"coverLetter",value:n.coverLetter,onChange:m,rows:4,placeholder:"Tell us why you're interested in this position...",disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Resume/CV *"}),t.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:p,required:!0,disabled:r}),t.jsx("small",{children:"Upload your resume in PDF, DOC, or DOCX format (Max 5MB)"})]}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:r,children:r?"Submitting...":"Submit Application"})]})]}),t.jsxs("div",{className:"application-info",children:[t.jsx("h3",{children:"What to Expect Next"}),t.jsxs("div",{className:"process-steps",children:[t.jsxs("div",{className:"step",children:[t.jsx("div",{className:"step-number",children:"1"}),t.jsxs("div",{className:"step-content",children:[t.jsx("h4",{children:"Application Review"}),t.jsx("p",{children:"Our team will review your application within 3-5 business days"})]})]}),t.jsxs("div",{className:"step",children:[t.jsx("div",{className:"step-number",children:"2"}),t.jsxs("div",{className:"step-content",children:[t.jsx("h4",{children:"Initial Screening"}),t.jsx("p",{children:"Shortlisted candidates will receive a call for initial discussion"})]})]}),t.jsxs("div",{className:"step",children:[t.jsx("div",{className:"step-number",children:"3"}),t.jsxs("div",{className:"step-content",children:[t.jsx("h4",{children:"Technical Interview"}),t.jsx("p",{children:"Technical assessment with the hiring team"})]})]}),t.jsxs("div",{className:"step",children:[t.jsx("div",{className:"step-number",children:"4"}),t.jsxs("div",{className:"step-content",children:[t.jsx("h4",{children:"Final Round"}),t.jsx("p",{children:"Meeting with senior leadership and team members"})]})]}),t.jsxs("div",{className:"step",children:[t.jsx("div",{className:"step-number",children:"5"}),t.jsxs("div",{className:"step-content",children:[t.jsx("h4",{children:"Offer"}),t.jsx("p",{children:"Successful candidates receive offer letter and onboarding details"})]})]})]})]})]})})}),t.jsx("section",{className:"benefits-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Why Work With Us"}),t.jsx("div",{className:"benefits-grid",children:c.map((g,x)=>t.jsxs("div",{className:"benefit-card",children:[t.jsx("div",{className:"benefit-icon",children:g.icon}),t.jsx("h3",{children:g.title}),t.jsx("p",{children:g.description})]},x))})]})}),t.jsx("section",{className:"culture-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Culture"}),t.jsx("p",{className:"culture-subtitle",children:"Values that guide us every day"}),t.jsx("div",{className:"culture-grid",children:d.map((g,x)=>t.jsxs("div",{className:"culture-card",children:[t.jsx("div",{className:"culture-icon",children:g.icon}),t.jsx("h3",{children:g.title}),t.jsx("p",{children:g.description})]},x))})]})}),t.jsx("section",{className:"life-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Life at Smart ServiceHub"}),t.jsxs("div",{className:"life-grid",children:[t.jsxs("div",{className:"life-card",children:[t.jsx("div",{className:"life-icon",children:""}),t.jsx("h3",{children:"Modern Workspaces"}),t.jsx("p",{children:"Beautiful, ergonomic offices designed for collaboration and productivity"})]}),t.jsxs("div",{className:"life-card",children:[t.jsx("div",{className:"life-icon",children:""}),t.jsx("h3",{children:"Team Events"}),t.jsx("p",{children:"Regular team outings, celebrations, and fun activities"})]}),t.jsxs("div",{className:"life-card",children:[t.jsx("div",{className:"life-icon",children:""}),t.jsx("h3",{children:"Learning Opportunities"}),t.jsx("p",{children:"Workshops, seminars, and courses to enhance your skills"})]}),t.jsxs("div",{className:"life-card",children:[t.jsx("div",{className:"life-icon",children:""}),t.jsx("h3",{children:"Recognition"}),t.jsx("p",{children:"Awards and recognition for outstanding performance"})]})]})]})}),t.jsx("section",{className:"cta-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Ready to Join Us?"}),t.jsx("p",{children:"Take the first step towards an exciting career with Smart ServiceHub"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx(he,{to:"/contact",className:"btn-primary",children:"Contact HR Team"}),t.jsx("a",{href:"mailto:careers@smartservicehub.com",className:"btn-secondary",children:" careers@smartservicehub.com"})]})]})})})]})}function zK(){const[s,e]=f.useState("all"),[n,i]=f.useState(""),[r,a]=f.useState(null),o=[{id:"all",name:"All Posts",icon:""},{id:"tips",name:"Tips & Tricks",icon:""},{id:"maintenance",name:"Maintenance",icon:""},{id:"lifestyle",name:"Lifestyle",icon:""},{id:"technology",name:"Technology",icon:""},{id:"business",name:"Business",icon:""}],l=[{id:1,title:"10 Essential Home Maintenance Tips for Monsoon",excerpt:"Get your home ready for the monsoon season with these essential maintenance tips that will protect your property and prevent costly repairs.",content:"Monsoon season brings joy and relief from the scorching heat, but it also poses several challenges for homeowners. From leaky roofs to damp walls, the rainy season can cause significant damage if you're not prepared. In this comprehensive guide, we'll walk you through 10 essential maintenance tasks that will help you protect your home during the monsoons.",author:"Rahul Sharma",date:"2024-06-15",category:"maintenance",readTime:"5 min read",image:"",featured:!0,tags:["monsoon","maintenance","home care","tips"]},{id:2,title:"How to Choose the Right Professional for Your Home Repairs",excerpt:"Learn the key factors to consider when hiring professionals for home repairs to ensure quality work and fair pricing.",content:"Finding the right professional for home repairs can be challenging. With so many options available, how do you ensure you're hiring someone reliable and skilled? This article covers everything from checking credentials to comparing quotes, helping you make informed decisions for your home improvement projects.",author:"Priya Patel",date:"2024-06-12",category:"tips",readTime:"7 min read",image:"",featured:!0,tags:["hiring","professionals","home repairs","tips"]},{id:3,title:"Smart Home Technology: The Future of Home Management",excerpt:"Explore the latest smart home technologies that are revolutionizing how we manage and maintain our homes.",content:"Smart home technology has transformed from a luxury to an essential component of modern living. From automated lighting to intelligent security systems, these technologies not only provide convenience but also help in energy conservation and home maintenance. Discover the latest innovations that are making homes smarter and more efficient.",author:"Amit Kumar",date:"2024-06-10",category:"technology",readTime:"6 min read",image:"",featured:!1,tags:["smart home","technology","automation","innovation"]},{id:4,title:"The Ultimate Guide to Kitchen Organization",excerpt:"Transform your kitchen into a well-organized space with these practical organization tips and storage solutions.",content:"A well-organized kitchen not only looks great but also makes cooking more efficient and enjoyable. This comprehensive guide covers everything from cabinet organization to pantry management, helping you create a functional and beautiful kitchen space that works for your lifestyle.",author:"Anita Reddy",date:"2024-06-08",category:"lifestyle",readTime:"8 min read",image:"",featured:!1,tags:["kitchen","organization","storage","tips"]},{id:5,title:"Energy-Efficient Home: Save Money While Saving the Planet",excerpt:"Learn practical ways to make your home more energy-efficient and reduce your utility bills significantly.",content:"Making your home energy-efficient is not just good for the environment; it's also great for your wallet. This article explores various methods to reduce energy consumption, from simple lifestyle changes to major home improvements, helping you create a sustainable and cost-effective living space.",author:"Sanjay Mehta",date:"2024-06-05",category:"tips",readTime:"6 min read",image:"",featured:!1,tags:["energy efficiency","sustainability","savings","environment"]},{id:6,title:"Growing Your Service Business: Lessons from Successful Entrepreneurs",excerpt:"Discover proven strategies and insights from successful service business owners to help you scale your operations.",content:"Starting and growing a service business comes with unique challenges and opportunities. We've interviewed several successful entrepreneurs who share their experiences, mistakes, and triumphs in building thriving service businesses. Learn from their journeys and apply these lessons to your own business growth.",author:"Neha Gupta",date:"2024-06-03",category:"business",readTime:"10 min read",image:"",featured:!1,tags:["business","entrepreneurship","growth","strategy"]}],c=[{id:1,title:"10 Essential Home Maintenance Tips for Monsoon",views:"15.2K",image:""},{id:2,title:"How to Choose the Right Professional",views:"12.8K",image:""},{id:3,title:"Smart Home Technology Guide",views:"9.5K",image:""},{id:4,title:"Energy-Efficient Home Tips",views:"8.3K",image:""}],d=l.filter(p=>{const g=s==="all"||p.category===s,x=p.title.toLowerCase().includes(n.toLowerCase())||p.excerpt.toLowerCase().includes(n.toLowerCase())||p.tags.some(j=>j.toLowerCase().includes(n.toLowerCase()));return g&&x}),h=p=>{a(r===p?null:p)},m=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return t.jsxs("div",{className:"blog-page",children:[t.jsx("section",{className:"blog-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{children:"Smart ServiceHub Blog"}),t.jsx("p",{className:"hero-subtitle",children:"Tips, insights, and stories for modern living"}),t.jsx("p",{className:"hero-description",children:"Discover expert advice, practical tips, and inspiring stories about home maintenance, lifestyle improvements, and the latest in service industry innovations."}),t.jsxs("div",{className:"blog-search",children:[t.jsx("input",{type:"text",placeholder:"Search articles...",value:n,onChange:p=>i(p.target.value),className:"search-input"}),t.jsx("span",{className:"search-icon",children:""})]})]})}),t.jsx("section",{className:"blog-categories",children:t.jsx("div",{className:"container",children:t.jsx("div",{className:"categories-nav",children:o.map(p=>t.jsxs("button",{className:`category-btn ${s===p.id?"active":""}`,onClick:()=>e(p.id),children:[t.jsx("span",{className:"category-icon",children:p.icon}),t.jsx("span",{className:"category-name",children:p.name})]},p.id))})})}),t.jsx("section",{className:"blog-main",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"blog-grid",children:[t.jsxs("div",{className:"blog-posts",children:[t.jsxs("div",{className:"posts-header",children:[t.jsx("h2",{children:"Latest Articles"}),t.jsxs("p",{className:"posts-count",children:[d.length," articles found"]})]}),d.length===0?t.jsxs("div",{className:"no-posts",children:[t.jsx("div",{className:"no-posts-icon",children:""}),t.jsx("h3",{children:"No articles found"}),t.jsx("p",{children:"Try adjusting your search or browse different categories"})]}):t.jsx("div",{className:"posts-list",children:d.map(p=>{var g;return t.jsxs("article",{className:`blog-post ${p.featured?"featured":""}`,children:[p.featured&&t.jsx("div",{className:"featured-badge",children:" Featured"}),t.jsxs("div",{className:"post-header",children:[t.jsx("div",{className:"post-image",children:p.image}),t.jsxs("div",{className:"post-meta",children:[t.jsx("div",{className:"post-category",children:(g=o.find(x=>x.id===p.category))==null?void 0:g.name}),t.jsx("div",{className:"post-date",children:m(p.date)}),t.jsx("div",{className:"post-read-time",children:p.readTime})]})]}),t.jsxs("div",{className:"post-content",children:[t.jsx("h3",{className:"post-title",children:t.jsx(he,{to:`/blog/${p.id}`,children:p.title})}),t.jsx("p",{className:"post-excerpt",children:p.excerpt}),r===p.id&&t.jsx("div",{className:"post-full-content",children:t.jsx("p",{children:p.content})}),t.jsx("div",{className:"post-tags",children:p.tags.map((x,j)=>t.jsxs("span",{className:"tag",children:["#",x]},j))})]}),t.jsxs("div",{className:"post-footer",children:[t.jsx("div",{className:"post-author",children:t.jsx("span",{className:"author-name",children:p.author})}),t.jsxs("div",{className:"post-actions",children:[t.jsx("button",{className:"read-more-btn",onClick:()=>h(p.id),children:r===p.id?"Show Less":"Read More"}),t.jsx(he,{to:`/blog/${p.id}`,className:"read-full-btn",children:"Read Full Article"})]})]})]},p.id)})})]}),t.jsxs("div",{className:"blog-sidebar",children:[t.jsxs("div",{className:"sidebar-section",children:[t.jsx("h3",{children:"Popular Posts"}),t.jsx("div",{className:"popular-posts",children:c.map(p=>t.jsxs("div",{className:"popular-post",children:[t.jsx("div",{className:"popular-post-image",children:p.image}),t.jsxs("div",{className:"popular-post-content",children:[t.jsx("h4",{children:t.jsx(he,{to:`/blog/${p.id}`,children:p.title.length>50?p.title.substring(0,50)+"...":p.title})}),t.jsxs("span",{className:"post-views",children:[p.views," views"]})]})]},p.id))})]}),t.jsxs("div",{className:"sidebar-section newsletter-widget",children:[t.jsx("h3",{children:"Subscribe to Newsletter"}),t.jsx("p",{children:"Get the latest tips and insights delivered to your inbox"}),t.jsxs("form",{className:"newsletter-form",children:[t.jsx("input",{type:"email",placeholder:"Your email address",className:"newsletter-input"}),t.jsx("button",{type:"submit",className:"newsletter-btn",children:"Subscribe"})]})]}),t.jsxs("div",{className:"sidebar-section",children:[t.jsx("h3",{children:"Categories"}),t.jsx("div",{className:"category-list",children:o.slice(1).map(p=>{const g=l.filter(x=>x.category===p.id).length;return t.jsxs("div",{className:"category-item",children:[t.jsx("span",{className:"category-icon",children:p.icon}),t.jsx("span",{className:"category-name",children:p.name}),t.jsxs("span",{className:"category-count",children:["(",g,")"]})]},p.id)})})]}),t.jsxs("div",{className:"sidebar-section",children:[t.jsx("h3",{children:"Popular Tags"}),t.jsx("div",{className:"tags-cloud",children:["maintenance","tips","home care","technology","smart home","energy","sustainability","organization","business","entrepreneurship"].map((p,g)=>t.jsxs("span",{className:"tag-cloud-item",children:["#",p]},g))})]})]})]})})}),t.jsx("section",{className:"blog-newsletter-cta",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"newsletter-cta-content",children:[t.jsx("h2",{children:"Stay Updated with Latest Tips"}),t.jsx("p",{children:"Join our community and get exclusive home maintenance tips and insights"}),t.jsxs("form",{className:"newsletter-cta-form",children:[t.jsx("input",{type:"email",placeholder:"Enter your email",className:"newsletter-cta-input"}),t.jsx("button",{type:"submit",className:"newsletter-cta-btn",children:"Subscribe Now"})]})]})})})]})}function WK(){const[s,e]=f.useState("all"),[n,i]=f.useState(null),r=[{id:"all",name:"All News",icon:""},{id:"company",name:"Company News",icon:""},{id:"product",name:"Product Updates",icon:""},{id:"awards",name:"Awards",icon:""},{id:"partnership",name:"Partnerships",icon:""},{id:"events",name:"Events",icon:""}],a=[{id:1,date:"2024-06-10",category:"company",title:"Smart ServiceHub Achieves 50,000+ Customers Milestone",summary:"Leading service platform celebrates major customer growth milestone with 4.8 average rating.",content:"Smart ServiceHub, India's trusted home and business services platform, today announced it has successfully served over 50,000 customers across 15+ cities. This achievement comes just 5 years after the company's founding and reflects the growing trust in their quality services.",quote:"This milestone is a testament to our commitment to quality service and customer satisfaction. We're grateful to our customers and service professionals who made this possible.",quoteAuthor:"Rahul Sharma, CEO",mediaContact:"press@smartservicehub.com",featured:!0},{id:2,date:"2024-05-15",category:"product",title:"Launch of AI-Powered Service Matching System",summary:"New AI technology enhances customer experience by matching with the perfect service professional in seconds.",content:"Smart ServiceHub has launched its revolutionary AI-powered service matching system that uses machine learning algorithms to connect customers with the most suitable service professionals based on expertise, location, availability, and customer reviews.",quote:"Our new AI system ensures customers get the right professional for their needs, improving satisfaction and reducing service time by 40%.",quoteAuthor:"Amit Kumar, CTO",mediaContact:"press@smartservicehub.com",featured:!0},{id:3,date:"2024-04-20",category:"partnership",title:"Strategic Partnership with Asian Paints for Premium Painting Services",summary:"Collaboration brings certified painting professionals and premium paint products to customers.",content:"Smart ServiceHub has announced a strategic partnership with Asian Paints, India's leading paint company. This collaboration ensures customers get access to certified painting professionals who use genuine Asian Paints products with warranty protection.",quote:"This partnership elevates our painting service quality and gives customers peace of mind with genuine products and professional service.",quoteAuthor:"Priya Patel, COO",mediaContact:"press@smartservicehub.com",featured:!1},{id:4,date:"2024-03-10",category:"awards",title:'Wins "Best Service Platform 2023" at Tech India Awards',summary:"Recognized for excellence in service delivery and technological innovation.",content:`Smart ServiceHub has been honored with the "Best Service Platform 2023" award at the prestigious Tech India Awards. The recognition highlights the company's innovative approach to connecting customers with verified service professionals.`,quote:"This award validates our mission to revolutionize the service industry through technology and customer-centric approach.",quoteAuthor:"Rahul Sharma, CEO",mediaContact:"press@smartservicehub.com",featured:!1},{id:5,date:"2024-02-01",category:"events",title:"Smart ServiceHub to Sponsor Service Excellence Summit 2024",summary:"Company to showcase innovation and network with industry leaders at major industry event.",content:"Smart ServiceHub will be the title sponsor for the Service Excellence Summit 2024, bringing together service industry leaders, innovators, and policymakers. The company will demonstrate its latest technology and share insights on the future of service delivery.",quote:"We're excited to sponsor this summit and contribute to the conversation about service industry innovation and excellence.",quoteAuthor:"Neha Gupta, Head of Marketing",mediaContact:"press@smartservicehub.com",featured:!1},{id:6,date:"2024-01-15",category:"company",title:"Expansion to 5 New Cities in Southern India",summary:"Platform now available in Bangalore, Chennai, Hyderabad, Coimbatore, and Kochi.",content:"Smart ServiceHub has expanded its services to 5 new cities in Southern India, bringing its trusted home and business services to more customers. The expansion includes over 100 verified service professionals in the region.",quote:"Southern India is a key market for us. We're committed to bringing our quality services to more cities across the country.",quoteAuthor:"Priya Patel, COO",mediaContact:"press@smartservicehub.com",featured:!1}],o=[{title:"Company Logo",description:"Official Smart ServiceHub logos in various formats",download:"#logo"},{title:"Brand Guidelines",description:"Complete brand style guide and usage guidelines",download:"#brand"},{title:"Executive Photos",description:"High-resolution photos of leadership team",download:"#photos"},{title:"Company Fact Sheet",description:"Key facts, figures, and company information",download:"#factsheet"},{title:"Product Screenshots",description:"App screenshots and product images",download:"#screenshots"},{title:"B-roll Videos",description:"Company videos and service demonstrations",download:"#videos"}],l=[{outlet:"Economic Times",date:"2024-06-05",title:"How Smart ServiceHub is Revolutionizing Home Services in India",link:"#economic-times"},{outlet:"TechCrunch India",date:"2024-05-20",title:"AI-Powered Service Matching: The Future of Home Services",link:"#techcrunch"},{outlet:"YourStory",date:"2024-04-15",title:"From Startup to Market Leader: Smart ServiceHub Journey",link:"#yourstory"},{outlet:"Business Standard",date:"2024-03-25",title:"Service Tech Companies Poised for Growth in Post-Pandemic India",link:"#business-standard"}],c=[{name:"Service Excellence Summit 2024",date:"July 15-17, 2024",location:"Bengaluru",type:"Sponsor & Speaker"},{name:"Tech Startup Expo",date:"August 20-21, 2024",location:"Mumbai",type:"Exhibitor"},{name:"India Service Industry Conference",date:"September 10, 2024",location:"Delhi",type:"Speaker"}],d=a.filter(p=>s==="all"||p.category===s),h=p=>{i(n===p?null:p)},m=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return t.jsxs("div",{className:"press-page",children:[t.jsx("section",{className:"press-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{children:"Press & Media"}),t.jsx("p",{className:"hero-subtitle",children:"News, updates, and media resources"}),t.jsx("p",{className:"hero-description",children:"Welcome to the Smart ServiceHub press room. Find the latest news, press releases, media resources, and company information for journalists and media professionals."}),t.jsxs("div",{className:"press-stats",children:[t.jsxs("div",{className:"press-stat",children:[t.jsx("span",{className:"stat-number",children:"50K+"}),t.jsx("span",{className:"stat-label",children:"Customers Served"})]}),t.jsxs("div",{className:"press-stat",children:[t.jsx("span",{className:"stat-number",children:"500+"}),t.jsx("span",{className:"stat-label",children:"Service Professionals"})]}),t.jsxs("div",{className:"press-stat",children:[t.jsx("span",{className:"stat-number",children:"15+"}),t.jsx("span",{className:"stat-label",children:"Cities Covered"})]}),t.jsxs("div",{className:"press-stat",children:[t.jsx("span",{className:"stat-number",children:"4.8"}),t.jsx("span",{className:"stat-label",children:"Customer Rating"})]})]})]})}),t.jsx("section",{className:"media-contact-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"media-contact-card",children:[t.jsx("h2",{children:"Media Inquiries"}),t.jsx("p",{children:"For press inquiries, interviews, or media resources, please contact:"}),t.jsxs("div",{className:"contact-info",children:[t.jsxs("div",{className:"contact-item",children:[t.jsx("span",{className:"contact-icon",children:""}),t.jsxs("div",{children:[t.jsx("strong",{children:"Email:"}),t.jsx("a",{href:"mailto:press@smartservicehub.com",children:"press@smartservicehub.com"})]})]}),t.jsxs("div",{className:"contact-item",children:[t.jsx("span",{className:"contact-icon",children:""}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"}),t.jsx("a",{href:"tel:+919876543200",children:"+91 98765 43200"})]})]}),t.jsxs("div",{className:"contact-item",children:[t.jsx("span",{className:"contact-icon",children:""}),t.jsxs("div",{children:[t.jsx("strong",{children:"Address:"}),"123 Business Park, Andheri East, Mumbai - 400001"]})]})]})]})})}),t.jsx("section",{className:"press-releases-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Press Releases"}),t.jsx("div",{className:"category-filter",children:r.map(p=>t.jsxs("button",{className:`category-btn ${s===p.id?"active":""}`,onClick:()=>e(p.id),children:[t.jsx("span",{className:"category-icon",children:p.icon}),t.jsx("span",{className:"category-name",children:p.name})]},p.id))}),t.jsx("div",{className:"press-releases-list",children:d.map(p=>{var g,x;return t.jsxs("article",{className:`press-release ${p.featured?"featured":""}`,children:[p.featured&&t.jsx("div",{className:"featured-badge",children:" Featured"}),t.jsx("div",{className:"release-header",children:t.jsxs("div",{className:"release-meta",children:[t.jsx("span",{className:"release-date",children:m(p.date)}),t.jsxs("span",{className:"release-category",children:[(g=r.find(j=>j.id===p.category))==null?void 0:g.icon,(x=r.find(j=>j.id===p.category))==null?void 0:x.name]})]})}),t.jsx("h3",{className:"release-title",children:p.title}),t.jsx("p",{className:"release-summary",children:p.summary}),n===p.id&&t.jsxs("div",{className:"release-full-content",children:[t.jsx("p",{children:p.content}),p.quote&&t.jsxs("blockquote",{className:"release-quote",children:[t.jsxs("p",{children:['"',p.quote,'"']}),t.jsxs("cite",{children:[" ",p.quoteAuthor]})]}),t.jsxs("div",{className:"release-contact",children:[t.jsx("strong",{children:"Media Contact:"})," ",p.mediaContact]})]}),t.jsx("button",{className:"read-more-btn",onClick:()=>h(p.id),children:n===p.id?"Show Less":"Read Full Release"})]},p.id)})})]})}),t.jsx("section",{className:"media-coverage-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Media Coverage"}),t.jsx("div",{className:"media-coverage-grid",children:l.map((p,g)=>t.jsxs("article",{className:"media-coverage-card",children:[t.jsxs("div",{className:"coverage-header",children:[t.jsx("h3",{className:"outlet-name",children:p.outlet}),t.jsx("span",{className:"coverage-date",children:p.date})]}),t.jsx("h4",{className:"coverage-title",children:p.title}),t.jsx("a",{href:p.link,className:"coverage-link",target:"_blank",rel:"noopener noreferrer",children:"Read Article "})]},g))})]})}),t.jsx("section",{className:"media-kit-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Media Kit"}),t.jsx("p",{className:"section-intro",children:"Download official logos, brand guidelines, executive photos, and company resources."}),t.jsx("div",{className:"media-kit-grid",children:o.map((p,g)=>t.jsxs("div",{className:"media-kit-item",children:[t.jsx("div",{className:"kit-icon",children:""}),t.jsx("h3",{children:p.title}),t.jsx("p",{children:p.description}),t.jsx("a",{href:p.download,className:"download-btn",children:"Download"})]},g))})]})}),t.jsx("section",{className:"events-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Upcoming Events"}),t.jsx("div",{className:"events-list",children:c.map((p,g)=>t.jsxs("div",{className:"event-card",children:[t.jsxs("div",{className:"event-date",children:[t.jsx("div",{className:"date-day",children:p.date.split(" ")[1].split(",")[0]}),t.jsx("div",{className:"date-month",children:p.date.split(" ")[0]})]}),t.jsxs("div",{className:"event-details",children:[t.jsx("h3",{children:p.name}),t.jsxs("p",{className:"event-location",children:[" ",p.location]}),t.jsx("span",{className:"event-type",children:p.type})]})]},g))})]})}),t.jsx("section",{className:"company-facts-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Company Facts"}),t.jsxs("div",{className:"facts-grid",children:[t.jsxs("div",{className:"fact-card",children:[t.jsx("h3",{children:"Company Overview"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Founded: 2019"}),t.jsx("li",{children:"Headquarters: Mumbai, India"}),t.jsx("li",{children:"CEO: Rahul Sharma"}),t.jsx("li",{children:"Employees: 100+"}),t.jsx("li",{children:"Service Categories: 6"})]})]}),t.jsxs("div",{className:"fact-card",children:[t.jsx("h3",{children:"Services"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Plumbing Services"}),t.jsx("li",{children:"Electrical Services"}),t.jsx("li",{children:"Cleaning Services"}),t.jsx("li",{children:"Pest Control"}),t.jsx("li",{children:"AC Services"}),t.jsx("li",{children:"Painting Services"})]})]}),t.jsxs("div",{className:"fact-card",children:[t.jsx("h3",{children:"Technology Stack"}),t.jsxs("ul",{children:[t.jsx("li",{children:"AI-Powered Matching"}),t.jsx("li",{children:"Real-Time Tracking"}),t.jsx("li",{children:"Secure Payments"}),t.jsx("li",{children:"Mobile Apps (iOS & Android)"}),t.jsx("li",{children:"Cloud Infrastructure"})]})]}),t.jsxs("div",{className:"fact-card",children:[t.jsx("h3",{children:"Awards & Recognition"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Best Service Platform 2023"}),t.jsx("li",{children:"Customer Choice Award 2023"}),t.jsx("li",{children:"Innovation in Service 2022"}),t.jsx("li",{children:"Fastest Growing Startup 2021"}),t.jsx("li",{children:"Tech Excellence Award 2020"})]})]})]})]})}),t.jsx("section",{className:"cta-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Need More Information?"}),t.jsx("p",{children:"Our press team is ready to help with your media inquiries"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx("a",{href:"mailto:press@smartservicehub.com",className:"btn-primary",children:" Contact Press Team"}),t.jsx(he,{to:"/contact",className:"btn-secondary",children:"General Contact"})]})]})})})]})}function HK(){const[s,e]=f.useState("all"),[n,i]=f.useState({name:"",email:"",phone:"",company:"",category:"",message:"",partnershipType:""}),[r,a]=f.useState(!1),o=[{id:"all",name:"All Partners",icon:""},{id:"service",name:"Service Partners",icon:""},{id:"technology",name:"Technology Partners",icon:""},{id:"material",name:"Material Suppliers",icon:""},{id:"corporate",name:"Corporate Clients",icon:""},{id:"franchise",name:"Franchise Partners",icon:""}],l=[{id:1,name:"Asian Paints",category:"material",logo:"",description:"Leading paint manufacturer providing premium quality paints and coatings",benefits:["Genuine products","Warranty support","Training programs","Marketing support"],partnershipType:"Material Supplier",since:"2022"},{id:2,name:"Daikin India",category:"material",logo:"",description:"Premium air conditioning manufacturer with advanced cooling solutions",benefits:["Original parts","Technical training","Warranty coverage","Service support"],partnershipType:"Material Supplier",since:"2021"},{id:3,name:"Godrej Security",category:"service",logo:"",description:"Trusted security solutions provider for homes and businesses",benefits:["Verified professionals","Quality equipment","24/7 support","Insurance coverage"],partnershipType:"Service Partner",since:"2020"},{id:4,name:"Hindware",category:"material",logo:"",description:"Leading bathroom and kitchen fixtures manufacturer",benefits:["Premium products","Installation support","Warranty services","Design consultation"],partnershipType:"Material Supplier",since:"2023"},{id:5,name:"Philips Lighting",category:"material",logo:"",description:"Innovative lighting solutions for residential and commercial spaces",benefits:["Energy-efficient products","Smart lighting","Technical support","Warranty assurance"],partnershipType:"Material Supplier",since:"2021"},{id:6,name:"3M India",category:"material",logo:"",description:"Chemical and adhesive solutions for various service applications",benefits:["Industrial-grade chemicals","Safety compliance","Training programs","R&D support"],partnershipType:"Material Supplier",since:"2022"},{id:7,name:"TCS",category:"technology",logo:"",description:"Technology partner providing cloud infrastructure and AI solutions",benefits:["Cloud services","AI integration","Data security","24/7 tech support"],partnershipType:"Technology Partner",since:"2020"},{id:8,name:"Infosys",category:"technology",logo:"",description:"Digital transformation and mobile app development partner",benefits:["App development","UX design","Quality assurance","Maintenance support"],partnershipType:"Technology Partner",since:"2021"},{id:9,name:"Reliance Corporate",category:"corporate",logo:"",description:"Corporate client for comprehensive facility management services",benefits:["Long-term contracts","Bulk services","Priority support","Customized solutions"],partnershipType:"Corporate Client",since:"2022"},{id:10,name:"Tata Group",category:"corporate",logo:"",description:"Multi-location corporate facilities maintenance partner",benefits:["Pan-India coverage","Standardized quality","Dedicated team","Performance metrics"],partnershipType:"Corporate Client",since:"2023"}],c=[{type:"service-partner",title:"Service Partners",description:"Join our network of verified service professionals",benefits:["Access to 50K+ customers","Flexible work schedule","Professional training","Insurance coverage","Timely payments","Performance bonuses"],requirements:["Minimum 3 years experience","Valid certifications","Background verification","Quality service record","Customer references"]},{type:"material-supplier",title:"Material Suppliers",description:"Supply quality materials and products for our services",benefits:["Bulk order opportunities","Long-term contracts","Brand visibility","Quality assurance","Payment security","Growth partnership"],requirements:["ISO certified products","Quality assurance process","Supply chain capability","Competitive pricing","After-sales support"]},{type:"technology-partner",title:"Technology Partners",description:"Collaborate on technology innovation and development",benefits:["Co-development opportunities","API integration","Shared IP rights","Joint marketing","Revenue sharing","Innovation labs"],requirements:["Technical expertise","Innovation capability","Scalable solutions","Security compliance","Support infrastructure"]},{type:"corporate-client",title:"Corporate Clients",description:"Comprehensive facility management for businesses",benefits:["Customized service packages","Dedicated account manager","Priority service","Cost optimization","Quality reporting","SLA guarantee"],requirements:["Minimum 6-month contract","Multiple locations","Regular service needs","Budget approval","Point of contact"]},{type:"franchise-partner",title:"Franchise Partners",description:"Operate Smart ServiceHub in your city or region",benefits:["Established brand","Proven business model","Training & support","Marketing assistance","Technology platform","Shared success"],requirements:["Investment capability","Business experience","Local market knowledge","Team management","Infrastructure"]}],d=[{name:"Raj Electrical Services",type:"Service Partner",story:"Joined in 2020, now serving 500+ customers monthly with 4.9 rating",growth:"300% revenue growth"},{name:"PaintMart Supplies",type:"Material Supplier",story:"Partnered for painting services, now exclusive supplier in 8 cities",growth:"250% order volume"},{name:"TechSolutions Pvt Ltd",type:"Technology Partner",story:"Co-developed AI matching system, now processing 10K+ requests daily",growth:"Strategic partnership"}],h=l.filter(g=>s==="all"||g.category===s),m=async g=>{g.preventDefault(),a(!0);try{await new Promise(x=>setTimeout(x,2e3)),console.log("Partnership inquiry:",n),alert("Partnership inquiry submitted successfully! Our team will contact you within 48 hours."),i({name:"",email:"",phone:"",company:"",category:"",message:"",partnershipType:""})}catch{alert("Something went wrong. Please try again.")}finally{a(!1)}},p=g=>{i({...n,[g.target.name]:g.target.value})};return t.jsxs("div",{className:"partners-page",children:[t.jsx("section",{className:"partners-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{children:"Partner With Us"}),t.jsx("p",{className:"hero-subtitle",children:"Build success together"}),t.jsx("p",{className:"hero-description",children:"Join our growing ecosystem of service providers, suppliers, and technology partners. Together, we're revolutionizing the service industry and creating opportunities for growth."}),t.jsxs("div",{className:"partnership-stats",children:[t.jsxs("div",{className:"partner-stat",children:[t.jsx("span",{className:"stat-number",children:"500+"}),t.jsx("span",{className:"stat-label",children:"Service Partners"})]}),t.jsxs("div",{className:"partner-stat",children:[t.jsx("span",{className:"stat-number",children:"50+"}),t.jsx("span",{className:"stat-label",children:"Material Suppliers"})]}),t.jsxs("div",{className:"partner-stat",children:[t.jsx("span",{className:"stat-number",children:"15+"}),t.jsx("span",{className:"stat-label",children:"Tech Partners"})]}),t.jsxs("div",{className:"partner-stat",children:[t.jsx("span",{className:"stat-number",children:"100+"}),t.jsx("span",{className:"stat-label",children:"Corporate Clients"})]})]})]})}),t.jsx("section",{className:"partnership-types-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Partnership Opportunities"}),t.jsx("div",{className:"partnership-types-grid",children:c.map((g,x)=>t.jsxs("div",{className:"partnership-type-card",children:[t.jsxs("div",{className:"type-header",children:[t.jsx("h3",{children:g.title}),t.jsx("p",{children:g.description})]}),t.jsxs("div",{className:"type-benefits",children:[t.jsx("h4",{children:"Benefits"}),t.jsx("ul",{children:g.benefits.map((j,v)=>t.jsxs("li",{children:[" ",j]},v))})]}),t.jsxs("div",{className:"type-requirements",children:[t.jsx("h4",{children:"Requirements"}),t.jsx("ul",{children:g.requirements.map((j,v)=>t.jsxs("li",{children:[" ",j]},v))})]}),t.jsx("button",{className:"apply-btn",onClick:()=>i({...n,partnershipType:g.type}),children:"Apply Now"})]},x))})]})}),t.jsx("section",{className:"current-partners-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Trusted Partners"}),t.jsx("div",{className:"category-filter",children:o.map(g=>t.jsxs("button",{className:`category-btn ${s===g.id?"active":""}`,onClick:()=>e(g.id),children:[t.jsx("span",{className:"category-icon",children:g.icon}),t.jsx("span",{className:"category-name",children:g.name})]},g.id))}),t.jsx("div",{className:"partners-grid",children:h.map(g=>t.jsxs("div",{className:"partner-card",children:[t.jsxs("div",{className:"partner-header",children:[t.jsx("div",{className:"partner-logo",children:g.logo}),t.jsxs("div",{className:"partner-meta",children:[t.jsx("span",{className:"partnership-type",children:g.partnershipType}),t.jsxs("span",{className:"partnership-since",children:["Partner since ",g.since]})]})]}),t.jsx("h3",{children:g.name}),t.jsx("p",{children:g.description}),t.jsxs("div",{className:"partner-benefits",children:[t.jsx("h4",{children:"Partnership Benefits"}),t.jsxs("div",{className:"benefits-list",children:[g.benefits.slice(0,3).map((x,j)=>t.jsx("span",{className:"benefit-tag",children:x},j)),g.benefits.length>3&&t.jsxs("span",{className:"benefit-more",children:["+",g.benefits.length-3," more"]})]})]})]},g.id))})]})}),t.jsx("section",{className:"success-stories-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Success Stories"}),t.jsx("div",{className:"success-stories-grid",children:d.map((g,x)=>t.jsxs("div",{className:"success-story-card",children:[t.jsxs("div",{className:"story-header",children:[t.jsx("h3",{children:g.name}),t.jsx("span",{className:"story-type",children:g.type})]}),t.jsx("p",{className:"story-content",children:g.story}),t.jsxs("div",{className:"story-growth",children:[t.jsx("span",{className:"growth-icon",children:""}),t.jsx("span",{className:"growth-text",children:g.growth})]})]},x))})]})}),t.jsx("section",{className:"partnership-application-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Apply for Partnership"}),t.jsx("p",{className:"section-intro",children:"Ready to grow with us? Fill out the form below and our partnership team will contact you within 48 hours."}),t.jsxs("div",{className:"application-grid",children:[t.jsx("div",{className:"application-form",children:t.jsxs("form",{onSubmit:m,children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Name *"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:p,required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address *"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:p,required:!0,disabled:r})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:p,placeholder:"+91 98765 43210",required:!0,disabled:r})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsx("input",{type:"text",name:"company",value:n.company,onChange:p,required:!0,disabled:r})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Partnership Type *"}),t.jsxs("select",{name:"partnershipType",value:n.partnershipType,onChange:p,required:!0,disabled:r,children:[t.jsx("option",{value:"",children:"Select partnership type"}),c.map(g=>t.jsx("option",{value:g.type,children:g.title},g.type))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category"}),t.jsxs("select",{name:"category",value:n.category,onChange:p,disabled:r,children:[t.jsx("option",{value:"",children:"Select category"}),t.jsx("option",{value:"service",children:"Service Provider"}),t.jsx("option",{value:"material",children:"Material Supplier"}),t.jsx("option",{value:"technology",children:"Technology"}),t.jsx("option",{value:"corporate",children:"Corporate"}),t.jsx("option",{value:"franchise",children:"Franchise"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Tell us about your business *"}),t.jsx("textarea",{name:"message",value:n.message,onChange:p,rows:4,placeholder:"Describe your business, experience, and why you want to partner with us...",required:!0,disabled:r})]}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:r,children:r?"Submitting...":"Submit Application"})]})}),t.jsxs("div",{className:"application-info",children:[t.jsx("h3",{children:"Partnership Benefits"}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Growth Opportunities"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Access to 50K+ active customers"}),t.jsx("li",{children:"Regular service requests"}),t.jsx("li",{children:"Performance-based rewards"}),t.jsx("li",{children:"Professional development"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Support & Training"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Free professional training"}),t.jsx("li",{children:"Quality standards guidance"}),t.jsx("li",{children:"Customer service support"}),t.jsx("li",{children:"Technology platform access"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Financial Benefits"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Competitive commission rates"}),t.jsx("li",{children:"Timely payment processing"}),t.jsx("li",{children:"Performance bonuses"}),t.jsx("li",{children:"Insurance coverage"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Partnership Process"}),t.jsxs("ol",{children:[t.jsx("li",{children:"Submit application form"}),t.jsx("li",{children:"Initial review (2-3 days)"}),t.jsx("li",{children:"Discussion & evaluation"}),t.jsx("li",{children:"Agreement finalization"}),t.jsx("li",{children:"Onboarding & training"})]})]})]})]})]})}),t.jsx("section",{className:"cta-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Ready to Partner?"}),t.jsx("p",{children:"Join our growing network and unlock new opportunities for growth"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx("a",{href:"tel:+919876543210",className:"btn-primary",children:" Call Partnership Team"}),t.jsx(he,{to:"/contact",className:"btn-secondary",children:"General Inquiry"})]})]})})})]})}function GK(){const[s,e]=f.useState("all"),[n,i]=f.useState(""),[r,a]=f.useState(null),[o,l]=f.useState({name:"",email:"",phone:"",subject:"",message:"",category:"",priority:"normal"}),[c,d]=f.useState(!1),h=[{id:"booking",name:"Booking & Appointments",icon:"",description:"Issues with service bookings, rescheduling, cancellations",articles:15},{id:"payment",name:"Payment & Billing",icon:"",description:"Payment methods, refunds, invoices, and billing issues",articles:12},{id:"services",name:"Service Issues",icon:"",description:"Service quality, technician issues, service complaints",articles:18},{id:"account",name:"Account Management",icon:"",description:"Profile settings, login issues, account security",articles:10},{id:"technical",name:"Technical Support",icon:"",description:"App issues, website problems, technical errors",articles:8},{id:"general",name:"General Inquiries",icon:"",description:"General questions, feedback, suggestions",articles:6}],m=[{id:1,category:"booking",title:"How to book a service?",content:"Booking a service is easy! Simply browse our services, select what you need, choose your preferred time, and confirm your booking. You'll receive a confirmation message with all details.",helpful:245,category_name:"Booking & Appointments"},{id:2,category:"booking",title:"How to reschedule or cancel my booking?",content:"You can reschedule or cancel your booking up to 2 hours before the scheduled time. Go to My Bookings, select the booking, and choose Reschedule or Cancel option.",helpful:189,category_name:"Booking & Appointments"},{id:3,category:"payment",title:"What payment methods are accepted?",content:"We accept multiple payment methods including credit/debit cards, UPI, net banking, and cash on service. All transactions are secure and encrypted.",helpful:167,category_name:"Payment & Billing"},{id:4,category:"payment",title:"How do I get a refund?",content:"If you're not satisfied with the service, you can request a refund within 7 days. Go to the service details and click on Request Refund. We'll process it within 3-5 business days.",helpful:134,category_name:"Payment & Billing"},{id:5,category:"services",title:"What if I'm not satisfied with the service?",content:"We strive for 100% customer satisfaction. If you're not happy with the service, please contact us immediately. We'll either fix the issue or provide a refund.",helpful:298,category_name:"Service Issues"},{id:6,category:"services",title:"Are your service professionals verified?",content:"Yes, all our service professionals go through rigorous background verification, skill assessment, and training before joining our platform.",helpful:412,category_name:"Service Issues"},{id:7,category:"account",title:"How do I reset my password?",content:"Click on Forgot Password on the login page. Enter your email address, and we'll send you a password reset link. Follow the instructions to create a new password.",helpful:156,category_name:"Account Management"},{id:8,category:"account",title:"How do I update my profile information?",content:"Go to My Profile section in the app or website. You can update your name, phone number, address, and other personal information. Save the changes when done.",helpful:98,category_name:"Account Management"},{id:9,category:"technical",title:"The app is not working, what should I do?",content:"Try these steps: 1) Clear app cache, 2) Update to the latest version, 3) Restart your device, 4) Check internet connection. If issues persist, contact our technical support.",helpful:223,category_name:"Technical Support"},{id:10,category:"general",title:"How do I contact customer support?",content:"You can reach our customer support through multiple channels: Call us at +91 98765 43210, WhatsApp at +91 98765 43210, email at support@smartservicehub.com, or use the in-app chat support.",helpful:387,category_name:"General Inquiries"}],p=[{icon:"",title:"Call Support",description:"Speak with our support team",action:"Call Now",href:"tel:+919876543210"},{icon:"",title:"Live Chat",description:"Chat with support agent",action:"Start Chat",href:"#chat"},{icon:"",title:"Email Support",description:"Send us an email",action:"Send Email",href:"mailto:support@smartservicehub.com"},{icon:"",title:"WhatsApp",description:"Chat on WhatsApp",action:"Chat Now",href:"https://wa.me/919876543210"}],g=m.filter(N=>{const C=s==="all"||N.category===s,I=N.title.toLowerCase().includes(n.toLowerCase())||N.content.toLowerCase().includes(n.toLowerCase());return C&&I}),x=async N=>{N.preventDefault(),d(!0);try{await new Promise(C=>setTimeout(C,2e3)),console.log("Support ticket submitted:",o),alert("Support ticket submitted successfully! Our team will respond within 24 hours."),l({name:"",email:"",phone:"",subject:"",message:"",category:"",priority:"normal"})}catch{alert("Something went wrong. Please try again.")}finally{d(!1)}},j=N=>{l({...o,[N.target.name]:N.target.value})},v=N=>{a(r===N?null:N)},b=N=>{console.log("Marked as helpful:",N)};return t.jsxs("div",{className:"help-center-page",children:[t.jsx("section",{className:"help-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{children:"Help Center"}),t.jsx("p",{className:"hero-subtitle",children:"We're here to help you"}),t.jsx("p",{className:"hero-description",children:"Find answers to common questions, get support for your issues, and learn how to make the most of Smart ServiceHub services."}),t.jsxs("div",{className:"help-search",children:[t.jsx("input",{type:"text",placeholder:"Search for help articles...",value:n,onChange:N=>i(N.target.value),className:"search-input"}),t.jsx("span",{className:"search-icon",children:""})]}),t.jsx("div",{className:"quick-actions",children:p.map((N,C)=>t.jsxs("a",{href:N.href,className:"quick-action",children:[t.jsx("div",{className:"action-icon",children:N.icon}),t.jsxs("div",{className:"action-content",children:[t.jsx("h4",{children:N.title}),t.jsx("p",{children:N.description})]}),t.jsx("span",{className:"action-link",children:N.action})]},C))})]})}),t.jsx("section",{className:"categories-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Browse by Category"}),t.jsxs("div",{className:"categories-grid",children:[t.jsxs("button",{className:`category-btn ${s==="all"?"active":""}`,onClick:()=>e("all"),children:[t.jsx("span",{className:"category-icon",children:""}),t.jsx("span",{className:"category-name",children:"All Articles"}),t.jsxs("span",{className:"article-count",children:[m.length," articles"]})]}),h.map(N=>t.jsxs("button",{className:`category-btn ${s===N.id?"active":""}`,onClick:()=>e(N.id),children:[t.jsx("span",{className:"category-icon",children:N.icon}),t.jsx("span",{className:"category-name",children:N.name}),t.jsxs("span",{className:"article-count",children:[N.articles," articles"]})]},N.id))]})]})}),t.jsx("section",{className:"articles-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Help Articles"}),g.length===0?t.jsxs("div",{className:"no-articles",children:[t.jsx("div",{className:"no-articles-icon",children:""}),t.jsx("h3",{children:"No articles found"}),t.jsx("p",{children:"Try adjusting your search or browse different categories"})]}):t.jsx("div",{className:"articles-list",children:g.map(N=>t.jsxs("div",{className:"article-card",children:[t.jsxs("div",{className:"article-header",children:[t.jsx("div",{className:"article-category",children:N.category_name}),t.jsxs("div",{className:"article-helpful",children:[t.jsxs("span",{className:"helpful-count",children:[" ",N.helpful]}),t.jsx("button",{className:"helpful-btn",onClick:()=>b(N.id),children:"Helpful"})]})]}),t.jsx("h3",{className:"article-title",children:N.title}),t.jsx("div",{className:`article-content ${r===N.id?"expanded":""}`,children:t.jsx("p",{children:N.content})}),t.jsx("button",{className:"read-more-btn",onClick:()=>v(N.id),children:r===N.id?"Show Less":"Read More"})]},N.id))})]})}),t.jsx("section",{className:"contact-support-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Still Need Help?"}),t.jsx("p",{children:"Can't find what you're looking for? Contact our support team directly."}),t.jsxs("div",{className:"support-grid",children:[t.jsxs("div",{className:"support-form",children:[t.jsx("h3",{children:"Submit a Support Ticket"}),t.jsxs("form",{onSubmit:x,children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Name *"}),t.jsx("input",{type:"text",name:"name",value:o.name,onChange:j,required:!0,disabled:c})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address *"}),t.jsx("input",{type:"email",name:"email",value:o.email,onChange:j,required:!0,disabled:c})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number"}),t.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:j,placeholder:"+91 98765 43210",disabled:c})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category *"}),t.jsxs("select",{name:"category",value:o.category,onChange:j,required:!0,disabled:c,children:[t.jsx("option",{value:"",children:"Select category"}),h.map(N=>t.jsx("option",{value:N.name,children:N.name},N.id))]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Subject *"}),t.jsx("input",{type:"text",name:"subject",value:o.subject,onChange:j,placeholder:"Brief description of your issue",required:!0,disabled:c})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Priority Level"}),t.jsxs("select",{name:"priority",value:o.priority,onChange:j,disabled:c,children:[t.jsx("option",{value:"low",children:"Low - General inquiry"}),t.jsx("option",{value:"normal",children:"Normal - Standard support"}),t.jsx("option",{value:"high",children:"High - Urgent issue"}),t.jsx("option",{value:"critical",children:"Critical - Service down"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Message *"}),t.jsx("textarea",{name:"message",value:o.message,onChange:j,rows:5,placeholder:"Please describe your issue in detail...",required:!0,disabled:c})]}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:c,children:c?"Submitting...":"Submit Ticket"})]})]}),t.jsxs("div",{className:"support-info",children:[t.jsx("h3",{children:"Other Ways to Get Help"}),t.jsxs("div",{className:"support-methods",children:[t.jsxs("div",{className:"support-method",children:[t.jsx("div",{className:"method-icon",children:""}),t.jsxs("div",{className:"method-details",children:[t.jsx("h4",{children:"Phone Support"}),t.jsx("p",{children:"24/7 available for urgent issues"}),t.jsx("a",{href:"tel:+919876543210",className:"method-link",children:"+91 98765 43210"})]})]}),t.jsxs("div",{className:"support-method",children:[t.jsx("div",{className:"method-icon",children:""}),t.jsxs("div",{className:"method-details",children:[t.jsx("h4",{children:"Live Chat"}),t.jsx("p",{children:"Chat with our support team"}),t.jsx("button",{className:"method-link",children:"Start Chat"})]})]}),t.jsxs("div",{className:"support-method",children:[t.jsx("div",{className:"method-icon",children:""}),t.jsxs("div",{className:"method-details",children:[t.jsx("h4",{children:"WhatsApp Support"}),t.jsx("p",{children:"Quick support via WhatsApp"}),t.jsx("a",{href:"https://wa.me/919876543210",className:"method-link",children:"Chat Now"})]})]}),t.jsxs("div",{className:"support-method",children:[t.jsx("div",{className:"method-icon",children:""}),t.jsxs("div",{className:"method-details",children:[t.jsx("h4",{children:"Email Support"}),t.jsx("p",{children:"Get response within 24 hours"}),t.jsx("a",{href:"mailto:support@smartservicehub.com",className:"method-link",children:"Send Email"})]})]})]}),t.jsxs("div",{className:"response-times",children:[t.jsx("h4",{children:"Response Times"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Critical Issues:"})," Within 30 minutes"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"High Priority:"})," Within 2 hours"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Normal Priority:"})," Within 8 hours"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Low Priority:"})," Within 24 hours"]})]})]})]})]})]})}),t.jsx("section",{className:"popular-topics-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Popular Topics"}),t.jsxs("div",{className:"topics-grid",children:[t.jsxs("div",{className:"topic-card",children:[t.jsx("div",{className:"topic-icon",children:""}),t.jsx("h3",{children:"Getting Started"}),t.jsx("p",{children:"Learn how to use Smart ServiceHub"}),t.jsx("button",{className:"topic-btn",children:"View Articles"})]}),t.jsxs("div",{className:"topic-card",children:[t.jsx("div",{className:"topic-icon",children:""}),t.jsx("h3",{children:"Payment Help"}),t.jsx("p",{children:"Understand payments and refunds"}),t.jsx("button",{className:"topic-btn",children:"View Articles"})]}),t.jsxs("div",{className:"topic-card",children:[t.jsx("div",{className:"topic-icon",children:""}),t.jsx("h3",{children:"Service Issues"}),t.jsx("p",{children:"Resolve service-related problems"}),t.jsx("button",{className:"topic-btn",children:"View Articles"})]}),t.jsxs("div",{className:"topic-card",children:[t.jsx("div",{className:"topic-icon",children:""}),t.jsx("h3",{children:"Account Help"}),t.jsx("p",{children:"Manage your account settings"}),t.jsx("button",{className:"topic-btn",children:"View Articles"})]})]})]})}),t.jsx("section",{className:"cta-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Need Immediate Assistance?"}),t.jsx("p",{children:"Our support team is available 24/7 to help you with any issues"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx("a",{href:"tel:+919876543210",className:"btn-primary emergency-btn",children:" Emergency Support"}),t.jsx("a",{href:"https://wa.me/919876543210",className:"btn-secondary",children:" WhatsApp Support"})]})]})})})]})}function KK(){const[s,e]=f.useState("all"),[n,i]=f.useState(""),[r,a]=f.useState(null),o=[{id:"all",name:"All FAQs",icon:""},{id:"general",name:"General",icon:""},{id:"booking",name:"Booking",icon:""},{id:"payment",name:"Payment",icon:""},{id:"services",name:"Services",icon:""},{id:"account",name:"Account",icon:""},{id:"technical",name:"Technical",icon:""}],l=[{id:1,category:"general",question:"What is Smart ServiceHub?",answer:"Smart ServiceHub is a comprehensive platform that connects customers with verified professionals for various home and business services. We offer plumbing, electrical, cleaning, pest control, AC service, painting, and appliance repair services across major cities in India.",helpful:234},{id:2,category:"general",question:"Which cities do you operate in?",answer:"We currently operate in Mumbai, Delhi, Bangalore, Chennai, Pune, Hyderabad, and their surrounding areas. We are continuously expanding to serve more cities across India.",helpful:189},{id:3,category:"general",question:"How do I know your professionals are reliable?",answer:"All our professionals undergo a rigorous verification process including background checks, police verification, skill assessment, and training. We also monitor customer feedback and ratings to ensure quality service.",helpful:312},{id:4,category:"general",question:"What are your service hours?",answer:"Our standard service hours are 9 AM to 8 PM, Monday to Saturday, and 10 AM to 6 PM on Sunday. However, we offer 24/7 emergency services for urgent plumbing and electrical issues.",helpful:156},{id:5,category:"booking",question:"How do I book a service?",answer:"Booking is easy! You can book through our website, mobile app, or by calling our customer service. Simply select the service you need, choose your preferred time slot, provide your details, and confirm the booking. You'll receive a confirmation message with all details.",helpful:445},{id:6,category:"booking",question:"Can I reschedule or cancel my booking?",answer:"Yes, you can reschedule or cancel your booking up to 2 hours before the scheduled time without any charges. Simply go to My Bookings in your account and select the reschedule or cancel option.",helpful:278},{id:7,category:"booking",question:"How far in advance should I book?",answer:"For regular services, we recommend booking 24-48 hours in advance to ensure availability. For emergency services, we can typically respond within 30 minutes to 2 hours depending on your location.",helpful:198},{id:8,category:"booking",question:"What happens after I book a service?",answer:"After booking, you'll receive a confirmation with the professional's details and estimated arrival time. The professional will call you 30 minutes before arrival. You can track their real-time location through our app.",helpful:234},{id:9,category:"payment",question:"What payment methods do you accept?",answer:"We accept multiple payment methods including credit/debit cards, UPI, net banking, and cash on service. All online payments are secured with 256-bit encryption.",helpful:367},{id:10,category:"payment",question:"How is the pricing determined?",answer:"Pricing varies based on service type, complexity, time required, and materials used. We provide transparent, upfront quotes before starting any work. There are no hidden charges.",helpful:289},{id:11,category:"payment",question:"Can I get a refund?",answer:"Yes, we offer a 100% satisfaction guarantee. If you're not satisfied with the service, you can request a refund within 7 days. We'll process the refund within 3-5 business days.",helpful:201},{id:12,category:"payment",question:"Are there any additional charges?",answer:"The price quoted includes all standard charges. Additional charges may apply for emergency services (300 surcharge), weekend services (200 surcharge), or if additional work is required beyond the scope of the original booking.",helpful:167},{id:13,category:"services",question:"Do you provide warranty on services?",answer:"Yes, we provide a 30-day warranty on workmanship and 90-day warranty on replaced parts. If any issues arise during the warranty period, we'll fix them free of charge.",helpful:423},{id:14,category:"services",question:"What if I'm not satisfied with the service?",answer:"Customer satisfaction is our top priority. If you're not satisfied, please contact us immediately within 24 hours. We'll either re-do the service free of charge or provide a full refund.",helpful:356},{id:15,category:"services",question:"Do you use genuine spare parts?",answer:"Yes, we only use genuine, manufacturer-approved spare parts to ensure quality and longevity. All parts come with their own manufacturer warranty.",helpful:234},{id:16,category:"services",question:"Can I request a specific professional?",answer:"While we try to accommodate requests for specific professionals, it depends on their availability. However, all our professionals are equally qualified and trained to provide excellent service.",helpful:178},{id:17,category:"account",question:"How do I create an account?",answer:"Creating an account is simple! Click on Sign Up, enter your name, email, phone number, and create a password. You'll receive a verification email/SMS to activate your account.",helpful:289},{id:18,category:"account",question:"How do I reset my password?",answer:"Click on Forgot Password on the login page. Enter your registered email address, and we'll send you a password reset link. Follow the instructions to create a new password.",helpful:234},{id:19,category:"account",question:"How do I update my profile information?",answer:"Log in to your account and go to Profile section. You can update your name, phone number, address, and other personal information. Don't forget to save the changes.",helpful:167},{id:20,category:"account",question:"Is my personal information secure?",answer:"Yes, we take data security very seriously. All your personal information is encrypted and stored securely. We never share your data with third parties without your consent.",helpful:312},{id:21,category:"technical",question:"Is your mobile app available for both iOS and Android?",answer:"Yes, our mobile app is available for both iOS (App Store) and Android (Google Play Store). You can download it for free and enjoy all features.",helpful:245},{id:22,category:"technical",question:"The app is not working, what should I do?",answer:"Try these steps: 1) Clear app cache, 2) Update to the latest version, 3) Restart your device, 4) Check internet connection. If issues persist, contact our technical support.",helpful:189},{id:23,category:"technical",question:"I forgot my password and can't access email, what do I do?",answer:"Contact our customer support at +91 98765 43210. After verifying your identity, we can help you reset your password through an alternative method.",helpful:134},{id:24,category:"technical",question:"How do I report a technical issue?",answer:"You can report technical issues through the app's Help section, email us at support@smartservicehub.com, or call our technical support team.",helpful:156}],c=l.filter(p=>{const g=s==="all"||p.category===s,x=p.question.toLowerCase().includes(n.toLowerCase())||p.answer.toLowerCase().includes(n.toLowerCase());return g&&x}),d=p=>{a(r===p?null:p)},h=p=>{console.log("Marked as helpful:",p)},m=[{icon:"",title:"Call Support",description:"Speak with our support team",contact:"+91 98765 43210",href:"tel:+919876543210"},{icon:"",title:"Live Chat",description:"Chat with support agent",contact:"Available 9 AM - 8 PM",href:"#chat"},{icon:"",title:"Email Support",description:"Send us an email",contact:"support@smartservicehub.com",href:"mailto:support@smartservicehub.com"},{icon:"",title:"WhatsApp",description:"Chat on WhatsApp",contact:"+91 98765 43210",href:"https://wa.me/919876543210"}];return t.jsxs("div",{className:"faq-page",children:[t.jsx("section",{className:"faq-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{children:"Frequently Asked Questions"}),t.jsx("p",{className:"hero-subtitle",children:"Find answers to common questions"}),t.jsx("p",{className:"hero-description",children:"Can't find what you're looking for? Our comprehensive FAQ section covers everything from booking services to payments and technical support."}),t.jsxs("div",{className:"faq-search",children:[t.jsx("input",{type:"text",placeholder:"Search FAQs...",value:n,onChange:p=>i(p.target.value),className:"search-input"}),t.jsx("span",{className:"search-icon",children:""})]})]})}),t.jsx("section",{className:"faq-categories",children:t.jsx("div",{className:"container",children:t.jsx("div",{className:"categories-nav",children:o.map(p=>t.jsxs("button",{className:`category-btn ${s===p.id?"active":""}`,onClick:()=>e(p.id),children:[t.jsx("span",{className:"category-icon",children:p.icon}),t.jsx("span",{className:"category-name",children:p.name})]},p.id))})})}),t.jsx("section",{className:"faq-content",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"faq-grid",children:[t.jsxs("div",{className:"faq-list-section",children:[t.jsxs("div",{className:"faq-header",children:[t.jsx("h2",{children:"Questions & Answers"}),t.jsxs("p",{className:"faq-count",children:[c.length," FAQs found"]})]}),c.length===0?t.jsxs("div",{className:"no-faqs",children:[t.jsx("div",{className:"no-faqs-icon",children:""}),t.jsx("h3",{children:"No FAQs found"}),t.jsx("p",{children:"Try adjusting your search or browse different categories"})]}):t.jsx("div",{className:"faq-list",children:c.map(p=>t.jsxs("div",{className:"faq-item",children:[t.jsxs("button",{className:"faq-question",onClick:()=>d(p.id),children:[t.jsx("span",{className:"question-text",children:p.question}),t.jsx("span",{className:"question-icon",children:r===p.id?"":"+"})]}),r===p.id&&t.jsxs("div",{className:"faq-answer",children:[t.jsx("p",{children:p.answer}),t.jsx("div",{className:"faq-actions",children:t.jsxs("button",{className:"helpful-btn",onClick:()=>h(p.id),children:[" Helpful (",p.helpful,")"]})})]})]},p.id))})]}),t.jsxs("div",{className:"faq-sidebar",children:[t.jsxs("div",{className:"sidebar-section",children:[t.jsx("h3",{children:"Still Need Help?"}),t.jsx("div",{className:"contact-options",children:m.map((p,g)=>t.jsxs("a",{href:p.href,className:"contact-option",children:[t.jsx("div",{className:"contact-icon",children:p.icon}),t.jsxs("div",{className:"contact-details",children:[t.jsx("h4",{children:p.title}),t.jsx("p",{children:p.description}),t.jsx("span",{className:"contact-info",children:p.contact})]})]},g))})]}),t.jsxs("div",{className:"sidebar-section",children:[t.jsx("h3",{children:"Popular FAQs"}),t.jsx("div",{className:"popular-faqs",children:l.filter(p=>p.helpful>300).slice(0,5).map(p=>t.jsxs("div",{className:"popular-faq",children:[t.jsx("button",{className:"popular-faq-question",onClick:()=>d(p.id),children:p.question}),t.jsxs("span",{className:"popular-faq-helpful",children:[" ",p.helpful]})]},p.id))})]}),t.jsxs("div",{className:"sidebar-section",children:[t.jsx("h3",{children:"Quick Links"}),t.jsxs("div",{className:"quick-links",children:[t.jsx(he,{to:"/help-center",className:"quick-link",children:" Help Center"}),t.jsx(he,{to:"/contact",className:"quick-link",children:" Contact Support"}),t.jsx(he,{to:"/services",className:"quick-link",children:" Our Services"}),t.jsx(he,{to:"/company/about",className:"quick-link",children:" About Us"})]})]}),t.jsxs("div",{className:"sidebar-section",children:[t.jsx("h3",{children:"FAQ Categories"}),t.jsx("div",{className:"category-stats",children:o.slice(1).map(p=>{const g=l.filter(x=>x.category===p.id).length;return t.jsxs("div",{className:"category-stat",children:[t.jsx("span",{className:"category-icon",children:p.icon}),t.jsx("span",{className:"category-name",children:p.name}),t.jsxs("span",{className:"category-count",children:[g," FAQs"]})]},p.id)})})]})]})]})})}),t.jsx("section",{className:"faq-contact-cta",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Can't Find Your Answer?"}),t.jsx("p",{children:"Our support team is here to help you with any questions"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx("a",{href:"tel:+919876543210",className:"btn-primary emergency-btn",children:" Call Support"}),t.jsx(he,{to:"/contact",className:"btn-secondary",children:"Contact Us"})]})]})})})]})}function QK(){return t.jsxs("div",{className:"terms-page",children:[t.jsx("section",{className:"legal-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{children:"Terms of Service"}),t.jsx("p",{className:"hero-subtitle",children:"Your agreement with Smart ServiceHub"}),t.jsx("p",{className:"hero-description",children:"Please read these terms of service carefully before using our platform. By using Smart ServiceHub, you agree to these terms and conditions."}),t.jsxs("p",{className:"last-updated",children:["Last updated: ","June 15, 2024"]})]})}),t.jsx("section",{className:"terms-content",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"terms-document",children:[t.jsxs("div",{className:"toc-section",children:[t.jsx("h2",{children:"Table of Contents"}),t.jsx("nav",{className:"toc-nav",children:t.jsxs("ol",{children:[t.jsx("li",{children:t.jsx("a",{href:"#acceptance",children:"1. Acceptance of Terms"})}),t.jsx("li",{children:t.jsx("a",{href:"#services",children:"2. Services Description"})}),t.jsx("li",{children:t.jsx("a",{href:"#user-responsibilities",children:"3. User Responsibilities"})}),t.jsx("li",{children:t.jsx("a",{href:"#booking",children:"4. Booking and Payment"})}),t.jsx("li",{children:t.jsx("a",{href:"#cancellation",children:"5. Cancellation and Refunds"})}),t.jsx("li",{children:t.jsx("a",{href:"#professional-services",children:"6. Professional Services"})}),t.jsx("li",{children:t.jsx("a",{href:"#privacy",children:"7. Privacy and Data Protection"})}),t.jsx("li",{children:t.jsx("a",{href:"#intellectual-property",children:"8. Intellectual Property"})}),t.jsx("li",{children:t.jsx("a",{href:"#disclaimer",children:"9. Disclaimer of Warranties"})}),t.jsx("li",{children:t.jsx("a",{href:"#limitation",children:"10. Limitation of Liability"})}),t.jsx("li",{children:t.jsx("a",{href:"#indemnification",children:"11. Indemnification"})}),t.jsx("li",{children:t.jsx("a",{href:"#termination",children:"12. Termination"})}),t.jsx("li",{children:t.jsx("a",{href:"#disputes",children:"13. Dispute Resolution"})}),t.jsx("li",{children:t.jsx("a",{href:"#governing-law",children:"14. Governing Law"})}),t.jsx("li",{children:t.jsx("a",{href:"#changes",children:"15. Changes to Terms"})}),t.jsx("li",{children:t.jsx("a",{href:"#contact",children:"16. Contact Information"})})]})})]}),t.jsxs("div",{className:"terms-sections",children:[t.jsxs("section",{id:"acceptance",className:"terms-section",children:[t.jsx("h2",{children:"1. Acceptance of Terms"}),t.jsx("p",{children:"By accessing and using Smart ServiceHub, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."}),t.jsx("p",{children:"These Terms of Service apply to all users of the service, including without limitation users who are browsers, vendors, customers, merchants, and/or contributors of content."})]}),t.jsxs("section",{id:"services",className:"terms-section",children:[t.jsx("h2",{children:"2. Services Description"}),t.jsx("p",{children:"Smart ServiceHub is a platform that connects customers with verified professionals for various home and business services including:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Plumbing services"}),t.jsx("li",{children:"Electrical services"}),t.jsx("li",{children:"Cleaning services"}),t.jsx("li",{children:"Pest control services"}),t.jsx("li",{children:"AC repair and maintenance"}),t.jsx("li",{children:"Painting services"}),t.jsx("li",{children:"Appliance repair services"})]}),t.jsx("p",{children:"We reserve the right to modify, suspend, or discontinue any service at any time without notice."})]}),t.jsxs("section",{id:"user-responsibilities",className:"terms-section",children:[t.jsx("h2",{children:"3. User Responsibilities"}),t.jsx("p",{children:"As a user of Smart ServiceHub, you agree to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Provide accurate, current, and complete information during registration"}),t.jsx("li",{children:"Maintain and update your account information"}),t.jsx("li",{children:"Keep your password secure and confidential"}),t.jsx("li",{children:"Not share your account credentials with others"}),t.jsx("li",{children:"Use the service for lawful purposes only"}),t.jsx("li",{children:"Not interfere with or disrupt the service"}),t.jsx("li",{children:"Not attempt to gain unauthorized access to our systems"}),t.jsx("li",{children:"Provide safe access to your premises for service professionals"}),t.jsx("li",{children:"Pay for services rendered in a timely manner"})]})]}),t.jsxs("section",{id:"booking",className:"terms-section",children:[t.jsx("h2",{children:"4. Booking and Payment"}),t.jsx("h3",{children:"Booking Process"}),t.jsx("p",{children:"When you book a service through our platform, you enter into a direct agreement with the service professional. Smart ServiceHub acts as an intermediary platform."}),t.jsx("h3",{children:"Payment Terms"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Payment is required upon completion of services"}),t.jsx("li",{children:"We accept credit/debit cards, UPI, net banking, and cash"}),t.jsx("li",{children:"All online payments are secured with 256-bit encryption"}),t.jsx("li",{children:"Prices quoted include all standard charges"}),t.jsx("li",{children:"Additional charges may apply for emergency or weekend services"})]}),t.jsx("h3",{children:"Pricing"}),t.jsx("p",{children:"Service prices are determined based on factors including service type, complexity, time required, and materials used. We provide transparent, upfront quotes before starting any work."})]}),t.jsxs("section",{id:"cancellation",className:"terms-section",children:[t.jsx("h2",{children:"5. Cancellation and Refunds"}),t.jsx("h3",{children:"Cancellation Policy"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Free cancellation up to 2 hours before scheduled service time"}),t.jsx("li",{children:"Cancellations within 2 hours may incur a cancellation fee"}),t.jsx("li",{children:"Emergency services have different cancellation terms"}),t.jsx("li",{children:"Cancellations can be made through the app, website, or customer service"})]}),t.jsx("h3",{children:"Refund Policy"}),t.jsxs("ul",{children:[t.jsx("li",{children:"100% satisfaction guarantee"}),t.jsx("li",{children:"Refund requests must be made within 7 days of service"}),t.jsx("li",{children:"Refunds are processed within 3-5 business days"}),t.jsx("li",{children:"We reserve the right to investigate refund requests"})]})]}),t.jsxs("section",{id:"professional-services",className:"terms-section",children:[t.jsx("h2",{children:"6. Professional Services"}),t.jsx("h3",{children:"Professional Verification"}),t.jsx("p",{children:"All service professionals on our platform undergo rigorous verification including:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Background verification"}),t.jsx("li",{children:"Police verification"}),t.jsx("li",{children:"Skill assessment"}),t.jsx("li",{children:"Training and certification"})]}),t.jsx("h3",{children:"Service Quality"}),t.jsx("p",{children:"We strive to maintain high service quality standards. However, Smart ServiceHub is not directly responsible for the actions of independent service professionals. We facilitate dispute resolution between customers and professionals."}),t.jsx("h3",{children:"Warranty"}),t.jsxs("ul",{children:[t.jsx("li",{children:"30-day warranty on workmanship"}),t.jsx("li",{children:"90-day warranty on replaced parts"}),t.jsx("li",{children:"Free re-service for warranty claims"})]})]}),t.jsxs("section",{id:"privacy",className:"terms-section",children:[t.jsx("h2",{children:"7. Privacy and Data Protection"}),t.jsx("p",{children:"Your privacy is important to us. Our use of your personal information is governed by our Privacy Policy, which is incorporated into these Terms by reference."}),t.jsx("p",{children:"By using our service, you consent to the collection, use, and sharing of your information as described in our Privacy Policy."})]}),t.jsxs("section",{id:"intellectual-property",className:"terms-section",children:[t.jsx("h2",{children:"8. Intellectual Property"}),t.jsx("p",{children:"The service and its original content, features, and functionality are and will remain the exclusive property of Smart ServiceHub and its licensors. The service is protected by copyright, trademark, and other laws."}),t.jsx("p",{children:"You may not modify, reproduce, distribute, create derivative works, publicly display, publicly perform, republish, download, store, or transmit any of the material on our service."})]}),t.jsxs("section",{id:"disclaimer",className:"terms-section",children:[t.jsx("h2",{children:"9. Disclaimer of Warranties"}),t.jsx("p",{children:'The service is provided on an "AS IS" and "AS AVAILABLE" basis. We make no representations or warranties of any kind, express or implied, as to the operation of the service or the information, content, materials, or products included on this service.'}),t.jsx("p",{children:"We do not warrant that the service will be uninterrupted or error-free, that defects will be corrected, or that the service or the server that makes it available are free of viruses or other harmful components."})]}),t.jsxs("section",{id:"limitation",className:"terms-section",children:[t.jsx("h2",{children:"10. Limitation of Liability"}),t.jsx("p",{children:"In no event shall Smart ServiceHub, our directors, employees, partners, agents, suppliers, or affiliates be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your use of the service."}),t.jsx("p",{children:"Our total liability to you for any cause of action whatsoever, and regardless of the form of the action, will at all times be limited to the amount paid, if any, by you to us for the service during the term of the cause of action."})]}),t.jsxs("section",{id:"indemnification",className:"terms-section",children:[t.jsx("h2",{children:"11. Indemnification"}),t.jsx("p",{children:"You agree to defend, indemnify, and hold harmless Smart ServiceHub and our licensee and licensors, and their employees, contractors, agents, officers and directors, from and against any and all claims, damages, obligations, losses, liabilities, costs or debt, and expenses (including but not limited to attorney's fees)."})]}),t.jsxs("section",{id:"termination",className:"terms-section",children:[t.jsx("h2",{children:"12. Termination"}),t.jsx("p",{children:"We may terminate or suspend your account and bar access to the service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation."}),t.jsx("p",{children:"Upon termination, your right to use the service will cease immediately. All provisions of the Terms which by their nature should survive termination shall survive, including ownership provisions, warranty disclaimers, indemnity, and limitations of liability."})]}),t.jsxs("section",{id:"disputes",className:"terms-section",children:[t.jsx("h2",{children:"13. Dispute Resolution"}),t.jsx("p",{children:"If you have any concerns or disputes about the service, please contact us at support@smartservicehub.com. We will make every effort to resolve disputes amicably."}),t.jsx("h3",{children:"Governing Law and Jurisdiction"}),t.jsx("p",{children:"These Terms shall be interpreted and governed by the laws of India, without regard to its conflict of law provisions. Any disputes arising from these terms shall be subject to the exclusive jurisdiction of courts in Mumbai, India."})]}),t.jsxs("section",{id:"governing-law",className:"terms-section",children:[t.jsx("h2",{children:"14. Governing Law"}),t.jsx("p",{children:"These Terms of Service and any separate agreements whereby we provide you services shall be governed by and construed in accordance with the laws of India."})]}),t.jsxs("section",{id:"changes",className:"terms-section",children:[t.jsx("h2",{children:"15. Changes to Terms"}),t.jsx("p",{children:"We reserve the right, at our sole discretion, to modify, replace or change these Terms at any time. If a revision is material, we will provide at least 30 days notice prior to any new terms taking effect."}),t.jsx("p",{children:"What constitutes a material change will be determined at our sole discretion. By continuing to access or use our service after those revisions become effective, you agree to be bound by the revised terms."})]}),t.jsxs("section",{id:"contact",className:"terms-section",children:[t.jsx("h2",{children:"16. Contact Information"}),t.jsx("p",{children:"If you have any questions about these Terms of Service, please contact us:"}),t.jsxs("div",{className:"contact-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," support@smartservicehub.com"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," +91 98765 43210"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Address:"})," 123 Business Park, Andheri East, Mumbai - 400001"]})]})]})]}),t.jsxs("div",{className:"terms-quick-links",children:[t.jsx("h3",{children:"Related Documents"}),t.jsxs("div",{className:"quick-links-grid",children:[t.jsxs(he,{to:"/support/privacy",className:"quick-link-card",children:[t.jsx("span",{className:"link-icon",children:""}),t.jsx("h4",{children:"Privacy Policy"}),t.jsx("p",{children:"How we collect and protect your data"})]}),t.jsxs(he,{to:"/support/refund",className:"quick-link-card",children:[t.jsx("span",{className:"link-icon",children:""}),t.jsx("h4",{children:"Refund Policy"}),t.jsx("p",{children:"Our refund and cancellation terms"})]}),t.jsxs(he,{to:"/company/about",className:"quick-link-card",children:[t.jsx("span",{className:"link-icon",children:""}),t.jsx("h4",{children:"About Us"}),t.jsx("p",{children:"Learn more about Smart ServiceHub"})]}),t.jsxs(he,{to:"/contact",className:"quick-link-card",children:[t.jsx("span",{className:"link-icon",children:""}),t.jsx("h4",{children:"Contact Support"}),t.jsx("p",{children:"Get help with any questions"})]})]})]})]})})})]})}function YK(){return t.jsxs("div",{className:"privacy-page",children:[t.jsx("section",{className:"legal-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{children:"Privacy Policy"}),t.jsx("p",{className:"hero-subtitle",children:"How we protect your information"}),t.jsx("p",{className:"hero-description",children:"At Smart ServiceHub, we take your privacy seriously. This policy explains how we collect, use, and protect your personal information when you use our services."}),t.jsxs("p",{className:"last-updated",children:["Last updated: ","June 15, 2024"]})]})}),t.jsx("section",{className:"privacy-content",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"privacy-document",children:[t.jsxs("section",{className:"privacy-overview",children:[t.jsx("h2",{children:"Privacy Commitment"}),t.jsx("p",{children:"Smart ServiceHub is committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy outlines our practices regarding the collection, use, and sharing of information when you use our platform."}),t.jsxs("div",{className:"privacy-principles",children:[t.jsxs("div",{className:"principle-card",children:[t.jsx("span",{className:"principle-icon",children:""}),t.jsx("h3",{children:"Security First"}),t.jsx("p",{children:"We use industry-standard encryption and security measures to protect your data"})]}),t.jsxs("div",{className:"principle-card",children:[t.jsx("span",{className:"principle-icon",children:""}),t.jsx("h3",{children:"Transparency"}),t.jsx("p",{children:"We're clear about what data we collect and how we use it"})]}),t.jsxs("div",{className:"principle-card",children:[t.jsx("span",{className:"principle-icon",children:""}),t.jsx("h3",{children:"Minimal Collection"}),t.jsx("p",{children:"We only collect information necessary to provide our services"})]}),t.jsxs("div",{className:"principle-card",children:[t.jsx("span",{className:"principle-icon",children:""}),t.jsx("h3",{children:"Your Control"}),t.jsx("p",{children:"You have control over your personal information and privacy settings"})]})]})]}),t.jsxs("section",{className:"privacy-section",children:[t.jsx("h2",{children:"Information We Collect"}),t.jsx("h3",{children:"Personal Information"}),t.jsx("p",{children:"When you register an account or use our services, we may collect:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Name, email address, and phone number"}),t.jsx("li",{children:"Physical address for service delivery"}),t.jsx("li",{children:"Payment information (processed securely)"}),t.jsx("li",{children:"Profile information and preferences"}),t.jsx("li",{children:"Communication preferences"})]}),t.jsx("h3",{children:"Service Information"}),t.jsx("p",{children:"When you book services, we collect:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Service type and requirements"}),t.jsx("li",{children:"Booking details and scheduling preferences"}),t.jsx("li",{children:"Service location and access information"}),t.jsx("li",{children:"Feedback and ratings for services"}),t.jsx("li",{children:"Service history and preferences"})]}),t.jsx("h3",{children:"Technical Information"}),t.jsx("p",{children:"Automatically collected when you use our platform:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"IP address and device information"}),t.jsx("li",{children:"Browser type and operating system"}),t.jsx("li",{children:"Pages visited and time spent"}),t.jsx("li",{children:"App usage and crash reports"}),t.jsx("li",{children:"Location data (with your consent)"})]}),t.jsx("h3",{children:"Cookies and Tracking"}),t.jsx("p",{children:"We use cookies and similar technologies to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Remember your preferences and login status"}),t.jsx("li",{children:"Analyze platform usage and performance"}),t.jsx("li",{children:"Provide personalized experiences"}),t.jsx("li",{children:"Ensure security and prevent fraud"})]})]}),t.jsxs("section",{className:"privacy-section",children:[t.jsx("h2",{children:"How We Use Your Information"}),t.jsx("h3",{children:"Service Provision"}),t.jsx("p",{children:"We use your information to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Provide and maintain our services"}),t.jsx("li",{children:"Process bookings and payments"}),t.jsx("li",{children:"Connect you with service professionals"}),t.jsx("li",{children:"Send service confirmations and updates"}),t.jsx("li",{children:"Handle customer support inquiries"})]}),t.jsx("h3",{children:"Platform Improvement"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Analyze usage patterns to improve our services"}),t.jsx("li",{children:"Develop new features and functionality"}),t.jsx("li",{children:"Test and optimize platform performance"}),t.jsx("li",{children:"Conduct research and analysis"})]}),t.jsx("h3",{children:"Communication"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Send transactional emails and SMS"}),t.jsx("li",{children:"Provide customer support"}),t.jsx("li",{children:"Share relevant updates and announcements"}),t.jsx("li",{children:"Send marketing communications (with consent)"})]}),t.jsx("h3",{children:"Safety and Security"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Verify user identities"}),t.jsx("li",{children:"Prevent fraud and abuse"}),t.jsx("li",{children:"Ensure platform security"}),t.jsx("li",{children:"Comply with legal obligations"})]})]}),t.jsxs("section",{className:"privacy-section",children:[t.jsx("h2",{children:"Information Sharing"}),t.jsx("h3",{children:"Service Professionals"}),t.jsx("p",{children:"We share necessary information with service professionals to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Facilitate service delivery"}),t.jsx("li",{children:"Enable communication between you and professionals"}),t.jsx("li",{children:"Process payments and handle disputes"}),t.jsx("li",{children:"Provide customer support"})]}),t.jsx("p",{children:"We only share the minimum information required for service provision."}),t.jsx("h3",{children:"Third-Party Service Providers"}),t.jsx("p",{children:"We may share information with trusted third parties for:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Payment processing (secure payment gateways)"}),t.jsx("li",{children:"Cloud hosting and infrastructure"}),t.jsx("li",{children:"Analytics and performance monitoring"}),t.jsx("li",{children:"Customer support and communication tools"})]}),t.jsx("h3",{children:"Legal Requirements"}),t.jsx("p",{children:"We may disclose information when required by law or to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Comply with legal processes"}),t.jsx("li",{children:"Protect our rights and property"}),t.jsx("li",{children:"Prevent fraud or ensure platform security"}),t.jsx("li",{children:"Protect the safety of users or the public"})]}),t.jsx("h3",{children:"Business Transfers"}),t.jsx("p",{children:"If we are involved in a merger, acquisition, or sale of assets, user information may be transferred as part of the transaction. We will notify you of any such change."})]}),t.jsxs("section",{className:"privacy-section",children:[t.jsx("h2",{children:"Data Security"}),t.jsx("h3",{children:"Security Measures"}),t.jsx("p",{children:"We implement multiple layers of security:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"256-bit SSL encryption for all data transmission"}),t.jsx("li",{children:"Encrypted storage of sensitive information"}),t.jsx("li",{children:"Regular security audits and penetration testing"}),t.jsx("li",{children:"Access controls and authentication systems"}),t.jsx("li",{children:"Secure data centers with 24/7 monitoring"})]}),t.jsx("h3",{children:"Payment Security"}),t.jsxs("ul",{children:[t.jsx("li",{children:"PCI DSS compliant payment processing"}),t.jsx("li",{children:"Tokenization of payment information"}),t.jsx("li",{children:"Fraud detection and prevention systems"}),t.jsx("li",{children:"Secure payment gateway integration"})]}),t.jsx("h3",{children:"Data Retention"}),t.jsx("p",{children:"We retain your information only as long as necessary:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Account information: Until you delete your account"}),t.jsx("li",{children:"Service history: 7 years for legal compliance"}),t.jsx("li",{children:"Payment records: 7 years for tax purposes"}),t.jsx("li",{children:"Analytics data: Anonymized after 24 months"})]})]}),t.jsxs("section",{className:"privacy-section",children:[t.jsx("h2",{children:"Your Privacy Rights"}),t.jsx("h3",{children:"Access and Correction"}),t.jsx("p",{children:"You have the right to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Access your personal information"}),t.jsx("li",{children:"Correct inaccurate information"}),t.jsx("li",{children:"Update your account details"}),t.jsx("li",{children:"Download your data"})]}),t.jsx("h3",{children:"Deletion"}),t.jsx("p",{children:"You can request deletion of your information:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Delete your account through app settings"}),t.jsx("li",{children:"Request data deletion via customer support"}),t.jsx("li",{children:"Opt-out of marketing communications"}),t.jsx("li",{children:"Clear browsing data and cookies"})]}),t.jsx("h3",{children:"Portability"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Request a copy of your data"}),t.jsx("li",{children:"Export your information in machine-readable format"}),t.jsx("li",{children:"Transfer data to other services (where applicable)"})]}),t.jsx("h3",{children:"Objection and Restriction"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Object to processing of your information"}),t.jsx("li",{children:"Restrict certain uses of your data"}),t.jsx("li",{children:"Withdraw consent where processing is based on consent"}),t.jsx("li",{children:"Opt-out of marketing communications"})]})]}),t.jsxs("section",{className:"privacy-section",children:[t.jsx("h2",{children:"Children's Privacy"}),t.jsx("p",{children:"Our services are not intended for children under 18 years of age. We do not knowingly collect personal information from children under 18. If we become aware that we have collected information from a child under 18, we will take steps to delete such information."}),t.jsx("p",{children:"Parents or guardians who believe their child has provided personal information to us should contact us immediately."})]}),t.jsxs("section",{className:"privacy-section",children:[t.jsx("h2",{children:"International Data Transfers"}),t.jsx("p",{children:"Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place for international data transfers, including:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Standard contractual clauses"}),t.jsx("li",{children:"Adequacy decisions where applicable"}),t.jsx("li",{children:"Compliance with applicable data protection laws"}),t.jsx("li",{children:"Equivalent protection measures"})]})]}),t.jsxs("section",{className:"privacy-section",children:[t.jsx("h2",{children:"Changes to This Policy"}),t.jsx("p",{children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date.'}),t.jsx("p",{children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]}),t.jsxs("section",{className:"privacy-section",children:[t.jsx("h2",{children:"Contact Us"}),t.jsx("p",{children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),t.jsxs("div",{className:"contact-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," privacy@smartservicehub.com"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," +91 98765 43210"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Address:"})," 123 Business Park, Andheri East, Mumbai - 400001"]})]}),t.jsx("h3",{children:"Data Protection Officer"}),t.jsx("p",{children:"For data protection inquiries, you can also contact our Data Protection Officer at:"}),t.jsx("div",{className:"contact-info",children:t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," dpo@smartservicehub.com"]})})]}),t.jsxs("div",{className:"privacy-quick-links",children:[t.jsx("h3",{children:"Related Documents"}),t.jsxs("div",{className:"quick-links-grid",children:[t.jsxs(he,{to:"/support/terms",className:"quick-link-card",children:[t.jsx("span",{className:"link-icon",children:""}),t.jsx("h4",{children:"Terms of Service"}),t.jsx("p",{children:"Your agreement with Smart ServiceHub"})]}),t.jsxs(he,{to:"/support/refund",className:"quick-link-card",children:[t.jsx("span",{className:"link-icon",children:""}),t.jsx("h4",{children:"Refund Policy"}),t.jsx("p",{children:"Our refund and cancellation terms"})]}),t.jsxs(he,{to:"/support/faq",className:"quick-link-card",children:[t.jsx("span",{className:"link-icon",children:""}),t.jsx("h4",{children:"FAQ"}),t.jsx("p",{children:"Frequently asked questions"})]}),t.jsxs(he,{to:"/contact",className:"quick-link-card",children:[t.jsx("span",{className:"link-icon",children:""}),t.jsx("h4",{children:"Contact Support"}),t.jsx("p",{children:"Get help with privacy concerns"})]})]})]})]})})})]})}function JK(){const[s,e]=f.useState({name:"",email:"",phone:"",bookingId:"",serviceType:"",reason:"",description:"",refundAmount:"",bankAccount:"",ifsc:"",accountHolder:""}),[n,i]=f.useState(!1),r=[{category:"Service Quality",description:"If you're not satisfied with the service quality",refundPercentage:"100%",conditions:"Must report within 24 hours of service completion",processingTime:"3-5 business days"},{category:"Incomplete Service",description:"Service was not completed as agreed",refundPercentage:"100%",conditions:"Must provide evidence of incomplete service",processingTime:"2-3 business days"},{category:"Late Arrival",description:"Professional arrived more than 2 hours late",refundPercentage:"50%",conditions:"Must be verified through platform records",processingTime:"3-5 business days"},{category:"Cancellation",description:"Customer cancellation",refundPercentage:"100%",conditions:"Cancelled more than 2 hours before scheduled time",processingTime:"3-5 business days"},{category:"Emergency Cancellation",description:"Customer cancellation within 2 hours",refundPercentage:"50%",conditions:"Valid emergency reason required",processingTime:"5-7 business days"},{category:"Professional No-Show",description:"Professional didn't arrive for scheduled service",refundPercentage:"100%",conditions:"Must be verified through platform records",processingTime:"1-2 business days"}],a=["Services completed successfully and customer was satisfied","Damage caused by customer or family members","Issues reported after 24 hours of service completion","Cancellation due to customer unavailability","Services modified at customer request","Force majeure events (natural disasters, etc.)"],o=[{step:1,title:"Submit Request",description:"Fill out the refund request form with booking details and reason"},{step:2,title:"Review Process",description:"Our team reviews your request within 24-48 hours"},{step:3,title:"Investigation",description:"We investigate the issue with the service professional"},{step:4,title:"Decision",description:"We notify you of our decision and refund amount"},{step:5,title:"Processing",description:"Refund is processed to your original payment method or bank account"}],l=async d=>{d.preventDefault(),i(!0);try{await new Promise(h=>setTimeout(h,2e3)),console.log("Refund request submitted:",s),alert("Refund request submitted successfully! We will review your request and contact you within 24-48 hours."),e({name:"",email:"",phone:"",bookingId:"",serviceType:"",reason:"",description:"",refundAmount:"",bankAccount:"",ifsc:"",accountHolder:""})}catch{alert("Something went wrong. Please try again.")}finally{i(!1)}},c=d=>{e({...s,[d.target.name]:d.target.value})};return t.jsxs("div",{className:"refund-page",children:[t.jsx("section",{className:"legal-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{children:"Refund Policy"}),t.jsx("p",{className:"hero-subtitle",children:"Fair and transparent refund process"}),t.jsx("p",{className:"hero-description",children:"We stand behind our services with a comprehensive refund policy. If you're not satisfied with our service, we'll make it right."}),t.jsxs("div",{className:"hero-stats",children:[t.jsxs("div",{className:"hero-stat",children:[t.jsx("span",{className:"stat-number",children:"100%"}),t.jsx("span",{className:"stat-label",children:"Satisfaction Guarantee"})]}),t.jsxs("div",{className:"hero-stat",children:[t.jsx("span",{className:"stat-number",children:"24hrs"}),t.jsx("span",{className:"stat-label",children:"Review Time"})]}),t.jsxs("div",{className:"hero-stat",children:[t.jsx("span",{className:"stat-number",children:"3-5"}),t.jsx("span",{className:"stat-label",children:"Days Processing"})]})]})]})}),t.jsx("section",{className:"refund-overview",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Our Refund Commitment"}),t.jsx("p",{className:"overview-text",children:"At Smart ServiceHub, customer satisfaction is our top priority. We offer a comprehensive refund policy to ensure you're completely satisfied with our services. Our policy is designed to be fair, transparent, and easy to understand."}),t.jsxs("div",{className:"refund-highlights",children:[t.jsxs("div",{className:"highlight-card",children:[t.jsx("span",{className:"highlight-icon",children:""}),t.jsx("h3",{children:"100% Satisfaction"}),t.jsx("p",{children:"Full refund if you're not satisfied with the service quality"})]}),t.jsxs("div",{className:"highlight-card",children:[t.jsx("span",{className:"highlight-icon",children:""}),t.jsx("h3",{children:"Quick Processing"}),t.jsx("p",{children:"Refunds processed within 3-5 business days"})]}),t.jsxs("div",{className:"highlight-card",children:[t.jsx("span",{className:"highlight-icon",children:""}),t.jsx("h3",{children:"Fair Resolution"}),t.jsx("p",{children:"Transparent review process with clear guidelines"})]})]})]})}),t.jsx("section",{className:"refund-categories",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Refund Categories"}),t.jsx("div",{className:"categories-grid",children:r.map((d,h)=>t.jsxs("div",{className:"policy-card",children:[t.jsxs("div",{className:"policy-header",children:[t.jsx("h3",{children:d.category}),t.jsx("span",{className:"refund-percentage",children:d.refundPercentage})]}),t.jsx("p",{className:"policy-description",children:d.description}),t.jsxs("div",{className:"policy-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Conditions:"}),t.jsx("span",{children:d.conditions})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Processing Time:"}),t.jsx("span",{children:d.processingTime})]})]})]},h))})]})}),t.jsx("section",{className:"non-refundable",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Non-Refundable Cases"}),t.jsxs("div",{className:"non-refundable-content",children:[t.jsx("p",{className:"non-refundable-intro",children:"The following cases are generally not eligible for refunds:"}),t.jsx("ul",{className:"non-refundable-list",children:a.map((d,h)=>t.jsxs("li",{className:"non-refundable-item",children:[t.jsx("span",{className:"item-icon",children:""}),t.jsx("span",{children:d})]},h))}),t.jsxs("div",{className:"note-box",children:[t.jsx("span",{className:"note-icon",children:""}),t.jsxs("p",{children:[t.jsx("strong",{children:"Note:"})," We review each case individually and may make exceptions based on specific circumstances. Contact our support team for special cases."]})]})]})]})}),t.jsx("section",{className:"refund-process",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Refund Process"}),t.jsx("div",{className:"process-timeline",children:o.map((d,h)=>t.jsxs("div",{className:"process-step",children:[t.jsx("div",{className:"step-number",children:d.step}),t.jsxs("div",{className:"step-content",children:[t.jsx("h3",{children:d.title}),t.jsx("p",{children:d.description})]}),h<o.length-1&&t.jsx("div",{className:"step-connector"})]},d.step))})]})}),t.jsx("section",{className:"refund-form-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Request a Refund"}),t.jsx("p",{className:"form-intro",children:"Fill out the form below to submit your refund request. Our team will review it within 24-48 hours."}),t.jsxs("div",{className:"refund-form-grid",children:[t.jsx("div",{className:"refund-form",children:t.jsxs("form",{onSubmit:l,children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Your Name *"}),t.jsx("input",{type:"text",name:"name",value:s.name,onChange:c,required:!0,disabled:n})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email Address *"}),t.jsx("input",{type:"email",name:"email",value:s.email,onChange:c,required:!0,disabled:n})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:c,placeholder:"+91 98765 43210",required:!0,disabled:n})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Booking ID *"}),t.jsx("input",{type:"text",name:"bookingId",value:s.bookingId,onChange:c,placeholder:"e.g., BK123456",required:!0,disabled:n})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Type *"}),t.jsxs("select",{name:"serviceType",value:s.serviceType,onChange:c,required:!0,disabled:n,children:[t.jsx("option",{value:"",children:"Select service type"}),t.jsx("option",{value:"plumbing",children:"Plumbing"}),t.jsx("option",{value:"electrical",children:"Electrical"}),t.jsx("option",{value:"cleaning",children:"Cleaning"}),t.jsx("option",{value:"pest-control",children:"Pest Control"}),t.jsx("option",{value:"ac-service",children:"AC Service"}),t.jsx("option",{value:"painting",children:"Painting"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Refund Reason *"}),t.jsxs("select",{name:"reason",value:s.reason,onChange:c,required:!0,disabled:n,children:[t.jsx("option",{value:"",children:"Select reason"}),t.jsx("option",{value:"quality",children:"Service Quality Issue"}),t.jsx("option",{value:"incomplete",children:"Incomplete Service"}),t.jsx("option",{value:"late",children:"Late Arrival"}),t.jsx("option",{value:"no-show",children:"Professional No-Show"}),t.jsx("option",{value:"damage",children:"Property Damage"}),t.jsx("option",{value:"other",children:"Other Reason"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Detailed Description *"}),t.jsx("textarea",{name:"description",value:s.description,onChange:c,rows:4,placeholder:"Please describe the issue in detail...",required:!0,disabled:n})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Refund Amount Requested () *"}),t.jsx("input",{type:"text",name:"refundAmount",value:s.refundAmount,onChange:c,placeholder:"e.g., 1500",required:!0,disabled:n})]}),t.jsxs("div",{className:"bank-details-section",children:[t.jsx("h4",{children:"Bank Details for Refund"}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Account Holder Name *"}),t.jsx("input",{type:"text",name:"accountHolder",value:s.accountHolder,onChange:c,required:!0,disabled:n})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Account Number *"}),t.jsx("input",{type:"text",name:"bankAccount",value:s.bankAccount,onChange:c,required:!0,disabled:n})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"IFSC Code *"}),t.jsx("input",{type:"text",name:"ifsc",value:s.ifsc,onChange:c,placeholder:"e.g., SBIN0001234",required:!0,disabled:n})]})]}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Submitting...":"Submit Refund Request"})]})}),t.jsxs("div",{className:"refund-info",children:[t.jsx("h3",{children:"Important Information"}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Required Documents"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Service booking confirmation"}),t.jsx("li",{children:"Photos/videos of the issue (if applicable)"}),t.jsx("li",{children:"Payment receipt or transaction ID"}),t.jsx("li",{children:"Any communication with the professional"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Timeline"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Request review: 24-48 hours"}),t.jsx("li",{children:"Investigation: 2-3 business days"}),t.jsx("li",{children:"Decision: Within 5 business days"}),t.jsx("li",{children:"Refund processing: 3-5 business days"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Tips for Faster Processing"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Provide detailed description of the issue"}),t.jsx("li",{children:"Attach relevant photos or videos"}),t.jsx("li",{children:"Include booking ID in all communications"}),t.jsx("li",{children:"Respond promptly to follow-up questions"})]})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h4",{children:" Need Help?"}),t.jsx("p",{children:"If you need assistance with your refund request, contact our support team:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Phone: +91 98765 43210"}),t.jsx("li",{children:"Email: refunds@smartservicehub.com"}),t.jsx("li",{children:"Live Chat: Available 9 AM - 8 PM"})]})]})]})]})]})}),t.jsx("section",{className:"refund-cta",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"cta-content",children:[t.jsx("h2",{children:"Questions About Refunds?"}),t.jsx("p",{children:"Our support team is here to help you with any refund-related queries"}),t.jsxs("div",{className:"cta-actions",children:[t.jsx("a",{href:"tel:+919876543210",className:"btn-primary",children:" Call Support"}),t.jsx(he,{to:"/support/faq",className:"btn-secondary",children:" View FAQ"})]})]})})})]})}function XK(){const s=[{title:"Main Pages",icon:"",links:[{name:"Home",url:"/",description:"Homepage with service overview"},{name:"About Us",url:"/company/about",description:"Company information and story"},{name:"Services",url:"/services",description:"All available services"},{name:"Contact",url:"/contact",description:"Contact information and form"},{name:"Blog",url:"/company/blog",description:"Latest articles and tips"}]},{title:"Service Pages",icon:"",links:[{name:"Plumbing Services",url:"/services/plumbing",description:"Professional plumbing solutions"},{name:"Electrical Services",url:"/services/electrical",description:"Electrical repair and installation"},{name:"Cleaning Services",url:"/services/cleaning",description:"Home and office cleaning"},{name:"Pest Control",url:"/services/pest-control",description:"Pest control and prevention"},{name:"AC Services",url:"/services/ac-service",description:"AC repair and maintenance"},{name:"Painting Services",url:"/services/painting",description:"Professional painting services"}]},{title:"Company Pages",icon:"",links:[{name:"About Us",url:"/company/about",description:"Our company story and mission"},{name:"Careers",url:"/company/careers",description:"Job opportunities and careers"},{name:"Blog",url:"/company/blog",description:"Company blog and articles"},{name:"Press",url:"/company/press",description:"Press releases and media"},{name:"Partners",url:"/company/partners",description:"Partner with us"}]},{title:"Support Pages",icon:"",links:[{name:"Help Center",url:"/support/help-center",description:"Comprehensive help and support"},{name:"FAQ",url:"/support/faq",description:"Frequently asked questions"},{name:"Terms of Service",url:"/support/terms",description:"Terms and conditions"},{name:"Privacy Policy",url:"/support/privacy",description:"Privacy and data protection"},{name:"Refund Policy",url:"/support/refund",description:"Refund and cancellation policy"},{name:"Sitemap",url:"/support/sitemap",description:"Site map and navigation"}]},{title:"User Account",icon:"",links:[{name:"Login",url:"/login",description:"Sign in to your account"},{name:"Register",url:"/register",description:"Create a new account"},{name:"My Profile",url:"/profile",description:"Manage your profile"},{name:"My Bookings",url:"/bookings",description:"View and manage bookings"},{name:"Payment Methods",url:"/payment-methods",description:"Manage payment options"},{name:"Settings",url:"/settings",description:"Account settings and preferences"}]},{title:"Resources",icon:"",links:[{name:"Service Guide",url:"/resources/service-guide",description:"Complete service guide"},{name:"Pricing",url:"/resources/pricing",description:"Service pricing information"},{name:"Service Areas",url:"/resources/areas",description:"Cities we serve"},{name:"Emergency Services",url:"/resources/emergency",description:"24/7 emergency services"},{name:"Gift Cards",url:"/resources/gift-cards",description:"Purchase gift cards"},{name:"Mobile Apps",url:"/resources/apps",description:"Download our mobile apps"}]}],e=[{name:"Book a Service",url:"/services",icon:""},{name:"Emergency Support",url:"/contact",icon:""},{name:"Track Booking",url:"/track",icon:""},{name:"Customer Support",url:"/support/help-center",icon:""}],n={company:{name:"Smart ServiceHub",address:"123 Business Park, Andheri East, Mumbai - 400001",phone:"+91 98765 43210",email:"support@smartservicehub.com"},services:["Plumbing","Electrical","Cleaning","Pest Control","AC Service","Painting"],cities:["Mumbai","Delhi","Bangalore","Chennai","Pune","Hyderabad"]};return t.jsxs("div",{className:"sitemap-page",children:[t.jsx("section",{className:"sitemap-hero",children:t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{children:"Sitemap"}),t.jsx("p",{className:"hero-subtitle",children:"Navigate our website easily"}),t.jsx("p",{className:"hero-description",children:"Find all pages and sections of Smart ServiceHub website in one place. This comprehensive sitemap helps you quickly locate the information you need."}),t.jsxs("div",{className:"sitemap-search",children:[t.jsx("input",{type:"text",placeholder:"Search for pages...",className:"search-input"}),t.jsx("span",{className:"search-icon",children:""})]})]})}),t.jsx("section",{className:"quick-links-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Quick Access"}),t.jsx("div",{className:"quick-links-grid",children:e.map((i,r)=>t.jsxs(he,{to:i.url,className:"quick-link-card",children:[t.jsx("span",{className:"quick-link-icon",children:i.icon}),t.jsx("h3",{children:i.name})]},r))})]})}),t.jsx("section",{className:"sitemap-main",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Complete Site Map"}),t.jsx("div",{className:"sitemap-grid",children:s.map((i,r)=>t.jsxs("div",{className:"sitemap-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("span",{className:"section-icon",children:i.icon}),t.jsx("h3",{children:i.title})]}),t.jsx("div",{className:"section-links",children:i.links.map((a,o)=>t.jsxs(he,{to:a.url,className:"sitemap-link",children:[t.jsxs("div",{className:"link-content",children:[t.jsx("h4",{children:a.name}),t.jsx("p",{children:a.description})]}),t.jsx("span",{className:"link-arrow",children:""})]},o))})]},r))})]})}),t.jsx("section",{className:"alphabetical-index",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Alphabetical Index"}),t.jsx("div",{className:"index-grid",children:["A","B","C","E","F","H","L","M","P","R","S","T"].map(i=>t.jsxs("div",{className:"letter-section",children:[t.jsx("h3",{className:"letter-title",children:i}),t.jsx("ul",{className:"letter-links",children:s.flatMap(r=>r.links).filter(r=>r.name.toUpperCase().startsWith(i)).map((r,a)=>t.jsx("li",{children:t.jsx(he,{to:r.url,children:r.name})},a))})]},i))})]})}),t.jsx("section",{className:"popular-pages",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Popular Pages"}),t.jsxs("div",{className:"popular-grid",children:[t.jsxs("div",{className:"popular-card",children:[t.jsx("div",{className:"popular-icon",children:""}),t.jsx("h3",{children:"Services"}),t.jsx("p",{children:"Explore all our professional services"}),t.jsx(he,{to:"/services",className:"popular-link",children:"View Services"})]}),t.jsxs("div",{className:"popular-card",children:[t.jsx("div",{className:"popular-icon",children:""}),t.jsx("h3",{children:"Contact"}),t.jsx("p",{children:"Get in touch with our support team"}),t.jsx(he,{to:"/contact",className:"popular-link",children:"Contact Us"})]}),t.jsxs("div",{className:"popular-card",children:[t.jsx("div",{className:"popular-icon",children:""}),t.jsx("h3",{children:"FAQ"}),t.jsx("p",{children:"Find answers to common questions"}),t.jsx(he,{to:"/support/faq",className:"popular-link",children:"View FAQ"})]}),t.jsxs("div",{className:"popular-card",children:[t.jsx("div",{className:"popular-icon",children:""}),t.jsx("h3",{children:"About Us"}),t.jsx("p",{children:"Learn more about Smart ServiceHub"}),t.jsx(he,{to:"/company/about",className:"popular-link",children:"About Us"})]})]})]})}),t.jsx("section",{className:"site-stats",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Site Information"}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:"50+"}),t.jsx("div",{className:"stat-label",children:"Total Pages"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:"6"}),t.jsx("div",{className:"stat-label",children:"Service Categories"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:"15+"}),t.jsx("div",{className:"stat-label",children:"Cities Served"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:"500+"}),t.jsx("div",{className:"stat-label",children:"Service Professionals"})]})]})]})}),t.jsx("section",{className:"technical-info",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Technical Information"}),t.jsxs("div",{className:"tech-grid",children:[t.jsxs("div",{className:"tech-card",children:[t.jsx("h3",{children:" Website Technology"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Built with React.js"}),t.jsx("li",{children:"Responsive design for all devices"}),t.jsx("li",{children:"SSL secured connection"}),t.jsx("li",{children:"Fast loading optimization"})]})]}),t.jsxs("div",{className:"tech-card",children:[t.jsx("h3",{children:" Mobile Applications"}),t.jsxs("ul",{children:[t.jsx("li",{children:"iOS App (App Store)"}),t.jsx("li",{children:"Android App (Google Play)"}),t.jsx("li",{children:"Native performance"}),t.jsx("li",{children:"Offline booking support"})]})]}),t.jsxs("div",{className:"tech-card",children:[t.jsx("h3",{children:" Security Features"}),t.jsxs("ul",{children:[t.jsx("li",{children:"256-bit encryption"}),t.jsx("li",{children:"Secure payment processing"}),t.jsx("li",{children:"Data protection compliance"}),t.jsx("li",{children:"Regular security audits"})]})]}),t.jsxs("div",{className:"tech-card",children:[t.jsx("h3",{children:" Performance"}),t.jsxs("ul",{children:[t.jsx("li",{children:"CDN optimized content"}),t.jsx("li",{children:"Database optimization"}),t.jsx("li",{children:"Caching mechanisms"}),t.jsx("li",{children:"Real-time updates"})]})]})]})]})}),t.jsx("section",{className:"sitemap-contact",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Need Help Finding Something?"}),t.jsxs("div",{className:"contact-grid",children:[t.jsxs("div",{className:"contact-card",children:[t.jsx("h3",{children:" Call Support"}),t.jsx("p",{children:"Our support team is available to help you navigate our website"}),t.jsx("a",{href:"tel:+919876543210",className:"contact-link",children:"+91 98765 43210"})]}),t.jsxs("div",{className:"contact-card",children:[t.jsx("h3",{children:" Live Chat"}),t.jsx("p",{children:"Chat with our support team for immediate assistance"}),t.jsx("button",{className:"contact-link",children:"Start Chat"})]}),t.jsxs("div",{className:"contact-card",children:[t.jsx("h3",{children:" Email Support"}),t.jsx("p",{children:"Send us an email and we'll respond within 24 hours"}),t.jsx("a",{href:"mailto:support@smartservicehub.com",className:"contact-link",children:"support@smartservicehub.com"})]})]})]})}),t.jsx("section",{className:"sitemap-footer",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"footer-summary",children:[t.jsxs("div",{className:"company-info",children:[t.jsx("h3",{children:n.company.name}),t.jsx("p",{children:n.company.address}),t.jsxs("p",{children:["Phone: ",n.company.phone]}),t.jsxs("p",{children:["Email: ",n.company.email]})]}),t.jsxs("div",{className:"services-summary",children:[t.jsx("h3",{children:"Our Services"}),t.jsx("div",{className:"services-list",children:n.services.map((i,r)=>t.jsx("span",{className:"service-tag",children:i},r))})]}),t.jsxs("div",{className:"cities-summary",children:[t.jsx("h3",{children:"Service Areas"}),t.jsx("div",{className:"cities-list",children:n.cities.map((i,r)=>t.jsx("span",{className:"city-tag",children:i},r))})]})]}),t.jsx("div",{className:"sitemap-note",children:t.jsx("p",{children:"This sitemap was last updated on June 15, 2024. For the most current information, please visit the respective pages directly."})})]})})]})}function ZK(){const[s,e]=f.useState(!1),n=f.useCallback(()=>{e(!1)},[]);return t.jsx(a6,{children:t.jsx("div",{className:"app",children:s?t.jsx(u6,{onDone:n}):t.jsxs(t.Fragment,{children:[t.jsx(o6,{}),t.jsx("main",{className:"container",children:t.jsx(d6,{children:t.jsxs(D4,{children:[t.jsx(De,{path:"/",element:t.jsx(gw,{})}),t.jsx(De,{path:"/services",element:t.jsx(gw,{})}),t.jsx(De,{path:"/services/plumbing",element:t.jsx(CK,{})}),t.jsx(De,{path:"/services/electrical",element:t.jsx(TK,{})}),t.jsx(De,{path:"/services/cleaning",element:t.jsx(EK,{})}),t.jsx(De,{path:"/services/pest-control",element:t.jsx(PK,{})}),t.jsx(De,{path:"/services/ac-service",element:t.jsx(AK,{})}),t.jsx(De,{path:"/services/painting",element:t.jsx(RK,{})}),t.jsx(De,{path:"/emergency",element:t.jsx(o$,{})}),t.jsx(De,{path:"/book-service",element:t.jsx(l$,{})}),t.jsx(De,{path:"/track-booking",element:t.jsx(c$,{})}),t.jsx(De,{path:"/find-provider",element:t.jsx(jK,{})}),t.jsx(De,{path:"/support",element:t.jsx(NK,{})}),t.jsx(De,{path:"/communication-hub",element:t.jsx(LK,{})}),t.jsx(De,{path:"/advanced-map-tracking",element:t.jsx(FK,{})}),t.jsx(De,{path:"/video-call/:callId?",element:t.jsx(UK,{})}),t.jsx(De,{path:"/payment/select",element:t.jsx(bK,{})}),t.jsx(De,{path:"/payment/process",element:t.jsx(wK,{})}),t.jsx(De,{path:"/payment/success",element:t.jsx(SK,{})}),t.jsx(De,{path:"/payment/cod-confirmation",element:t.jsx(kK,{})}),t.jsx(De,{path:"/company/about",element:t.jsx($K,{})}),t.jsx(De,{path:"/company/careers",element:t.jsx(qK,{})}),t.jsx(De,{path:"/company/blog",element:t.jsx(zK,{})}),t.jsx(De,{path:"/company/press",element:t.jsx(WK,{})}),t.jsx(De,{path:"/company/partners",element:t.jsx(HK,{})}),t.jsx(De,{path:"/support/help-center",element:t.jsx(GK,{})}),t.jsx(De,{path:"/support/faq",element:t.jsx(KK,{})}),t.jsx(De,{path:"/support/terms",element:t.jsx(QK,{})}),t.jsx(De,{path:"/support/privacy",element:t.jsx(YK,{})}),t.jsx(De,{path:"/support/refund",element:t.jsx(JK,{})}),t.jsx(De,{path:"/support/sitemap",element:t.jsx(XK,{})}),t.jsx(De,{path:"/about",element:t.jsx(Q8,{})}),t.jsx(De,{path:"/contact",element:t.jsx(Y8,{})}),t.jsx(De,{path:"/terms",element:t.jsx(J8,{})}),t.jsx(De,{path:"/privacy",element:t.jsx(X8,{})}),t.jsx(De,{path:"/login",element:t.jsx(K8,{})}),t.jsx(De,{path:"/login/legacy",element:t.jsx(G8,{})}),t.jsx(De,{path:"/search",element:t.jsx(q9,{})}),t.jsx(De,{path:"/provider/:id",element:t.jsx(z9,{})}),t.jsx(De,{path:"/book/:serviceId",element:t.jsx(M8,{})}),t.jsx(De,{path:"/book/:serviceId/legacy",element:t.jsx(D8,{})}),t.jsx(De,{path:"/track/:bookingId",element:t.jsx(L8,{})}),t.jsx(De,{path:"/bookings",element:t.jsx(V8,{})}),t.jsx(De,{path:"/bookings/legacy",element:t.jsx(O8,{})}),t.jsx(De,{path:"/provider",element:t.jsx($8,{})}),t.jsx(De,{path:"/provider/legacy",element:t.jsx(U8,{})}),t.jsx(De,{path:"/admin",element:t.jsx(H8,{})}),t.jsx(De,{path:"/admin/legacy",element:t.jsx(W8,{})}),t.jsx(De,{path:"/profile",element:t.jsx(Z8,{})}),t.jsx(De,{path:"/profile/bookings",element:t.jsx(t$,{})}),t.jsx(De,{path:"/profile/bookings/legacy",element:t.jsx(e$,{})}),t.jsx(De,{path:"/profile/payments",element:t.jsx(n$,{})}),t.jsx(De,{path:"/profile/payments/legacy",element:t.jsx(s$,{})}),t.jsx(De,{path:"/profile/reviews",element:t.jsx(r$,{})}),t.jsx(De,{path:"/profile/reviews/legacy",element:t.jsx(i$,{})}),t.jsx(De,{path:"/profile/settings",element:t.jsx(a$,{})}),t.jsx(De,{path:"*",element:t.jsx(iC,{to:"/"})})]})})}),t.jsx(Q4,{}),t.jsx(J4,{})]})})})}Xf.createRoot(document.getElementById("root")).render(t.jsx(mx.StrictMode,{children:t.jsx(q4,{children:t.jsx(ZK,{})})}));
